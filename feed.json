{
    "version": "https://jsonfeed.org/version/1",
    "title": "é‘«é…±",
    "subtitle": "ç¬”è®°æœ¬",
    "icon": "https://allengx.gitee.io/images/favicon.ico",
    "description": "æ•´å¤©æ‘¸é±¼ï¼Œå´å¦„æƒ³æ‹¯æ•‘ä¸–ç•Œçš„æŠ€æœ¯å®…",
    "home_page_url": "https://allengx.gitee.io",
    "items": [
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E5%85%AB%E3%80%81%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E6%8A%80%E5%B7%A7/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E5%85%AB%E3%80%81%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E6%8A%80%E5%B7%A7/",
            "title": "å…«ã€è£…é¥°å™¨çš„æŠ€å·§",
            "date_published": "2020-11-11T12:55:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"è£…é¥°å™¨çš„æŠ€å·§\"><a class=\"anchor\" href=\"#è£…é¥°å™¨çš„æŠ€å·§\">#</a> è£…é¥°å™¨çš„æŠ€å·§ğŸ©</h2>\n<h3 id=\"å°è¯•ç”¨ç±»æ¥å®ç°è£…é¥°å™¨\"><a class=\"anchor\" href=\"#å°è¯•ç”¨ç±»æ¥å®ç°è£…é¥°å™¨\">#</a> å°è¯•ç”¨ç±»æ¥å®ç°è£…é¥°å™¨</h3>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> time</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> functools</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">DelayFunc</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>  duration<span class=\"token punctuation\">,</span> func<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        self<span class=\"token punctuation\">.</span>duration <span class=\"token operator\">=</span> duration</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        self<span class=\"token punctuation\">.</span>func <span class=\"token operator\">=</span> func</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__call__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Wait for </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>self<span class=\"token punctuation\">.</span>duration<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> seconds...'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>duration<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>func<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">eager_call</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Call without delay'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>func<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"è£…é¥°å™¨ï¼šæ¨è¿ŸæŸä¸ªå‡½æ•°çš„æ‰§è¡Œã€‚åŒæ—¶æä¾› .eager_call æ–¹æ³•ç«‹å³æ‰§è¡Œ</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\"># æ­¤å¤„ä¸ºäº†é¿å…å®šä¹‰é¢å¤–å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨ functools.partial å¸®åŠ©æ„é€ </span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\"># DelayFunc å®ä¾‹</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">return</span> functools<span class=\"token punctuation\">.</span>partial<span class=\"token punctuation\">(</span>DelayFunc<span class=\"token punctuation\">,</span> duration<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token decorator annotation punctuation\">@delay</span><span class=\"token punctuation\">(</span>duration<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\"># è¿™æ¬¡è°ƒç”¨å°†ä¼šå»¶è¿Ÿ 2 ç§’</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>add<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\"># è¿™æ¬¡è°ƒç”¨å°†ä¼šç«‹å³æ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>add<span class=\"token punctuation\">.</span>eager_call<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"ä½¿ç”¨-wrapt-æ¨¡å—ç¼–å†™æ›´æ‰å¹³çš„è£…é¥°å™¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨-wrapt-æ¨¡å—ç¼–å†™æ›´æ‰å¹³çš„è£…é¥°å™¨\">#</a> ä½¿ç”¨ wrapt æ¨¡å—ç¼–å†™æ›´æ‰å¹³çš„è£…é¥°å™¨</h3>\n<p>æœ‰æ—¶å€™è£…é¥°å™¨éœ€è¦ä¿®é¥° functionã€methodã€classmethod æ—¶ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å¯¹è£…é¥°å™¨è¿›è¡Œè°ƒæ•´ï¼Œæ¥é€‚åº”æ–°ç±»å‹çš„å‡½æ•°ã€‚</p>\n<p>è€Œ  <code>wrapt</code>  å¯ä»¥å¿«é€Ÿåœ°å¸®åŠ©æˆ‘ä»¬æ”¹é€ è£…é¥°å™¨ä»¥è¾¾åˆ°æ•ˆæœã€‚æ­¤å¤–ï¼Œä»–è¿˜é¢å¤–é™„åŠ äº† @functools.wraps () çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿä¿è¯æ­£ç¡®çš„å‡½æ•°ç­¾åã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> wrapt</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> random</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">provide_number</span><span class=\"token punctuation\">(</span>min_num<span class=\"token punctuation\">,</span> max_num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@wrapt<span class=\"token punctuation\">.</span>decorator</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">wrapper</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">,</span> instance<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\"># å‚æ•°å«ä¹‰ï¼š</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\"># - wrappedï¼šè¢«è£…é¥°çš„å‡½æ•°æˆ–ç±»æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\"># - instanceï¼š</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">#   - å¦‚æœè¢«è£…é¥°è€…ä¸ºæ™®é€šç±»æ–¹æ³•ï¼Œè¯¥å€¼ä¸ºç±»å®ä¾‹</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">#   - å¦‚æœè¢«è£…é¥°è€…ä¸º classmethod ç±»æ–¹æ³•ï¼Œè¯¥å€¼ä¸ºç±»</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">#   - å¦‚æœè¢«è£…é¥°è€…ä¸ºç±» / å‡½æ•° / é™æ€æ–¹æ³•ï¼Œè¯¥å€¼ä¸º None</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\"># - argsï¼šè°ƒç”¨æ—¶çš„ä½ç½®å‚æ•°ï¼ˆæ³¨æ„æ²¡æœ‰ * ç¬¦å·ï¼‰</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\"># - kwargsï¼šè°ƒç”¨æ—¶çš„å…³é”®å­—å‚æ•°ï¼ˆæ³¨æ„æ²¡æœ‰ ** ç¬¦å·ï¼‰</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        num <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span>min_num<span class=\"token punctuation\">,</span> max_num<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\"># æ— éœ€å…³æ³¨ wrapped æ˜¯ç±»æ–¹æ³•æˆ–æ™®é€šå‡½æ•°ï¼Œç›´æ¥åœ¨å¤´éƒ¨è¿½åŠ å‚æ•°</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        args <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> args</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">return</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">return</span> wrapper</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token decorator annotation punctuation\">@provide_number</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">print_random_number</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Foo</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@provide_number</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">print_random_number</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Foo_1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@provide_number</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@classmethod</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">print_random_number</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>print_random_number<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>Foo<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>print_random_number<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>Foo_1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>print_random_number<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"è£…é¥°å™¨å¹¶ä¸æ˜¯-è£…é¥°å™¨æ¨¡å¼\"><a class=\"anchor\" href=\"#è£…é¥°å™¨å¹¶ä¸æ˜¯-è£…é¥°å™¨æ¨¡å¼\">#</a> ã€Œè£…é¥°å™¨ã€å¹¶ä¸æ˜¯ ã€Œè£…é¥°å™¨æ¨¡å¼ã€</h3>\n<p>è£…é¥°å™¨åªæ˜¯è¯­æ³•ç³–ï¼Œè£…é¥°å™¨æ¨¡å¼æ›´åƒæ˜¯ golang é‡Œçš„ä¸­é—´ä»¶ã€‚é€šè¿‡å‡½æ•°çš„å±‚å±‚åŒ…è£¹è¾¾åˆ°æ‰©å±•åŠŸèƒ½çš„ç›®çš„ã€‚</p>\n<p>è¿™æ˜¯å› ä¸ºå¯¹è±¡æ­£åœ¨åŒ…å›´å…¶ä»–å¯¹è±¡ï¼Œå®ƒä»¬å…±äº«ç›¸ä¼¼çš„æ¥å£ï¼Œå¹¶ä¸”è£…é¥°å¯¹è±¡ä¼¼ä¹æ©ç›–æˆ–ä¿®æ”¹æˆ–æ³¨é‡Šäº†æ‰€åŒ…å›´çš„å¯¹è±¡ã€‚</p>\n<blockquote>\n<p>Hint: åœ¨ Python å®˜ç½‘ä¸Šæœ‰ä¸€ä¸ª <span class=\"exturl\" data-url=\"aHR0cHM6Ly93aWtpLnB5dGhvbi5vcmcvbW9pbi9EZWNvcmF0b3JQYXR0ZXJu\">å®ç°äº†è£…é¥°å™¨æ¨¡å¼çš„ä¾‹å­</span>ï¼Œä½ å¯ä»¥è¯»è¯»è¿™ä¸ªä¾‹å­æ¥æ›´å¥½çš„äº†è§£å®ƒã€‚</p>\n</blockquote>\n<h3 id=\"è®°å¾—ç”¨-functoolswraps-è£…é¥°å†…å±‚å‡½æ•°\"><a class=\"anchor\" href=\"#è®°å¾—ç”¨-functoolswraps-è£…é¥°å†…å±‚å‡½æ•°\">#</a> è®°å¾—ç”¨ functools.wraps () è£…é¥°å†…å±‚å‡½æ•°</h3>\n<p>ä¿è¯å‡½æ•°ä¿ç•™æ­£ç¡®çš„ç­¾åæœ‰æ—¶å€™å¯ä»¥é¿å…ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>\n<h3 id=\"ä¿®æ”¹å¤–å±‚å˜é‡æ—¶è®°å¾—ä½¿ç”¨-nonlocal\"><a class=\"anchor\" href=\"#ä¿®æ”¹å¤–å±‚å˜é‡æ—¶è®°å¾—ä½¿ç”¨-nonlocal\">#</a> ä¿®æ”¹å¤–å±‚å˜é‡æ—¶è®°å¾—ä½¿ç”¨ nonlocal</h3>\n<p>nonlocal å¯ä»¥ç”¨æ¥ä»€ä¹ˆä¸å±äº local ä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œè§£æå™¨ä¼šéµå¾ª LEGB çš„é¡ºåºè¿›è¡ŒæŸ¥æ‰¾ã€‚</p>\n<p>è€Œé»˜è®¤ä¸åœ¨ local ä½œç”¨åŸŸçš„å˜é‡æ˜¯åªè¯»çš„ï¼Œä¿®æ”¹åˆ™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>\n<p>nonlocal å¯ä»¥æ˜¾ç¤ºçš„æŠŠå˜é‡å£°æ˜ä¸ºã€Œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ã€ï¼ˆEï¼‰ã€‚ä»è€Œè®©ä¿®æ”¹å¾—ä»¥ç”Ÿæ•ˆã€‚</p>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%B8%83%E3%80%81%E5%9C%B0%E9%81%93%E7%9A%84%E5%BE%AA%E7%8E%AF/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%B8%83%E3%80%81%E5%9C%B0%E9%81%93%E7%9A%84%E5%BE%AA%E7%8E%AF/",
            "title": "ä¸ƒã€åœ°é“çš„å¾ªç¯",
            "date_published": "2020-11-11T11:54:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"åœ°é“çš„å¾ªç¯ï¸\"><a class=\"anchor\" href=\"#åœ°é“çš„å¾ªç¯ï¸\">#</a> åœ°é“çš„å¾ªç¯â™»ï¸</h2>\n<h3 id=\"ä½¿ç”¨å‡½æ•°ä¿®é¥°è¢«è¿­ä»£å¯¹è±¡æ¥ä¼˜åŒ–å¾ªç¯\"><a class=\"anchor\" href=\"#ä½¿ç”¨å‡½æ•°ä¿®é¥°è¢«è¿­ä»£å¯¹è±¡æ¥ä¼˜åŒ–å¾ªç¯\">#</a> ä½¿ç”¨å‡½æ•°ä¿®é¥°è¢«è¿­ä»£å¯¹è±¡æ¥ä¼˜åŒ–å¾ªç¯</h3>\n<ul>\n<li>ä½¿ç”¨ product æ‰å¹³åŒ–å¤šå±‚åµŒå¥—å¾ªç¯ï¼š <code>product()</code>  å¯ä»¥æ¥æ”¶å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç„¶åæ ¹æ®å®ƒä»¬çš„ç¬›å¡å°”ç§¯ä¸æ–­ç”Ÿæˆç»“æœ</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">product</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> repeat<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\"># product('ABCD', 'xy') --> Ax Ay Bx By Cx Cy Dx Dy</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\"># product(range(2), repeat=3) --> 000 001 010 011 100 101 110 111</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    pools <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">tuple</span><span class=\"token punctuation\">(</span>pool<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> pool <span class=\"token keyword\">in</span> args<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> repeat</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">for</span> pool <span class=\"token keyword\">in</span> pools<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x<span class=\"token operator\">+</span><span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> result <span class=\"token keyword\">for</span> y <span class=\"token keyword\">in</span> pool<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">for</span> prod <span class=\"token keyword\">in</span> result<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">yield</span> <span class=\"token builtin\">tuple</span><span class=\"token punctuation\">(</span>prod<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">find_twelve</span><span class=\"token punctuation\">(</span>num_list1<span class=\"token punctuation\">,</span> num_list2<span class=\"token punctuation\">,</span> num_list3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"ä» 3 ä¸ªæ•°å­—åˆ—è¡¨ä¸­ï¼Œå¯»æ‰¾æ˜¯å¦å­˜åœ¨å’Œä¸º 12 çš„ 3 ä¸ªæ•°\"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">for</span> num1 <span class=\"token keyword\">in</span> num_list1<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">for</span> num2 <span class=\"token keyword\">in</span> num_list2<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token keyword\">for</span> num3 <span class=\"token keyword\">in</span> num_list3<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token keyword\">if</span> num1 <span class=\"token operator\">+</span> num2 <span class=\"token operator\">+</span> num3 <span class=\"token operator\">==</span> <span class=\"token number\">12</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                    <span class=\"token keyword\">return</span> num1<span class=\"token punctuation\">,</span> num2<span class=\"token punctuation\">,</span> num3</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">from</span> itertools <span class=\"token keyword\">import</span> product</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">find_twelve_v2</span><span class=\"token punctuation\">(</span>num_list1<span class=\"token punctuation\">,</span> num_list2<span class=\"token punctuation\">,</span> num_list3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">for</span> num1<span class=\"token punctuation\">,</span> num2<span class=\"token punctuation\">,</span> num3 <span class=\"token keyword\">in</span> product<span class=\"token punctuation\">(</span>num_list1<span class=\"token punctuation\">,</span> num_list2<span class=\"token punctuation\">,</span> num_list3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">if</span> num1 <span class=\"token operator\">+</span> num2 <span class=\"token operator\">+</span> num3 <span class=\"token operator\">==</span> <span class=\"token number\">12</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token keyword\">return</span> num1<span class=\"token punctuation\">,</span> num2<span class=\"token punctuation\">,</span> num3</pre></td></tr></table></figure></div></details>\n<ul>\n<li>ä½¿ç”¨ islice å®ç°å¾ªç¯å†…éš”è¡Œå¤„ç†ï¼š <code>islice(seq, start, end, step)</code>  å‡½æ•°å’Œæ•°ç»„åˆ‡ç‰‡æ“ä½œï¼ˆ list [start:stop:step] ï¼‰ï¼Œæœ‰ç‚¹åƒ C é£æ ¼é‡Œçš„ <code>for</code></li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">islice</span><span class=\"token punctuation\">(</span>iterable<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\"># islice('ABCDEFG', 2) --> A B</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\"># islice('ABCDEFG', 2, 4) --> C D</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\"># islice('ABCDEFG', 2, None) --> C D E F G</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\"># islice('ABCDEFG', 0, None, 2) --> A C E G</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    s <span class=\"token operator\">=</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    start<span class=\"token punctuation\">,</span> stop<span class=\"token punctuation\">,</span> step <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>start <span class=\"token keyword\">or</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">.</span>stop <span class=\"token keyword\">or</span> sys<span class=\"token punctuation\">.</span>maxsize<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">.</span>step <span class=\"token keyword\">or</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    it <span class=\"token operator\">=</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">,</span> stop<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        nexti <span class=\"token operator\">=</span> <span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">except</span> StopIteration<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\"># Consume *iterable* up to the *start* position.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> element <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> iterable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> element <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>iterable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">if</span> i <span class=\"token operator\">==</span> nexti<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token keyword\">yield</span> element</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                nexti <span class=\"token operator\">=</span> <span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">except</span> StopIteration<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\"># Consume to *stop*.</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> element <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> stop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> iterable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token keyword\">pass</span></pre></td></tr></table></figure><details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">parse_titles</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"ä»éš”è¡Œæ•°æ®æ–‡ä»¶ä¸­è¯»å–å†…å®¹ \"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fp<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> line <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token keyword\">if</span> i <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token keyword\">yield</span> line<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#------------ good ------------          </span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">from</span> itertools <span class=\"token keyword\">import</span> islice</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">parse_titles_v2</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fp<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> islice<span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">yield</span> line<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<ul>\n<li>ä½¿ç”¨ takewhile æ›¿ä»£ break è¯­å¥ï¼š <code>takewhile(predicate, iterable)</code>  ä¼šåœ¨è¿­ä»£  <code>iterable</code>  çš„è¿‡ç¨‹ä¸­ä¸æ–­ä½¿ç”¨å½“å‰å¯¹è±¡ä½œä¸ºå‚æ•°è°ƒç”¨  <code>predicate</code>  å‡½æ•°å¹¶æµ‹è¯•è¿”å›ç»“æœï¼Œå¦‚æœå‡½æ•°è¿”å›å€¼ä¸ºçœŸï¼Œåˆ™ç”Ÿæˆå½“å‰å¯¹è±¡ï¼Œå¾ªç¯ç»§ç»­ã€‚å¦åˆ™ç«‹å³ä¸­æ–­å½“å‰å¾ªç¯ã€‚</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">takewhile</span><span class=\"token punctuation\">(</span>predicate<span class=\"token punctuation\">,</span> iterable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\"># takewhile(lambda x: x&lt;5, [1,4,6,4,1]) --> 1 4</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> iterable<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">if</span> predicate<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token keyword\">yield</span> x</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">break</span></pre></td></tr></table></figure><details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span> user <span class=\"token keyword\">in</span> users<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\"># å½“ç¬¬ä¸€ä¸ªä¸åˆæ ¼çš„ç”¨æˆ·å‡ºç°åï¼Œä¸å†è¿›è¡Œåé¢çš„å¤„ç†</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> is_qualified<span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">break</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\"># do something...</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#------------ good ------------  </span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">from</span> itertools <span class=\"token keyword\">import</span> takewhile</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">for</span> user <span class=\"token keyword\">in</span> takewhile<span class=\"token punctuation\">(</span>is_qualified<span class=\"token punctuation\">,</span> users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\"># do something...</span></pre></td></tr></table></figure></div></details>\n<ul>\n<li>ä½¿ç”¨ç”Ÿæˆå™¨ç¼–å†™è‡ªå·±çš„ä¿®é¥°å‡½æ•°</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">sum_even_only</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"å¯¹ numbers é‡Œé¢æ‰€æœ‰çš„å¶æ•°æ±‚å’Œ\"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    result <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> numbers<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span> num <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            result <span class=\"token operator\">+=</span> num</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> result</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">even_only</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> numbers<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">if</span> num <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">yield</span> num</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">sum_even_only_v2</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"å¯¹ numbers é‡Œé¢æ‰€æœ‰çš„å¶æ•°æ±‚å’Œ\"\"\"</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    result <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> even_only<span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        result <span class=\"token operator\">+=</span> num</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">return</span> result</pre></td></tr></table></figure></div></details>\n<h3 id=\"æŒ‰èŒè´£æ‹†è§£å¾ªç¯ä½“å†…å¤æ‚ä»£ç å—\"><a class=\"anchor\" href=\"#æŒ‰èŒè´£æ‹†è§£å¾ªç¯ä½“å†…å¤æ‚ä»£ç å—\">#</a> æŒ‰èŒè´£æ‹†è§£å¾ªç¯ä½“å†…å¤æ‚ä»£ç å—</h3>\n<p>å¾ªç¯å†…çš„å¾ˆå¤šæ“ä½œï¼Œå¯èƒ½æ¯«æ— å…³ç³»ï¼Œç”šè‡³å¾ªç¯æœ¬èº«å’Œé‡Œé¢çš„æ“ä½œå…³ç³»ä¹Ÿä¸å¤§ï¼Œè¿™ç§æ—¶å€™å¯ä»¥è€ƒè™‘è¿›è¡Œé€»è¾‘è§£è€¦ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> time</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> datetime</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">award_active_users_in_last_30days</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"è·å–æ‰€æœ‰åœ¨è¿‡å» 30 å¤©å‘¨æœ«æ™šä¸Š 8 ç‚¹åˆ° 10 ç‚¹ç™»å½•è¿‡çš„ç”¨æˆ·ï¼Œä¸ºå…¶å‘é€å¥–åŠ±ç§¯åˆ†å’Œé€šçŸ¥\"\"\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    days <span class=\"token operator\">=</span> <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">for</span> days_delta <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>days<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        dt <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span>days_delta<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\"># 5: Saturday, 6: Sunday</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">if</span> dt<span class=\"token punctuation\">.</span>weekday<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        time_start <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>day<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        time_end <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>day<span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\"># è½¬æ¢ä¸º unix æ—¶é—´æˆ³ï¼Œä¹‹åçš„ ORM æŸ¥è¯¢éœ€è¦</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        ts_start <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>mktime<span class=\"token punctuation\">(</span>time_start<span class=\"token punctuation\">.</span>timetuple<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        ts_end <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>mktime<span class=\"token punctuation\">(</span>time_end<span class=\"token punctuation\">.</span>timetuple<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\"># æŸ¥è¯¢ç”¨æˆ·å¹¶æŒ¨ä¸ªå‘é€ 1000 å¥–åŠ±ç§¯åˆ†å’Œé€šçŸ¥</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">for</span> record <span class=\"token keyword\">in</span> LoginRecord<span class=\"token punctuation\">.</span>filter_by_range<span class=\"token punctuation\">(</span>ts_start<span class=\"token punctuation\">,</span> ts_end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token comment\"># è¿™é‡Œå¯ä»¥æ·»åŠ å¤æ‚é€»è¾‘</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            send_awarding_points<span class=\"token punctuation\">(</span>record<span class=\"token punctuation\">.</span>user_id<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            notify_nonsleep_users<span class=\"token punctuation\">(</span>record<span class=\"token punctuation\">.</span>user_id<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">gen_weekend_ts_ranges</span><span class=\"token punctuation\">(</span>days_ago<span class=\"token punctuation\">,</span> hour_start<span class=\"token punctuation\">,</span> hour_end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"ç”Ÿæˆè¿‡å»ä¸€æ®µæ—¶é—´å†…å‘¨å…­æ—¥ç‰¹å®šæ—¶é—´æ®µèŒƒå›´ï¼Œå¹¶ä»¥ UNIX æ—¶é—´æˆ³è¿”å›\"\"\"</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">for</span> days_delta <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>days_ago<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        dt <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span>days_delta<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\"># 5: Saturday, 6: Sunday</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">if</span> dt<span class=\"token punctuation\">.</span>weekday<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        time_start <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>day<span class=\"token punctuation\">,</span> hour_start<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        time_end <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>day<span class=\"token punctuation\">,</span> hour_end<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token comment\"># è½¬æ¢ä¸º unix æ—¶é—´æˆ³ï¼Œä¹‹åçš„ ORM æŸ¥è¯¢éœ€è¦</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        ts_start <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>mktime<span class=\"token punctuation\">(</span>time_start<span class=\"token punctuation\">.</span>timetuple<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        ts_end <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>mktime<span class=\"token punctuation\">(</span>time_end<span class=\"token punctuation\">.</span>timetuple<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">yield</span> ts_start<span class=\"token punctuation\">,</span> ts_end</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">award_active_users_in_last_30days_v2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"å‘é€å¥–åŠ±ç§¯åˆ†\"\"\"</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">for</span> ts_start<span class=\"token punctuation\">,</span> ts_end <span class=\"token keyword\">in</span> gen_weekend_ts_ranges<span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> hour_start<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> hour_end<span class=\"token operator\">=</span><span class=\"token number\">23</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token keyword\">for</span> record <span class=\"token keyword\">in</span> LoginRecord<span class=\"token punctuation\">.</span>filter_by_range<span class=\"token punctuation\">(</span>ts_start<span class=\"token punctuation\">,</span> ts_end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            send_awarding_points<span class=\"token punctuation\">(</span>record<span class=\"token punctuation\">.</span>user_id<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">notify_nonsleep_users_in_last_30days</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"å‘é€é€šçŸ¥\"\"\"</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">for</span> ts_start<span class=\"token punctuation\">,</span> ts_end <span class=\"token keyword\">in</span> gen_weekend_ts_range<span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> hour_start<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> hour_end<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token keyword\">for</span> record <span class=\"token keyword\">in</span> LoginRecord<span class=\"token punctuation\">.</span>filter_by_range<span class=\"token punctuation\">(</span>ts_start<span class=\"token punctuation\">,</span> ts_end<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            notify_user<span class=\"token punctuation\">(</span>record<span class=\"token punctuation\">.</span>user_id<span class=\"token punctuation\">,</span> <span class=\"token string\">'You should sleep more'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E5%85%AD%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E5%85%AD%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/",
            "title": "å…­ã€å¼‚å¸¸å¤„ç†",
            "date_published": "2020-11-11T08:39:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"å¼‚å¸¸å¤„ç†ï¸\"><a class=\"anchor\" href=\"#å¼‚å¸¸å¤„ç†ï¸\">#</a> å¼‚å¸¸å¤„ç†â—ï¸</h2>\n<h3 id=\"åªåšæœ€ç²¾ç¡®çš„å¼‚å¸¸æ•è·\"><a class=\"anchor\" href=\"#åªåšæœ€ç²¾ç¡®çš„å¼‚å¸¸æ•è·\">#</a> åªåšæœ€ç²¾ç¡®çš„å¼‚å¸¸æ•è·</h3>\n<p>æ•è·å¼‚å¸¸å¹¶ä¸æ˜¯ä¸ºäº†è®©ä½ çš„ä»£ç ä¸æç¤ºå¼‚å¸¸ï¼Œè€Œæ˜¯ä¸ºäº†è§£å†³ä½ å·²ç»è®¾æƒ³è¿‡çš„å¼‚å¸¸ã€‚</p>\n<p>å¦‚æœä¸€ä¸ªå¼‚å¸¸å¹¶ä¸åœ¨ä½ çš„æ€è€ƒèŒƒå›´å†…ï¼Œé‚£ä¹ˆå¯¹å¼‚å¸¸çš„å¤„ç†æ‰‹æ®µå¾€å¾€ä¹Ÿä¼šä¸é‚£ä¹ˆæœ‰æ•ˆï¼Œæ‰€ä»¥å°½æ—©æš´éœ²å‡ºæ¥ä¸ºå¥½ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token comment\"># ... å…¶ä»–é€»è¾‘ä»£ç </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fp<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\tfp<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">except</span> Exception<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'save failed: unable to save title of </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>url<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> to </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>filename<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fp<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\tfp<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">except</span> IOError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'save failed: unable to write to file </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>filename<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"åˆ«è®©å¼‚å¸¸ç ´åæŠ½è±¡ä¸€è‡´æ€§\"><a class=\"anchor\" href=\"#åˆ«è®©å¼‚å¸¸ç ´åæŠ½è±¡ä¸€è‡´æ€§\">#</a> åˆ«è®©å¼‚å¸¸ç ´åæŠ½è±¡ä¸€è‡´æ€§</h3>\n<p>å¼‚å¸¸çš„å†…å®¹æˆ–è€…è¯´å¼‚å¸¸æœ¬èº«çš„æŠ½è±¡åº”è¯¥ç¬¦åˆå½“æ—¶çš„ä½¿ç”¨åœºæ™¯ã€‚</p>\n<p>ä¾‹å¦‚ä¸€ä¸ªåŠ è½½æ–‡ä»¶æ“ä½œè¿”å›çš„å¼‚å¸¸æœ€å¥½æ˜¯æ–‡ä»¶åŠ è½½å¤±è´¥è€Œä¸æ˜¯ IO å¤±è´¥ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">process_image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">except</span> Exception<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">raise</span> error_codes<span class=\"token punctuation\">.</span>INVALID_IMAGE_UPLOADED</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">process_image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">raise</span> ImageOpenError<span class=\"token punctuation\">(</span>exc<span class=\"token operator\">=</span>e<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">foo_view_function</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        process_image<span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">except</span> ImageOpenError<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">raise</span> error_codes<span class=\"token punctuation\">.</span>INVALID_IMAGE_UPLOADED</pre></td></tr></table></figure></div></details>\n<h3 id=\"å¼‚å¸¸å¤„ç†ä¸åº”è¯¥å–§å®¾å¤ºä¸»\"><a class=\"anchor\" href=\"#å¼‚å¸¸å¤„ç†ä¸åº”è¯¥å–§å®¾å¤ºä¸»\">#</a> å¼‚å¸¸å¤„ç†ä¸åº”è¯¥å–§å®¾å¤ºä¸»</h3>\n<p>å¯¹ä¸åŒçš„å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œä¼šå¯¼è‡´<strong>å¼‚å¸¸å¤„ç†é€»è¾‘å¤ªå¤šï¼Œä»¥è‡³äºæ‰°ä¹±äº†ä»£ç æ ¸å¿ƒé€»è¾‘</strong></p>\n<p>å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆcontext managerï¼‰æ¥è¿›è¡Œè§£å†³ï¼Œé€šè¿‡ with å…³é”®å­—ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">raise_api_error</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> captures<span class=\"token punctuation\">,</span> code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        self<span class=\"token punctuation\">.</span>captures <span class=\"token operator\">=</span> captures</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        self<span class=\"token punctuation\">.</span>code <span class=\"token operator\">=</span> code</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__enter__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\"># è¯¥æ–¹æ³•å°†åœ¨è¿›å…¥ä¸Šä¸‹æ–‡æ—¶è°ƒç”¨</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> self</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__exit__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> exc_type<span class=\"token punctuation\">,</span> exc_val<span class=\"token punctuation\">,</span> exc_tb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\"># è¯¥æ–¹æ³•å°†åœ¨é€€å‡ºä¸Šä¸‹æ–‡æ—¶è°ƒç”¨</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\"># exc_type, exc_val, exc_tb åˆ†åˆ«è¡¨ç¤ºè¯¥ä¸Šä¸‹æ–‡å†…æŠ›å‡ºçš„</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\"># å¼‚å¸¸ç±»å‹ã€å¼‚å¸¸å€¼ã€é”™è¯¯æ ˆ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">if</span> exc_type <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">if</span> exc_type <span class=\"token operator\">==</span> self<span class=\"token punctuation\">.</span>captures<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">raise</span> self<span class=\"token punctuation\">.</span>code <span class=\"token keyword\">from</span> exc_val</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">with</span> raise_api_error<span class=\"token punctuation\">(</span>KeyError<span class=\"token punctuation\">,</span> MyException<span class=\"token punctuation\">(</span><span class=\"token string\">\"do something fail with KeyError\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t<span class=\"token comment\"># do something...</span></pre></td></tr></table></figure><details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">upload_avatar</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"ç”¨æˆ·ä¸Šä¼ æ–°å¤´åƒ\"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        avatar_file <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>FILES<span class=\"token punctuation\">[</span><span class=\"token string\">'avatar'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">except</span> KeyError<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">raise</span> error_codes<span class=\"token punctuation\">.</span>AVATAR_FILE_NOT_PROVIDED</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>       resized_avatar_file <span class=\"token operator\">=</span> resize_avatar<span class=\"token punctuation\">(</span>avatar_file<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">except</span> FileTooLargeError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">raise</span> error_codes<span class=\"token punctuation\">.</span>AVATAR_FILE_TOO_LARGE</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">except</span> ResizeAvatarError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">raise</span> error_codes<span class=\"token punctuation\">.</span>AVATAR_FILE_INVALID</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        request<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>avatar <span class=\"token operator\">=</span> resized_avatar_file</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        request<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">except</span> Exception<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">raise</span> error_codes<span class=\"token punctuation\">.</span>INTERNAL_SERVER_ERROR</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">upload_avatar</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"ç”¨æˆ·ä¸Šä¼ æ–°å¤´åƒ\"\"\"</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">with</span> raise_api_error<span class=\"token punctuation\">(</span>KeyError<span class=\"token punctuation\">,</span> <span class=\"token string\">'AVATAR_FILE_NOT_PROVIDED'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        avatar_file <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>FILES<span class=\"token punctuation\">[</span><span class=\"token string\">'avatar'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">with</span> raise_api_error<span class=\"token punctuation\">(</span>ResizeAvatarError<span class=\"token punctuation\">,</span> <span class=\"token string\">'AVATAR_FILE_INVALID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\\</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            raise_api_error<span class=\"token punctuation\">(</span>FileTooLargeError<span class=\"token punctuation\">,</span> <span class=\"token string\">'AVATAR_FILE_TOO_LARGE'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        resized_avatar_file <span class=\"token operator\">=</span> resize_avatar<span class=\"token punctuation\">(</span>avatar_file<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">with</span> raise_api_error<span class=\"token punctuation\">(</span>Exception<span class=\"token punctuation\">,</span> <span class=\"token string\">'INTERNAL_SERVER_ERROR'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        request<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>avatar <span class=\"token operator\">=</span> resized_avatar_file</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        request<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%BA%94%E3%80%81%E8%AE%A9%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84%E6%8A%80%E5%B7%A7/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%BA%94%E3%80%81%E8%AE%A9%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84%E6%8A%80%E5%B7%A7/",
            "title": "äº”ã€è®©å‡½æ•°è¿”å›ç»“æœçš„æŠ€å·§",
            "date_published": "2020-11-10T13:39:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"å‡½æ•°è¿”å›ç»“æœ\"><a class=\"anchor\" href=\"#å‡½æ•°è¿”å›ç»“æœ\">#</a> å‡½æ•°è¿”å›ç»“æœğŸ’</h2>\n<h3 id=\"å•ä¸ªå‡½æ•°åªè¿”å›å•ä¸ªç±»å‹ç»“æœ\"><a class=\"anchor\" href=\"#å•ä¸ªå‡½æ•°åªè¿”å›å•ä¸ªç±»å‹ç»“æœ\">#</a> å•ä¸ªå‡½æ•°åªè¿”å›å•ä¸ªç±»å‹ç»“æœ</h3>\n<ul>\n<li>ä¸€ä¸ªå‡½æ•°çš„è¿”å›ç±»å‹å¦‚æœæ— æ³•ç¡®å®šï¼Œé‚£ä¹ˆä¸å¦‚æ‹†æˆå¤šä¸ªã€‚</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">get_users</span><span class=\"token punctuation\">(</span>user_id<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">if</span> user_id <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span> User<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>user_id<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">return</span> User<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>is_active<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">get_one_user</span><span class=\"token punctuation\">(</span>user_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">return</span> User<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>user_id<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">get_users</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token keyword\">return</span> User<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>is_active<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"é€‚å½“-partial-æ„é€ æ–°å‡½æ•°\"><a class=\"anchor\" href=\"#é€‚å½“-partial-æ„é€ æ–°å‡½æ•°\">#</a> é€‚å½“ partial æ„é€ æ–°å‡½æ•°</h3>\n<ul>\n<li>partial å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„åŒ…è£…å‡½æ•°å’Œå‚æ•°ï¼Œä½¿å¾—ä¸€äº›å‚æ•°å†…å®¹å¯ä»¥é€šè¿‡å‡½æ•°ä¼ é€’ã€‚</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> y</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">double</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\"># è¿”å›å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨ç»“æœ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">return</span> multiply<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> functools</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>double <span class=\"token operator\">=</span> functools<span class=\"token punctuation\">.</span>partial<span class=\"token punctuation\">(</span>multiply<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<blockquote>\n<p>éœ€è¦çƒ­æ›´æ–°çš„æƒ…å†µä¸‹ï¼Œå°½é‡é¿å…ä½¿ç”¨ partialï¼Œå› ä¸º partial åŒ…è£¹çš„å‡½æ•°å‚æ•°å¾€å¾€æ— æ³•è¢«æ›´æ–°åˆ°ã€‚</p>\n</blockquote>\n<h3 id=\"æŠ›å‡ºå¼‚å¸¸-or-è¿”å›é”™è¯¯ç \"><a class=\"anchor\" href=\"#æŠ›å‡ºå¼‚å¸¸-or-è¿”å›é”™è¯¯ç \">#</a> æŠ›å‡ºå¼‚å¸¸ or è¿”å›é”™è¯¯ç </h3>\n<p>è¿”å›å€¼é‡ŒåŒ…å«è¿”å›å†…å®¹å’Œæ‰§è¡Œç»“æœå¾€å¾€æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†è¿™ç§åšæ³•ä¸å¤Ÿ pythonicï¼Œä½¿ç”¨å¼‚å¸¸æœ‰æ—¶å€™èƒ½å¤Ÿè®©ä»£ç å˜å¾—æ›´ç»Ÿä¸€</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ goic ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">create_item</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> MAX_LENGTH_OF_NAME<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'name of item is too long'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>CURRENT_ITEMS<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> MAX_ITEMS_QUOTA<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'items is full'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">return</span> Item<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#------------ pythonic ------------</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">create_item</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> MAX_LENGTH_OF_NAME<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">raise</span> CreateItemError<span class=\"token punctuation\">(</span><span class=\"token string\">'name of item is too long'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>CURRENT_ITEMS<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> MAX_ITEMS_QUOTA<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">raise</span> CreateItemError<span class=\"token punctuation\">(</span><span class=\"token string\">'items is full'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">return</span> Item<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span>name<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°ä»£æ›¿è¿”å›åˆ—è¡¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°ä»£æ›¿è¿”å›åˆ—è¡¨\">#</a> ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°ä»£æ›¿è¿”å›åˆ—è¡¨</h3>\n<p>è¿™ä¸ªä»è€…è§ä»æ™ºè€…è§æ™ºäº†ï¼Œæœ€å¼€å§‹ä½¿ç”¨å¯èƒ½ä¼šæœ‰äº›å˜æ‰­ï¼Œä¸è¿‡ç¡®å®èƒ½å¤Ÿè®©ä»£ç å˜å¾—æ›´åŠ ç¾è§‚ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">foo_func</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> items<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token comment\"># ... å¤„ç† item åç›´æ¥ä½¿ç”¨ yield è¿”å›</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">yield</span> item</pre></td></tr></table></figure><h3 id=\"é™åˆ¶é€’å½’çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#é™åˆ¶é€’å½’çš„ä½¿ç”¨\">#</a> é™åˆ¶é€’å½’çš„ä½¿ç”¨</h3>\n<ul>\n<li>python å¯¹äºé€’å½’çš„æ”¯æŒæœ‰é™ï¼ŒPython è¯­è¨€ä¸æ”¯æŒ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVGFpbF9jYWxs\"> â€œå°¾é€’å½’ä¼˜åŒ–â€</span>ï¼Œä¸”å¯¹äºé€’å½’å±‚æ•°æœ‰é™åˆ¶ã€‚</li>\n<li>é€’å½’æœ¬èº«å¯¹äºä»£ç çš„é˜…è¯»å’Œè°ƒè¯•ä¹Ÿæ˜¯ä»¤äººå¤´ç–¼çš„é—®é¢˜ã€‚</li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E5%9B%9B%E3%80%81%E5%AE%B9%E5%99%A8%E7%9A%84%E9%97%A8%E9%81%93/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E5%9B%9B%E3%80%81%E5%AE%B9%E5%99%A8%E7%9A%84%E9%97%A8%E9%81%93/",
            "title": "å››ã€å®¹å™¨çš„é—¨é“",
            "date_published": "2020-11-09T08:04:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"å®¹å™¨çš„é—¨é“\"><a class=\"anchor\" href=\"#å®¹å™¨çš„é—¨é“\">#</a> å®¹å™¨çš„é—¨é“ğŸ¼</h2>\n<h3 id=\"è¿­ä»£å™¨æ›¿ä»£åˆ—è¡¨\"><a class=\"anchor\" href=\"#è¿­ä»£å™¨æ›¿ä»£åˆ—è¡¨\">#</a> è¿­ä»£å™¨æ›¿ä»£åˆ—è¡¨</h3>\n<p>ç›¸æ¯”äºåˆ—è¡¨åœ¨æ¯æ¬¡éå†å‰ï¼ŒæŠŠæ‰€æœ‰æ•°æ®å‡†å¤‡å¥½æ¥è¯´ã€‚ä½¿ç”¨è¿­ä»£å™¨å°±åƒæ˜¯ã€Œèµ¶é¸­å­ã€ï¼Œä½ çš„é­ç­–æ˜¯å®ƒå‰è¿›çš„åŠ¨åŠ›ã€‚è¿™æ ·å¯ä»¥è®©ä»£ç çš„è¿è¡Œå˜å¾—å¹³æ»‘ï¼ˆå‡å°å³°å€¼ï¼‰ï¼Œå¹¶ä¸”é™ä½å†…å­˜æ¶ˆè€—ã€‚</p>\n<ul>\n<li>\n<p>ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼š <code>(i for i in range(100))</code>  ğŸ‘</p>\n</li>\n<li>\n<p>åˆ—è¡¨æ¨å¯¼è¡¨è¾¾å¼ï¼š <code>[i for i in range(100)]</code></p>\n</li>\n</ul>\n<h3 id=\"åˆç†ä½¿ç”¨åŒç«¯é˜Ÿåˆ—deque\"><a class=\"anchor\" href=\"#åˆç†ä½¿ç”¨åŒç«¯é˜Ÿåˆ—deque\">#</a> åˆç†ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ã€Œdequeã€</h3>\n<ul>\n<li>å¯¹å¤´éƒ¨çš„æ’å…¥åˆ é™¤æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O (1)ï¼Œæ¯”  <code>list</code>  å¯åˆ’ç®—å¤šäº†</li>\n</ul>\n<h3 id=\"æŸ¥æ‰¾æ“ä½œå»ºè®®ä½¿ç”¨-setdict\"><a class=\"anchor\" href=\"#æŸ¥æ‰¾æ“ä½œå»ºè®®ä½¿ç”¨-setdict\">#</a> æŸ¥æ‰¾æ“ä½œå»ºè®®ä½¿ç”¨  <code>set/dict</code></h3>\n<ul>\n<li>ä¸¤è€…éƒ½æ˜¯åŸºäº  <code>hashtable</code>  ï¼ŒæŸ¥æ‰¾æ—¶å¤æ‚åº¦æ˜¯ O (1)ï¼Œç›¸æ¯”äº  <code>list</code>  æ¥è¯´å¯å¿«å¤ªå¤šäº†ã€‚</li>\n<li>æœ‰å…³å„ä¸ªæ•°æ®ç»“æ„æ—¶é—´å¤æ‚åº¦çš„æè¿°ï¼š <span class=\"exturl\" data-url=\"aHR0cHM6Ly93aWtpLnB5dGhvbi5vcmcvbW9pbi9UaW1lQ29tcGxleGl0eQ==\">TimeComplexity - Python Wiki</span></li>\n<li>Raymond Hettinger çš„æ¼”è®² <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1wMzNDVlYyOU9HOCZhbXA7dD0xNDAzcw==\">Modern Dictionaries(YouTube)</span></li>\n</ul>\n<h3 id=\"é«˜å±‚çœ‹å®¹å™¨\"><a class=\"anchor\" href=\"#é«˜å±‚çœ‹å®¹å™¨\">#</a> é«˜å±‚çœ‹å®¹å™¨</h3>\n<ul>\n<li>å®¹å™¨å…¶å®å°±æ˜¯å¤šä¸ªæ¥å£å®ç°çš„é›†åˆï¼š\n<ul>\n<li><strong>åˆ—è¡¨ï¼ˆlistï¼‰</strong>ï¼šæ»¡è¶³  <code>Iterable</code> ã€ <code>Sequence</code> ã€ <code>MutableSequence</code>  ç­‰æ¥å£</li>\n<li><strong>å…ƒç»„ï¼ˆtupleï¼‰</strong>ï¼šæ»¡è¶³  <code>Iterable</code> ã€ <code>Sequence</code></li>\n<li><strong>å­—å…¸ï¼ˆdictï¼‰</strong>ï¼šæ»¡è¶³  <code>Iterable</code> ã€ <code>Mapping</code> ã€ <code>MutableMapping</code></li>\n<li><strong>é›†åˆï¼ˆsetï¼‰</strong>ï¼šæ»¡è¶³  <code>Iterable</code> ã€ <code>Set</code> ã€ <code>MutableSet</code></li>\n</ul>\n</li>\n<li>é¢å‘æ¥å£ç¼–ç¨‹ï¼Œ<strong>æ›´å¤šçš„å…³æ³¨å®¹å™¨çš„æŠ½è±¡å±æ€§ï¼Œè€Œéå®¹å™¨ç±»å‹æœ¬èº«</strong>ã€‚</li>\n</ul>\n<h3 id=\"ä½¿ç”¨å…ƒç»„æ”¹å–„åˆ†æ”¯ä»£ç \"><a class=\"anchor\" href=\"#ä½¿ç”¨å…ƒç»„æ”¹å–„åˆ†æ”¯ä»£ç \">#</a> ä½¿ç”¨å…ƒç»„æ”¹å–„åˆ†æ”¯ä»£ç </h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">from_now</span><span class=\"token punctuation\">(</span>ts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"æ¥æ”¶ä¸€ä¸ªè¿‡å»çš„æ—¶é—´æˆ³ï¼Œè¿”å›è·ç¦»å½“å‰æ—¶é—´çš„ç›¸å¯¹æ—¶é—´æ–‡å­—æè¿°</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    now <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    seconds_delta <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>now <span class=\"token operator\">-</span> ts<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> seconds_delta <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"less than 1 second ago\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">elif</span> seconds_delta <span class=\"token operator\">&lt;</span> <span class=\"token number\">60</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"&#123;&#125; seconds ago\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>seconds_delta<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">elif</span> seconds_delta <span class=\"token operator\">&lt;</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"&#123;&#125; minutes ago\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>seconds_delta <span class=\"token operator\">//</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">elif</span> seconds_delta <span class=\"token operator\">&lt;</span> <span class=\"token number\">3600</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"&#123;&#125; hours ago\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>seconds_delta <span class=\"token operator\">//</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"&#123;&#125; days ago\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>seconds_delta <span class=\"token operator\">//</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3600</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">import</span> bisect</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># BREAKPOINTS å¿…é¡»æ˜¯å·²ç»æ’å¥½åºçš„ï¼Œä¸ç„¶æ— æ³•è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>BREAKPOINTS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>TMPLS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\"># unit, template</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"less than 1 second ago\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&#123;units&#125; seconds ago\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&#123;units&#125; minutes ago\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">3600</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&#123;units&#125; hours ago\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token number\">3600</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&#123;units&#125; days ago\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">from_now</span><span class=\"token punctuation\">(</span>ts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"æ¥æ”¶ä¸€ä¸ªè¿‡å»çš„æ—¶é—´æˆ³ï¼Œè¿”å›è·ç¦»å½“å‰æ—¶é—´çš„ç›¸å¯¹æ—¶é—´æ–‡å­—æè¿°</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    seconds_delta <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> ts<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    unit<span class=\"token punctuation\">,</span> tmpl <span class=\"token operator\">=</span> TMPLS<span class=\"token punctuation\">[</span>bisect<span class=\"token punctuation\">.</span>bisect<span class=\"token punctuation\">(</span>BREAKPOINTS<span class=\"token punctuation\">,</span> seconds_delta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">return</span> tmpl<span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>units<span class=\"token operator\">=</span>seconds_delta <span class=\"token operator\">//</span> unit<span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"åˆç†ä½¿ç”¨\"><a class=\"anchor\" href=\"#åˆç†ä½¿ç”¨\">#</a> åˆç†ä½¿ç”¨  <code>*</code> ã€ <code>**</code></h3>\n<ul>\n<li>å¿«é€Ÿåˆå¹¶ä¸¤ä¸ªå­—å…¸   <code>dict(**dict_1, **dict_2)</code></li>\n</ul>\n<h3 id=\"ä½¿ç”¨-next-æ¥è¿›è¡Œéå†\"><a class=\"anchor\" href=\"#ä½¿ç”¨-next-æ¥è¿›è¡Œéå†\">#</a> ä½¿ç”¨ next () æ¥è¿›è¡Œéå†</h3>\n<ul>\n<li><code>next()</code>  æ¥æ”¶ä¸€ä¸ªè¿­ä»£å™¨ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›è¯¥è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å¯ä»¥å®ç°é«˜æ•ˆçš„æŸ¥è¯¢ã€‚</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">if</span> i <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># OUTPUT: 8</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"ä½¿ç”¨æœ‰åºå­—æ®µå®ç°å»é‡\"><a class=\"anchor\" href=\"#ä½¿ç”¨æœ‰åºå­—æ®µå®ç°å»é‡\">#</a> ä½¿ç”¨æœ‰åºå­—æ®µå®ç°å»é‡</h3>\n<ul>\n<li>å¸¸è§„å»é‡è¿‡ç¨‹ä¸­ä¼šæŠŠæˆå‘˜åŸæœ¬çš„é¡ºåºæ‰“ä¹±ï¼Œè¿™é‡Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æœ‰åºå­—å…¸æ¥é¿å…è¯¥é—®é¢˜äº§ç”Ÿ</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># OUTPUT: &#123;3, 10, 2, 21&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> OrderedDict</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>OrderedDict<span class=\"token punctuation\">.</span>fromkeys<span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># OUTPUT: [10, 2, 3, 21]</span></pre></td></tr></table></figure></div></details>\n<blockquote>\n<p>åœ¨ Python 3.6 ä¸­ï¼Œå­—å…¸å·²ç»å˜æˆæœ‰åºçš„äº†ã€‚å¹¶ä¸”åœ¨ Python 3.7 ä¸­ï¼Œè¯¥åŠŸèƒ½å·²ç»ä» <strong>è¯­è¨€çš„å®ç°ç»†èŠ‚</strong> å˜æˆäº†ä¸º <strong>å¯ä¾èµ–çš„æ­£å¼è¯­è¨€ç‰¹æ€§</strong>ã€‚</p>\n</blockquote>\n<h2 id=\"ç”Ÿè¯è¡¨\"><a class=\"anchor\" href=\"#ç”Ÿè¯è¡¨\">#</a> ç”Ÿè¯è¡¨</h2>\n<ul>\n<li>siphash ç®—æ³•</li>\n<li>compact dict</li>\n<li>key-sharing dict</li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%97%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%97%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2/",
            "title": "ä¸‰ã€æ•°å­—ä¸å­—ç¬¦ä¸²",
            "date_published": "2020-11-06T08:04:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"æ•°å­—ä¸å­—ç¬¦ä¸²ï¸\"><a class=\"anchor\" href=\"#æ•°å­—ä¸å­—ç¬¦ä¸²ï¸\">#</a> æ•°å­—ä¸å­—ç¬¦ä¸²âœ’ï¸</h2>\n<h3 id=\"å°‘å†™æ•°å­—å­—é¢é‡ç”¨enumå–è€Œä»£ä¹‹\"><a class=\"anchor\" href=\"#å°‘å†™æ•°å­—å­—é¢é‡ç”¨enumå–è€Œä»£ä¹‹\">#</a> å°‘å†™æ•°å­—å­—é¢é‡ï¼Œç”¨ã€ŒEnumã€å–è€Œä»£ä¹‹</h3>\n<h3 id=\"é¿å…å¤§è§„æ¨¡ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å»æ„é€ æŒ‡ä»¤\"><a class=\"anchor\" href=\"#é¿å…å¤§è§„æ¨¡ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å»æ„é€ æŒ‡ä»¤\">#</a> é¿å…å¤§è§„æ¨¡ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å»æ„é€ æŒ‡ä»¤</h3>\n<ul>\n<li>è¯·è€ƒè™‘ä½¿ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³å¯¹å…¶ä¼˜åŒ–</li>\n<li>æˆ–è€…çœ‹çœ‹æœ‰æ²¡æœ‰å·²ç»èƒ½å¤Ÿå¸®ä½ å®Œæˆè¿™é¡¹ä»»åŠ¡çš„ä»£ç åº“</li>\n<li>æ¨¡æ¿å¼•æ“æœ‰æ—¶ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œç›¸æ¯”äºã€Œæ‹¼æ¥ã€ï¼Œã€Œé€‰è¯å¡«ç©ºã€æ‰æ˜¯å¥½é€‰æ‹©ğŸ™‚</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">fetch_users</span><span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> min_level<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> gender<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> has_membership<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> sort_field<span class=\"token operator\">=</span><span class=\"token string\">\"created\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"è·å–ç”¨æˆ·åˆ—è¡¨</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    :param int min_level: è¦æ±‚çš„æœ€ä½ç”¨æˆ·çº§åˆ«ï¼Œé»˜è®¤ä¸ºæ‰€æœ‰çº§åˆ«</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    :param int gender: ç­›é€‰ç”¨æˆ·æ€§åˆ«ï¼Œé»˜è®¤ä¸ºæ‰€æœ‰æ€§åˆ«</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    :param int has_membership: ç­›é€‰æ‰€æœ‰ä¼šå‘˜/éä¼šå‘˜ç”¨æˆ·ï¼Œé»˜è®¤éä¼šå‘˜</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    :param str sort_field: æ’åºå­—æ®µï¼Œé»˜è®¤ä¸ºæŒ‰ created \"ç”¨æˆ·åˆ›å»ºæ—¥æœŸ\"</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    :returns: åˆ—è¡¨ï¼š[(User ID, User Name), ...]</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\"># ä¸€ç§å¤è€çš„ SQL æ‹¼æ¥æŠ€å·§ï¼Œä½¿ç”¨ \"WHERE 1=1\" æ¥ç®€åŒ–å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œ</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\"># åŒºåˆ†æŸ¥è¯¢ params æ¥é¿å… SQL æ³¨å…¥é—®é¢˜</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    statement <span class=\"token operator\">=</span> <span class=\"token string\">\"SELECT id, name FROM users WHERE 1=1\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    params <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">if</span> min_level <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        statement <span class=\"token operator\">+=</span> <span class=\"token string\">\" AND level >= ?\"</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        params<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>min_level<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span> gender <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        statement <span class=\"token operator\">+=</span> <span class=\"token string\">\" AND gender >= ?\"</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        params<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">if</span> has_membership<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        statement <span class=\"token operator\">+=</span> <span class=\"token string\">\" AND has_membership == true\"</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        statement <span class=\"token operator\">+=</span> <span class=\"token string\">\" AND has_membership == false\"</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    statement <span class=\"token operator\">+=</span> <span class=\"token string\">\" ORDER BY ?\"</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    params<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>sort_field<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>statement<span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">fetch_users_v2</span><span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">,</span> min_level<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> gender<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> has_membership<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> sort_field<span class=\"token operator\">=</span><span class=\"token string\">\"created\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"è·å–ç”¨æˆ·åˆ—è¡¨</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    query <span class=\"token operator\">=</span> select<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>users<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">.</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">,</span> users<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">if</span> min_level <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        query <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">.</span>level <span class=\"token operator\">>=</span> min_level<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">if</span> gender <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        query <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">.</span>gender <span class=\"token operator\">==</span> gender<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    query <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">.</span>has_membership <span class=\"token operator\">==</span> has_membership<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">[</span>sort_field<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>conn<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"ä¸å¿…é¢„è®¡ç®—å­—é¢é‡è¡¨è¾¾å¼\"><a class=\"anchor\" href=\"#ä¸å¿…é¢„è®¡ç®—å­—é¢é‡è¡¨è¾¾å¼\">#</a> ä¸å¿…é¢„è®¡ç®—å­—é¢é‡è¡¨è¾¾å¼</h3>\n<ul>\n<li>ä½ æ‰€æ‹…å¿ƒçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™å°±å·²ç»è§£å†³äº†</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>day_11 <span class=\"token operator\">=</span> <span class=\"token number\">950400</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>day_11 <span class=\"token operator\">=</span> <span class=\"token number\">11</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">3600</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"å¸ƒå°”å€¼ä¹Ÿæ˜¯æ•°å­—\"><a class=\"anchor\" href=\"#å¸ƒå°”å€¼ä¹Ÿæ˜¯æ•°å­—\">#</a> å¸ƒå°”å€¼ä¹Ÿæ˜¯æ•°å­—</h3>\n<ul>\n<li>æœ‰æ—¶å€™å†éœ€è¦ç»Ÿè®¡åºåˆ—å†…å¤šå°‘æˆå‘˜ç¬¦åˆè¦æ±‚çš„æ—¶å€™æ¯”è¾ƒå¥½ç”¨</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>l <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">></span> <span class=\"token number\">4</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> l<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>output<span class=\"token punctuation\">:</span><span class=\"token number\">2</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"å¤„ç†è¶…é•¿å­—ç¬¦\"><a class=\"anchor\" href=\"#å¤„ç†è¶…é•¿å­—ç¬¦\">#</a> å¤„ç†è¶…é•¿å­—ç¬¦</h3>\n<ul>\n<li>ï¼ˆï¼‰åŒ…è£¹å­—ç¬¦ä¸²å¯ä»¥å®ç°éšæ„æŠ˜è¡Œ</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>long_str <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token string\">\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"</span> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token string\">\"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token string\">\"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token string\">\"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"ä½¿ç”¨æ— ç©·å¤§\"><a class=\"anchor\" href=\"#ä½¿ç”¨æ— ç©·å¤§\">#</a> ä½¿ç”¨ â€œæ— ç©·å¤§â€</h3>\n<ul>\n<li>æ— ç©·å¤§ï¼š <code>float(&quot;inf&quot;)</code></li>\n<li>æ— ç©·å°ï¼š <code>float(&quot;-inf&quot;)</code></li>\n</ul>\n<h3 id=\"å­—ç¬¦ä¸²æ‹¼æ¥å¹¶ä¸æ…¢\"><a class=\"anchor\" href=\"#å­—ç¬¦ä¸²æ‹¼æ¥å¹¶ä¸æ…¢\">#</a> å­—ç¬¦ä¸²æ‹¼æ¥å¹¶ä¸æ…¢</h3>\n<ul>\n<li>å¦‚ä»Šä½¿ç”¨  <code>+=</code>  çš„æ–¹å¼æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæ•ˆç‡å·²ç»éå¸¸æ¥è¿‘  <code>&quot;&quot;.join(str_list)</code>  äº†ã€‚æ‰€ä»¥ï¼Œè¯¥æ‹¼æ¥æ—¶å°±æ‹¼æ¥å§ï¼Œä¸å¿…æ‹…å¿ƒä»»ä½•æ€§èƒ½é—®é¢˜ã€‚</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> timeit</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">test_str_add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\ts <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\ts <span class=\"token operator\">+=</span> long_str</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">test_str_join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>long_str <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>timeit<span class=\"token punctuation\">.</span>timeit<span class=\"token punctuation\">(</span><span class=\"token string\">'test_str_join()'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'from __main__ import test_str_join'</span><span class=\"token punctuation\">,</span> number<span class=\"token operator\">=</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>timeit<span class=\"token punctuation\">.</span>timeit<span class=\"token punctuation\">(</span><span class=\"token string\">'test_str_add()'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'from __main__ import test_str_add'</span><span class=\"token punctuation\">,</span> number<span class=\"token operator\">=</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Output<span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token number\">0.0724546069977805</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token number\">0.07129737001378089</span></pre></td></tr></table></figure><h3 id=\"value-1-å¹¶éçº¿ç¨‹å®‰å…¨\"><a class=\"anchor\" href=\"#value-1-å¹¶éçº¿ç¨‹å®‰å…¨\">#</a> â€œvalue += 1â€ å¹¶éçº¿ç¨‹å®‰å…¨</h3>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%BA%8C%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%BA%8C%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF/",
            "title": "äºŒã€æ¡ä»¶åˆ†æ”¯",
            "date_published": "2020-11-04T08:04:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"æ¡ä»¶åˆ†æ”¯\"><a class=\"anchor\" href=\"#æ¡ä»¶åˆ†æ”¯\">#</a> æ¡ä»¶åˆ†æ”¯ğŸ´</h2>\n<h3 id=\"é¿å…åˆ†æ”¯åµŒå¥—å¯ä»¥ä½¿ç”¨æ¡ä»¶æ‹†åˆ†\"><a class=\"anchor\" href=\"#é¿å…åˆ†æ”¯åµŒå¥—å¯ä»¥ä½¿ç”¨æ¡ä»¶æ‹†åˆ†\">#</a> é¿å…åˆ†æ”¯åµŒå¥—ï¼Œå¯ä»¥ä½¿ç”¨ã€Œæ¡ä»¶æ‹†åˆ†ã€</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> is_ok_1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">if</span> is_ok_2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">if</span> is_ok_3<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token keyword\">if</span> is_ok_4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> is_ok_1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> is_ok_2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> is_ok_3<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> is_ok_4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"å¤æ‚æ¡ä»¶åˆ¤æ–­å¯ä»¥è€ƒè™‘ä½¿ç”¨å‡½æ•°å°è£…\"><a class=\"anchor\" href=\"#å¤æ‚æ¡ä»¶åˆ¤æ–­å¯ä»¥è€ƒè™‘ä½¿ç”¨å‡½æ•°å°è£…\">#</a> å¤æ‚æ¡ä»¶åˆ¤æ–­å¯ä»¥è€ƒè™‘ä½¿ç”¨ã€Œå‡½æ•°å°è£…ã€</h3>\n<h3 id=\"æå–åˆ†æ”¯ä¸­çš„é‡å¤ä»£ç å‡¸æ˜¾ä¸åŒ\"><a class=\"anchor\" href=\"#æå–åˆ†æ”¯ä¸­çš„é‡å¤ä»£ç å‡¸æ˜¾ä¸åŒ\">#</a> æå–åˆ†æ”¯ä¸­çš„é‡å¤ä»£ç ï¼Œã€Œå‡¸æ˜¾ä¸åŒã€</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å¯¹äºæ–°ç”¨æˆ·ï¼Œåˆ›å»ºæ–°çš„ç”¨æˆ·èµ„æ–™ï¼Œå¦åˆ™æ›´æ–°æ—§èµ„æ–™</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">if</span> user<span class=\"token punctuation\">.</span>no_profile_exists<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    create_user_profile<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        username<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        email<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        age<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        address<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\"># å¯¹äºæ–°å»ºç”¨æˆ·ï¼Œå°†ç”¨æˆ·çš„ç§¯åˆ†ç½®ä¸º 0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        points<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        created<span class=\"token operator\">=</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    update_user_profile<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        username<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        email<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        age<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        address<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        updated<span class=\"token operator\">=</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">if</span> user<span class=\"token punctuation\">.</span>no_profile_exists<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    profile_func <span class=\"token operator\">=</span> create_user_profile</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    extra_args <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'points'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'created'</span><span class=\"token punctuation\">:</span> now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    profile_func <span class=\"token operator\">=</span> update_user_profile</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    extra_args <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'updated'</span><span class=\"token punctuation\">:</span> now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>profile_func<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    username<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    email<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    age<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    address<span class=\"token operator\">=</span>user<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token operator\">**</span>extra_args</pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"è°¨æ…ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼\"><a class=\"anchor\" href=\"#è°¨æ…ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼\">#</a> è°¨æ…ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼</h3>\n<h3 id=\"è‡ªå®šä¹‰å¯¹è±¡çš„-å¸ƒå°”çœŸå‡\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰å¯¹è±¡çš„-å¸ƒå°”çœŸå‡\">#</a> è‡ªå®šä¹‰å¯¹è±¡çš„ ã€Œå¸ƒå°”çœŸå‡ã€</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<ul>\n<li>å¸ƒå°”ã€Œå‡ã€\n<ul>\n<li>None</li>\n<li>0</li>\n<li>False</li>\n<li>{}</li>\n<li>()</li>\n<li>[]</li>\n<li>...</li>\n</ul>\n</li>\n<li>å¸ƒå°”ã€ŒçœŸã€\n<ul>\n<li>é 0 æ•°å€¼</li>\n<li>éç©ºåºåˆ—</li>\n<li>True</li>\n<li>ç”¨æˆ·ç±»å’Œç±»å®ä¾‹</li>\n<li>...</li>\n</ul>\n</li>\n</ul>\n<p>è‡ªå®šä¹‰ç±»å¯ä»¥é€šè¿‡å®šä¹‰  <code>__bool__</code> ã€ <code>__len__</code>  æ¥å†³å®šç±»çš„çœŸå‡ã€‚</p>\n</div></details>\n<h3 id=\"åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨-all-any\"><a class=\"anchor\" href=\"#åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨-all-any\">#</a> åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨ all () /any ()</h3>\n<ul>\n<li><code>all(seq)</code> ï¼šä»…å½“  <code>seq</code>  ä¸­æ‰€æœ‰å¯¹è±¡éƒ½ä¸ºå¸ƒå°”çœŸæ—¶è¿”å›  <code>True</code> ï¼Œå¦åˆ™è¿”å›  <code>False</code></li>\n<li><code>any(seq)</code> ï¼šåªè¦  <code>seq</code>  ä¸­ä»»ä½•ä¸€ä¸ªå¯¹è±¡ä¸ºå¸ƒå°”çœŸå°±è¿”å›  <code>True</code> ï¼Œå¦åˆ™è¿”å›  <code>False</code></li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">all_numbers_gt_10</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"ä»…å½“åºåˆ—ä¸­æ‰€æœ‰æ•°å­—å¤§äº 10 æ—¶ï¼Œè¿”å› True</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> numbers<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">for</span> n <span class=\"token keyword\">in</span> numbers<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span> n <span class=\"token operator\">&lt;=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">all_numbers_gt_10_2</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">(</span>numbers<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">></span> <span class=\"token number\">10</span> <span class=\"token keyword\">for</span> n <span class=\"token keyword\">in</span> numbers<span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"ä½¿ç”¨-trywhilefor-ä¸­-else-åˆ†æ”¯\"><a class=\"anchor\" href=\"#ä½¿ç”¨-trywhilefor-ä¸­-else-åˆ†æ”¯\">#</a> ä½¿ç”¨ try/while/for ä¸­ else åˆ†æ”¯</h3>\n<ul>\n<li><code>try</code>  ï¼štry åè·Ÿ else è¡¨ç¤º try ä¸­çš„ä»£ç æ­£å¸¸æ‰§è¡Œ</li>\n<li><code>while/for</code> ï¼šåé¢æ ¹ else è¡¨ç¤º for å’Œ while çš„å¾ªç¯æ­£å¸¸æ‰§è¡Œã€‚æ²¡æœ‰è¢« <code>break</code> ã€ <code>return</code>  æ‰“æ–­ï¼Œ <code>continun</code>  ä¸ç®—ã€‚</li>\n</ul>\n<h3 id=\"å’Œ-is-æ¯”è¾ƒæ“ä½œ\"><a class=\"anchor\" href=\"#å’Œ-is-æ¯”è¾ƒæ“ä½œ\">#</a>  <code>==</code>  å’Œ  <code>is</code>  æ¯”è¾ƒæ“ä½œ</h3>\n<ul>\n<li><code>==</code> ï¼šå€¼æ¯”è¾ƒ</li>\n<li><code>is</code> ï¼šå†…å­˜åœ°å€æ¯”è¾ƒ</li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%B8%80%E3%80%81%E5%8F%98%E9%87%8F/",
            "url": "https://allengx.gitee.io/computer-science/study/Python%E3%80%8C%E5%B7%A5%E5%8C%A0%E3%80%8D/%E4%B8%80%E3%80%81%E5%8F%98%E9%87%8F/",
            "title": "ä¸€ã€å˜é‡",
            "date_published": "2020-11-02T08:04:34.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h2 id=\"å˜é‡ï¸\"><a class=\"anchor\" href=\"#å˜é‡ï¸\">#</a> å˜é‡â­ï¸</h2>\n<h3 id=\"é€šè¿‡å˜é‡åèƒ½å¤Ÿä½“ç°å˜é‡ç±»å‹\"><a class=\"anchor\" href=\"#é€šè¿‡å˜é‡åèƒ½å¤Ÿä½“ç°å˜é‡ç±»å‹\">#</a> é€šè¿‡å˜é‡åèƒ½å¤Ÿä½“ç°å˜é‡ã€Œç±»å‹ã€</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>person_lst <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>p1<span class=\"token punctuation\">,</span> p2<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>host_id <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>info_dict <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"å¼ ä¸‰\"</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>tranform_set <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>arg_tuple <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">,</span> arg2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>item_obj <span class=\"token operator\">=</span> CItem<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></div></details>\n<h3 id=\"ä¿æŒå˜é‡åä¸€è‡´ä¸è®ºä½•æ—¶ä½•åœ°ç›¸åŒçš„å¯¹è±¡è¯·ç”¨åŒæ ·çš„å˜é‡å\"><a class=\"anchor\" href=\"#ä¿æŒå˜é‡åä¸€è‡´ä¸è®ºä½•æ—¶ä½•åœ°ç›¸åŒçš„å¯¹è±¡è¯·ç”¨åŒæ ·çš„å˜é‡å\">#</a> ä¿æŒå˜é‡åã€Œä¸€è‡´ã€ï¼Œä¸è®ºä½•æ—¶ä½•åœ°ï¼Œç›¸åŒçš„å¯¹è±¡è¯·ç”¨åŒæ ·çš„å˜é‡å</h3>\n<h3 id=\"å˜é‡åå°½é‡çŸ­ä½†ä¸è¦çŸ­çš„ç¦»è°±\"><a class=\"anchor\" href=\"#å˜é‡åå°½é‡çŸ­ä½†ä¸è¦çŸ­çš„ç¦»è°±\">#</a> å˜é‡åå°½é‡ã€ŒçŸ­ã€ï¼Œä½†ä¸è¦çŸ­çš„ç¦»è°±</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<ul>\n<li>i -&gt; idx</li>\n<li>information -&gt; info</li>\n</ul>\n</div></details>\n<h3 id=\"å˜é‡å®šä¹‰å°½é‡é è¿‘ä½¿ç”¨\"><a class=\"anchor\" href=\"#å˜é‡å®šä¹‰å°½é‡é è¿‘ä½¿ç”¨\">#</a> å˜é‡å®šä¹‰å°½é‡ã€Œé è¿‘ä½¿ç”¨ã€</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>info_lst <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>data_dict <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># logic .....</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>info_lst<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># logic .....</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>data_dict<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># logic .....</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>info_lst <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>info_lst<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># logic .....</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>data_dict <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>data_dict<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data</pre></td></tr></table></figure></div></details>\n<h3 id=\"ä¸€ä¸ªå‡½æ•°çš„å˜é‡æ•°é‡æœ€å¥½ä¸è¶…è¿‡åä¸ª\"><a class=\"anchor\" href=\"#ä¸€ä¸ªå‡½æ•°çš„å˜é‡æ•°é‡æœ€å¥½ä¸è¶…è¿‡åä¸ª\">#</a> ä¸€ä¸ªå‡½æ•°çš„å˜é‡æ•°é‡æœ€å¥½ä¸è¶…è¿‡ã€Œåã€ä¸ª</h3>\n<h3 id=\"ä¸è¦å®šä¹‰ä¸ä½¿ç”¨çš„å˜é‡\"><a class=\"anchor\" href=\"#ä¸è¦å®šä¹‰ä¸ä½¿ç”¨çš„å˜é‡\">#</a> ä¸è¦å®šä¹‰ä¸ä½¿ç”¨çš„å˜é‡</h3>\n<h3 id=\"ä¸´æ—¶å˜é‡ä»£æ›¿å¤æ‚çš„è¡¨è¾¾å¼\"><a class=\"anchor\" href=\"#ä¸´æ—¶å˜é‡ä»£æ›¿å¤æ‚çš„è¡¨è¾¾å¼\">#</a> ä¸´æ—¶å˜é‡ä»£æ›¿å¤æ‚çš„è¡¨è¾¾å¼</h3>\n<details class=\"info\"><summary>ç¤ºä¾‹</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------ bad ------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">if</span> user<span class=\"token punctuation\">.</span>is_active <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">==</span> <span class=\"token string\">'female'</span> <span class=\"token keyword\">or</span> user<span class=\"token punctuation\">.</span>level <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> user<span class=\"token punctuation\">.</span>age <span class=\"token operator\">></span> <span class=\"token number\">18</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\"># logic ...</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#------------ good ------------</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>user_is_eligible <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>is_active <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">==</span> <span class=\"token string\">'female'</span> <span class=\"token keyword\">or</span> user<span class=\"token punctuation\">.</span>level <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">if</span> user_is_eligible<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     <span class=\"token comment\"># logic ...</span></pre></td></tr></table></figure></div></details>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Pythonã€Œå·¥åŒ ã€",
                "Pythonã€Œå·¥åŒ ã€"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%B8%89%E3%80%81%E5%B0%8F%E6%9D%8E%E5%9C%A8%E7%AE%B1%E6%A0%B9/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%B8%89%E3%80%81%E5%B0%8F%E6%9D%8E%E5%9C%A8%E7%AE%B1%E6%A0%B9/",
            "title": "æ ‡å‡†æ—¥æœ¬è¯­åˆçº§-ä¸Š",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\"><a class=\"anchor\" href=\"#æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\">#</a> æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ï¼ˆä¸Šï¼‰</h1>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%BA%94%E3%80%81%E5%B0%8F%E6%9D%8E%E5%9C%A8%E6%97%A5%E6%9C%AC%E8%BF%8E%E6%96%B0%E6%98%A5/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%BA%94%E3%80%81%E5%B0%8F%E6%9D%8E%E5%9C%A8%E6%97%A5%E6%9C%AC%E8%BF%8E%E6%96%B0%E6%98%A5/",
            "title": "æ ‡å‡†æ—¥æœ¬è¯­åˆçº§-ä¸Š",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\"><a class=\"anchor\" href=\"#æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\">#</a> æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ï¼ˆä¸Šï¼‰</h1>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%BA%8C%E3%80%81%E5%B0%8F%E6%9D%8E%E7%9A%84%E5%85%AC%E5%8F%B8%E7%94%9F%E6%B4%BB%E2%91%A0/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%BA%8C%E3%80%81%E5%B0%8F%E6%9D%8E%E7%9A%84%E5%85%AC%E5%8F%B8%E7%94%9F%E6%B4%BB%E2%91%A0/",
            "title": "æ ‡å‡†æ—¥æœ¬è¯­åˆçº§-ä¸Š",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\"><a class=\"anchor\" href=\"#æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\">#</a> æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ï¼ˆä¸Šï¼‰</h1>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E5%85%AD%E3%80%81%E5%86%8D%E8%A7%81%EF%BC%81%E6%97%A5%E6%9C%AC/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E5%85%AD%E3%80%81%E5%86%8D%E8%A7%81%EF%BC%81%E6%97%A5%E6%9C%AC/",
            "title": "æ ‡å‡†æ—¥æœ¬è¯­åˆçº§-ä¸Š",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\"><a class=\"anchor\" href=\"#æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\">#</a> æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ï¼ˆä¸Šï¼‰</h1>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E5%9F%BA%E6%9C%AC%E6%A0%87%E7%AD%BE/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E5%9F%BA%E6%9C%AC%E6%A0%87%E7%AD%BE/",
            "title": "åŸºæœ¬æ ‡ç­¾",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"å¸¸è§çš„æ ‡ç­¾å«ä¹‰\"><a class=\"anchor\" href=\"#å¸¸è§çš„æ ‡ç­¾å«ä¹‰\">#</a> å¸¸è§çš„æ ‡ç­¾å«ä¹‰</h1>\n<p><span class=\"label danger\">å</span> ï¼šåè¯ã€‚</p>\n<p><span class=\"label danger\">å¹è¯</span> ï¼šè¯­æ°”è¯ã€‚</p>\n<p><span class=\"label danger\">å¯’æš„è¯­</span> ï¼šæ—¥å¸¸é—®å€™çš„è¯­è¨€ã€‚</p>\n<p><span class=\"label danger\">å¤–æ¥èª</span> ï¼šéæœ¬åœŸç¿»è¯‘å¾—æ¥çš„è¯­è¨€ï¼Œç”¨ç‰‡å‡åä¹¦å†™ã€‚</p>\n<p><span class=\"label danger\">ååœºæ‰€</span> ï¼šè¡¨ç¤ºåœ°æ–¹çš„åè¯ã€‚</p>\n<p><span class=\"label danger\">é‡è¯</span> ï¼šå’Œæ•°è¯æ­é…è¡¨ç¤ºæ•°é‡ã€‚</p>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E5%9B%9B%E3%80%81%E5%B0%8F%E6%9D%8E%E7%9A%84%E5%85%AC%E5%8F%B8%E7%94%9F%E6%B4%BB%E2%91%A1/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E5%9B%9B%E3%80%81%E5%B0%8F%E6%9D%8E%E7%9A%84%E5%85%AC%E5%8F%B8%E7%94%9F%E6%B4%BB%E2%91%A1/",
            "title": "æ ‡å‡†æ—¥æœ¬è¯­åˆçº§-ä¸Š",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\"><a class=\"anchor\" href=\"#æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ä¸Š\">#</a> æ ‡å‡†æ—¥æœ¬è¯­åˆçº§ï¼ˆä¸Šï¼‰</h1>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%B8%80%E3%80%81%E5%B0%8F%E6%9D%8E%E8%B5%B4%E6%97%A5/",
            "url": "https://allengx.gitee.io/%E6%97%A5%E6%9C%AC%E8%AA%9E/study/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E6%96%87%E6%B3%95%E5%88%9D%E7%BA%A7%EF%BC%88%E4%B8%8A%EF%BC%89/%E4%B8%80%E3%80%81%E5%B0%8F%E6%9D%8E%E8%B5%B4%E6%97%A5/",
            "title": "ä¸€ã€å°æèµ´æ—¥",
            "date_published": "2020-10-25T05:48:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"ä¸€-å°æèµ´æ—¥\"><a class=\"anchor\" href=\"#ä¸€-å°æèµ´æ—¥\">#</a> ä¸€ã€å°æèµ´æ—¥</h1>\n<h2 id=\"ç¬¬1è¯¾-æã‚Šã•ã‚“ä¸­å›½äººã¡ã‚…ã†ã”ãã˜ã‚“ã§ã™\"><a class=\"anchor\" href=\"#ç¬¬1è¯¾-æã‚Šã•ã‚“ä¸­å›½äººã¡ã‚…ã†ã”ãã˜ã‚“ã§ã™\">#</a> ç¬¬â‘ è¯¾ <ruby>æ<rp> (</rp><rt>ã‚Š</rt><rp>)</rp> ã•ã‚“<rt></rt></ruby>\t<ruby>ä¸­å›½äºº<rp> (</rp><rt>ã¡ã‚…ã†ã”ãã˜ã‚“</rt><rp>)</rp> ã§ã™<rt></rt></ruby></h2>\n<h3 id=\"è¯­æ³•è§£é‡Š\"><a class=\"anchor\" href=\"#è¯­æ³•è§£é‡Š\">#</a> è¯­æ³•è§£é‡Š</h3>\n<h4 id=\"å-ã¯ã‚-å-ã§ã™\"><a class=\"anchor\" href=\"#å-ã¯ã‚-å-ã§ã™\">#</a>  <code>ã€Œåã€</code>   <ruby>ã¯<rp> (</rp><rt>ã‚</rt><rp>)</rp></ruby>   <code>ã€Œåã€</code>   ã§ã™</h4>\n<p>æ„ä¸º <code>...æ˜¯...</code> ã€‚ <code>...ã¯</code> æ˜¯ä¸»è¯­çš„éƒ¨åˆ†ï¼Œ <code>...ã§ã™</code> æ˜¯è°“è¯­çš„éƒ¨åˆ†ã€‚åŠ©è¯ <code>ã¯</code> ç”¨äºæç¤ºä¸»é¢˜ã€‚è¯»ä½œ <code>ã‚</code> ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æ<rp> (</rp><rt>ã‚Š</rt><rp>)</rp></ruby> ã•ã‚“ã€€ <code>ã¯</code> ã€€<ruby>ä¸­å›½äºº<rp> (</rp><rt>ã¡ã‚…ã†ã”ãã˜ã‚“</rt><rp>)</rp></ruby>ã€€ <code>ã§ã™</code> ã€‚ï¼ˆå°ææ˜¯ä¸­å›½äººï¼‰</li>\n<li>ã‚ãŸã—ã€€ <code>ã¯</code> ã€€<ruby>æ—¥æœ¬<rp> (</rp><rt>ã«ã»ã‚“</rt><rp>)</rp></ruby> ã˜ã‚“ã€€ <code>ã§ã™</code> ã€‚ï¼ˆæˆ‘æ˜¯æ—¥æœ¬äººï¼‰</li>\n<li>ã‚ãŸã—ã€€ <code>ã¯</code> ã€€<ruby>ç‹<rp> (</rp><rt>ãŠã†</rt><rp>)</rp></ruby>ã€€ <code>ã§ã™</code> ã€‚ï¼ˆæˆ‘å§“ç‹ï¼‰</li>\n</ul>\n</div></details>\n<hr />\n<h4 id=\"å-ã¯ã‚-å-ã§ã™-ã‚ã‚Šã¾ã›ã‚“\"><a class=\"anchor\" href=\"#å-ã¯ã‚-å-ã§ã™-ã‚ã‚Šã¾ã›ã‚“\">#</a>  <code>ã€Œåã€</code>   <ruby>ã¯<rp> (</rp><rt>ã‚</rt><rp>)</rp></ruby>   <code>ã€Œåã€</code>   ã§ã™ã€€ã‚ã‚Šã¾ã›ã‚“</h4>\n<p>æ„ä¸º <code>...ä¸æ˜¯...</code> ã€‚ <code>ã§ã™ã€€ã‚ã‚Šã¾ã›ã‚“</code> çš„  <code>ã§ã™</code>  ä¹Ÿå¯ä»¥ç”¨  <code>ã˜ã‚ƒ</code>  ä»£æ›¿ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æ£®<rp> (</rp><rt>ã‚‚ã‚Š</rt><rp>)</rp></ruby> ã•ã‚“ã€€ <code>ã¯</code> ã€€<ruby>å­¦ç”Ÿ<rp> (</rp><rt>ãŒãã›ã„</rt><rp>)</rp></ruby>ã€€ <code>ã§ã™ã€€ã‚ã‚Šã¾ã›ã‚“</code> ã€‚ï¼ˆæ£®å…ˆç”Ÿä¸æ˜¯å­¦ç”Ÿï¼‰</li>\n<li>ã‚ãŸã—ã€€ <code>ã¯</code> ã€€<ruby>æ—¥æœ¬<rp> (</rp><rt>ã«ã»ã‚“</rt><rp>)</rp> ã˜ã‚“<rt></rt></ruby>ã€€ <code>ã§ã™ã€€ã‚ã‚Šã¾ã›ã‚“</code> ã€‚ï¼ˆæˆ‘ä¸æ˜¯æ—¥æœ¬äººï¼‰</li>\n<li>ã‚ãŸã—ã€€ <code>ã¯</code> ã€€<ruby>ç”°ä¸­<rp> (</rp><rt>ãŸãªã‹</rt><rp>)</rp></ruby>ã€€ <code>ã˜ã‚ƒã€€ã‚ã‚Šã¾ã›ã‚“</code> ã€‚ï¼ˆæˆ‘ä¸æ˜¯ç”°ä¸­ï¼‰</li>\n</ul>\n</div></details>\n<hr />\n<h4 id=\"å-ã¯ã‚-å-ã§ã™ã‹\"><a class=\"anchor\" href=\"#å-ã¯ã‚-å-ã§ã™ã‹\">#</a>  <code>ã€Œåã€</code>   <ruby>ã¯<rp> (</rp><rt>ã‚</rt><rp>)</rp></ruby>   <code>ã€Œåã€</code>   ã§ã™ã‹ï¼Ÿ</h4>\n<p>æ„ä¸º <code>...æ˜¯...å—ï¼Ÿ</code> ã€‚ <code>ã‹</code> æœ‰æ ‡è¯†ç–‘é—®çš„æ„æ€</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>ã‚ãªãŸã€€ <code>ã¯</code> ã€€ <ruby>å°é‡<rp> (</rp><rt>ãŠã®</rt><rp>)</rp></ruby> ã•ã‚“ã€€ <code>ã§ã™ã‹</code> ã€‚ï¼ˆæ‚¨æ˜¯å°é‡å¥³ç”Ÿå—ï¼Ÿï¼‰</li>\n<li>ã‚­ãƒ ã•ã‚“ã€€ <code>ã¯</code> ã€€<ruby>ä¸­å›½äºº<rp> (</rp><rt>ã¡ã‚…ã†ã”ãã˜ã‚“</rt><rp>)</rp></ruby>ã€€ <code>ã§ã™ã‹</code> ã€‚ï¼ˆé‡‘å¥³å£«æ˜¯ä¸­å›½äººå—ï¼Ÿï¼‰</li>\n</ul>\n</div></details>\n<hr />\n<h4 id=\"å-ã®-å-ä»å±æœºæ„-å›½å®¶å±æ€§\"><a class=\"anchor\" href=\"#å-ã®-å-ä»å±æœºæ„-å›½å®¶å±æ€§\">#</a>  <code>ã€Œåã€</code>  ã®   <code>ã€Œåã€</code>   ã€Œä»å±æœºæ„ã€å›½å®¶ã€ã€Œå±æ€§ã€</h4>\n<p>åŠ©è¯ <code>ã®</code> è¿æ¥ä¸¤ä¸ªåè¯ï¼Œè¡¨ç¤ºå‰é¢åè¯æ˜¯åé¢çš„ã€Œä»å±æœºæ„ã€å›½å®¶ã€æˆ–è€…ã€Œå±æ€§ã€</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æ<rp> (</rp><rt>ã‚Š</rt><rp>)</rp></ruby> ã•ã‚“ã¯ã€€ <ruby>JC<rt></rt> ä¼ç”»<rp> (</rp><rt>ã‚¸ã‚§ãƒ¼ã‚·ãƒ¼ãã‹ã</rt><rp>)</rp></ruby>ã€€ <code>ã®</code> ã€€ <ruby>ç¤¾å“¡<rp> (</rp><rt>ã—ã‚ƒã„ã‚“</rt><rp>)</rp></ruby> ã§ã™ã€‚ï¼ˆå°ææ˜¯ JC ç­–åˆ’å…¬å¸çš„èŒå‘˜ï¼‰</li>\n<li><ruby>åŒ—äº¬æ—…è¡Œç¤¾<rp> (</rp><rt>ãƒšã‚­ãƒ³ã‚Šã‚‡ã“ã†ã—ã‚ƒ</rt><rp>)</rp></ruby> ã¯ã€€<ruby>ä¸­å›½<rp> (</rp><rt>ã¡ã‚…ã†ã”</rt><rp>)</rp></ruby>ã€€ <code>ã®</code> ã€€ <ruby>ä¼æ¥­<rp> (</rp><rt>ããã‚‡ã†</rt><rp>)</rp></ruby> ã§ã™ã€‚ï¼ˆåŒ—äº¬æ—…è¡Œç¤¾æ˜¯ä¸­å›½çš„ä¼ä¸šï¼‰</li>\n<li>ãƒ‡ãƒ¥ãƒœãƒ³ã•ã‚“ã¯ã€€ <ruby>å¤§å­¦<rp> (</rp><rt>ã ã„ãŒã</rt><rp>)</rp></ruby>ã€€ <code>ã®</code> ã€€ <ruby>å…ˆç”Ÿ<rp> (</rp><rt>ã›ã‚“ã›ã„</rt><rp>)</rp></ruby> ã§ã™ã€‚ï¼ˆè¿ªè“¬å…ˆç”Ÿæ˜¯å¤§å­¦è€å¸ˆï¼‰</li>\n</ul>\n<div class=\"note danger\">\n<p>æ—¥è¯­ä¸­åè¯å’Œåè¯ä¹‹å‰ä¸€èˆ¬ç”¨  <code>ã®</code>  æ¥è¿æ¥ã€‚</p>\n</div>\n</div></details>\n<hr />\n<h3 id=\"è¯è¯­è®²è§£\"><a class=\"anchor\" href=\"#è¯è¯­è®²è§£\">#</a> è¯è¯­è®²è§£</h3>\n<h4 id=\"äººç§°\"><a class=\"anchor\" href=\"#äººç§°\">#</a>  <code>äººç§°</code></h4>\n<ul>\n<li>ã€Œã‚ãŸã—ã€ï¼šç¬¬ä¸€äººç§°</li>\n<li>ã€Œã‚ãªãŸã€ï¼šç¬¬äºŒäººç§°</li>\n<li>ã€Œã‚ã® <ruby>äºº<rp> (</rp><rt>ã²ã¨</rt><rp>)</rp></ruby>ã€ï¼šç¬¬ä¸‰äººç§°</li>\n<li>ã€Œ~ ã•ã‚“ã€ï¼šç”¨äºä»–äººå§“åå</li>\n<li>ã€Œ~ ã¡ã‚ƒã‚“ã€ï¼šå¤šç”¨äºç§°å‘¼å°å­©</li>\n<li>ã€Œ~ <ruby>å›<rp> (</rp><rt>ãã‚“</rt><rp>)</rp></ruby>ã€ï¼šå¤šç”¨äºç§°å‘¼æ¯”è‡ªå·±å¹´è½»çš„ç”·æ€§</li>\n<li>ã€Œ <ruby>å…ˆç”Ÿ<rp> (</rp><rt>ã›ã‚“ã›ã„</rt><rp>)</rp></ruby>ã€ï¼šæŒ‡ä»£è€å¸ˆ</li>\n</ul>\n<h4 id=\"äººç§°çœç•¥\"><a class=\"anchor\" href=\"#äººç§°çœç•¥\">#</a>  <code>äººç§°çœç•¥</code></h4>\n<p>å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡æ¨æµ‹å‡ºçš„äººç§°ä¸€èˆ¬å¯ä»¥çœç•¥ï¼Œå¹¶ä¸”å¬ä¸Šå»æ›´æœ‰ç¤¼è²Œã€‚å¤šçœç•¥ç¬¬ä¸€ã€ç¬¬äºŒäººç§°ä¸»è¯­ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><code>ï¼ˆã‚ãªãŸã¯ï¼‰</code>  <ruby>å‰ç”°<rp> (</rp><rt>ã‚ˆã—ã </rt><rp>)</rp></ruby> ã•ã‚“ã§ã™ãŒã€‚<br />\nâ€”â€” ã„ã„ãˆï¼Œ <code>ï¼ˆã‚ãŸã—ã¯ï¼‰</code>  <ruby>å‰ç”°<rp> (</rp><rt>ã‚ˆã—ã </rt><rp>)</rp></ruby> ã˜ã‚ƒã€€ã‚ã‚Šã¾ã›ã‚“ã€‚ <code>ï¼ˆã‚ãŸã—ã¯ï¼‰</code> ã€€ <ruby>æ£®<rp> (</rp><rt>ã‚‚ã‚Š</rt><rp>)</rp></ruby> ã§ã™ã€‚<br />\nï¼ˆä½ æ˜¯å‰ç”°å…ˆç”Ÿå—ï¼Ÿâ€”â€” ä¸ï¼Œæˆ‘ä¸æ˜¯å‰ç”°ã€‚æˆ‘æ˜¯æ£®ã€‚ï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"å¹è¯\"><a class=\"anchor\" href=\"#å¹è¯\">#</a>  <code>ã€Œå¹è¯ã€</code></h4>\n<ul>\n<li>ã‚ã£ï¼šå“ï¼Œå•Šã€‚è¡¨ç¤ºæƒŠå¹çš„æ„æ€</li>\n</ul>\n<h4 id=\"å¯’æš„è¯­\"><a class=\"anchor\" href=\"#å¯’æš„è¯­\">#</a>  <code>ã€Œå¯’æš„è¯­ã€</code></h4>\n<ul>\n<li>ã©ã†ãã€€ã‚ˆã‚ã—ãã€€ãŠé¡˜ã„ã—ã¾ã™ï¼šè¯·å¤šå…³ç…§çš„æ„æ€ï¼Œå¯ä»¥çœç•¥éƒ¨åˆ†å†…å®¹ï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚ä¾‹å¦‚ï¼š\n<ul>\n<li>ã©ã†ãã€€ã‚ˆã‚ã—ã</li>\n<li>ã‚ˆã‚ã—ãã€€ãŠé¡˜ã„ã—ã¾ã™</li>\n</ul>\n</li>\n<li>ã“ã¡ã‚‰ã“ãï¼šæˆ‘æ‰æ˜¯ï¼Œæˆ‘æ‰è¦ã€æ‚¨è¯·ï½çš„æ„æ€</li>\n</ul>\n<h2 id=\"ç¬¬2è¯¾-ã“ã‚Œã‚-æœ¬ã»ã‚“ã§ã™\"><a class=\"anchor\" href=\"#ç¬¬2è¯¾-ã“ã‚Œã‚-æœ¬ã»ã‚“ã§ã™\">#</a> ç¬¬â‘¡è¯¾ ã“ã‚Œã‚ã€€ <ruby>æœ¬<rp> (</rp><rt>ã»ã‚“</rt><rp>)</rp></ruby> ã§ã™</h2>\n<h3 id=\"è¯­æ³•è§£é‡Š-2\"><a class=\"anchor\" href=\"#è¯­æ³•è§£é‡Š-2\">#</a> è¯­æ³•è§£é‡Š</h3>\n<h4 id=\"ã“ã‚Œãã‚Œã‚ã‚Œã¯åã§ã™\"><a class=\"anchor\" href=\"#ã“ã‚Œãã‚Œã‚ã‚Œã¯åã§ã™\">#</a> ã€Œã“ã‚Œï¼ãã‚Œï¼ã‚ã‚Œã€ã¯ <code>ã€Œåã€</code> ã§ã™</h4>\n<p>æ„ä¸º <code>ã€Œè¿™ï¼é‚£ï¼é‚£ä¸ªã€æ˜¯...</code> ã€‚ <code>ã€Œã“ã‚Œï¼ãã‚Œï¼ã‚ã‚Œã€</code> åŒºåˆ«ï¼š</p>\n<ul>\n<li><code>ã€Œã“ã‚Œã€</code> ï¼šè¿™çš„æ„æ€ï¼Œé€šå¸¸æŒ‡ä»£è·ç¦»è¯´è¯äººè¾ƒè¿‘çš„äº‹ç‰©ï¼Œæˆ–è€…è·ç¦»ä¸¤è€…éƒ½è¿‘</li>\n<li><code>ã€Œãã‚Œã€</code> ï¼šé‚£çš„æ„æ€ï¼Œé€šå¸¸æŒ‡ä»£è·ç¦»å¬è¯äººè¾ƒè¿‘çš„äº‹ç‰©ï¼Œæˆ–è€…è·ç¦»ä¸¤è€…ç¨å¾®è¿œä¸€äº›</li>\n<li><code>ã€Œã‚ã‚Œã€</code> ï¼šé‚£ä¸ªçš„æ„æ€ï¼Œé€šå¸¸æŒ‡ä»£è·ç¦»è¯´è¯äººå’Œå¬è¯äººéƒ½è¾ƒè¿œçš„äº‹ç‰©ï¼Œæˆ–è€…è·ç¦»ä¸¤è€…æ¯”è¾ƒè¿œ</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p>-ã€€ <code>ã”ã‚Œ</code> ã€€ã¯ã€€ <ruby>æœ¬<rp> (</rp><rt>ã»ã‚“</rt><rp>)</rp></ruby> ã§ã™ã€‚ï¼ˆè¿™æ˜¯ä¹¦ï¼‰<br />\n-ã€€ <code>ãã‚Œ</code> ã€€ã¯ã€€ã‹ã°ã‚“ã€€ã§ã™ã€‚ï¼ˆé‚£æ˜¯åŒ…ï¼‰<br />\n-ã€€ <code>ã‚ã‚Œ</code> ã€€ã¯ã€€ãƒ†ãƒ¬ãƒ“ã€€ã§ã™ã€‚ï¼ˆé‚£æ˜¯ç”µè§†æœºï¼‰</p>\n</div></details>\n<hr />\n<h4 id=\"ã ã‚Œã§ã™ãŒ-ä½•ãªã‚“ã§ã™ãŒ\"><a class=\"anchor\" href=\"#ã ã‚Œã§ã™ãŒ-ä½•ãªã‚“ã§ã™ãŒ\">#</a> ã€Œã ã‚Œã§ã™ãŒï¼ <ruby>ä½•<rp> (</rp><rt>ãªã‚“</rt><rp>)</rp></ruby> ã§ã™ãŒã€</h4>\n<p>æ„ä¸º <code>ã€Œè°/ä»€ä¹ˆã€</code> ã€‚ä¸€ä¸ªæŒ‡ä»£äººï¼Œä¸€ä¸ªæŒ‡ä»£ç‰©</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p>-ã€€ãã‚Œã¯ã€€<ruby>ä½•<rp> (</rp><rt>ãªã‚“</rt><rp>)</rp></ruby>ã€€ã§ã™ãŒã€‚ï¼ˆé‚£æ˜¯ä»€ä¹ˆï¼Ÿï¼‰<br />\n-ã€€ã‚ã® ã€€<ruby>äºº<rp> (</rp><rt>ã²ã¨</rt><rp>)</rp></ruby> ã¯ã€€ã ã‚Œã€€ã§ã™ãŒã€‚ï¼ˆé‚£ä¸ªäººæ˜¯è°ï¼Ÿï¼‰</p>\n</div></details>\n<hr />\n<h4 id=\"å-ã®-å-æ‰€å±\"><a class=\"anchor\" href=\"#å-ã®-å-æ‰€å±\">#</a>  <code>ã€Œåã€</code>  ã®   <code>ã€Œåã€</code>   ã€Œæ‰€å±ã€</h4>\n<p><code>ã®</code> è¿æ¥åè¯å’Œåè¯ï¼Œè¡¨ç¤ºæ‰€å±å…³ç³»</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p>-ã€€ã‚ãŸã—ã€€ã®ã€€ã‹ãã€‚ï¼ˆæˆ‘çš„é’¥åŒ™ï¼‰<br />\n-ã€€ <ruby>ç”°ä¸­<rp> (</rp><rt>ãŸãªã‹</rt><rp>)</rp></ruby> ã•ã‚“ã€€ã®ã€€ <ruby>è»Š<rp> (</rp><rt>ãã‚‹ã¾</rt><rp>)</rp></ruby>ã€‚ï¼ˆç”°ä¸­å…ˆç”Ÿçš„è½¦ï¼‰</p>\n</div></details>\n<hr />\n<h4 id=\"ã”ã®-ãã®ã‚ã®å-ã¯-å-ã§ã™\"><a class=\"anchor\" href=\"#ã”ã®-ãã®ã‚ã®å-ã¯-å-ã§ã™\">#</a> ã€Œã”ã®ï¼ ãã®ï¼ã‚ã®ã€ <code>ã€Œåã€</code>   ã¯   <code>ã€Œåã€</code>  ã§ã™</h4>\n<p>æ„ä¸º <code>ã€Œè¿™/é‚£/é‚£ä¸ªã€</code> ã€Œåã€æ˜¯ ã€Œåã€çš„ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p>-ã€€ <code>ã“ã®</code> ã€€ã‚«ãƒ¡ãƒ©ã€€ã¯ã€€ã‚¹ãƒŸã‚¹ã•ã‚“ã®ï¼ˆã‚«ãƒ¡ãƒ©ï¼‰ã§ã™ã€‚ï¼ˆè¿™ä¸ªç…§ç›¸æœºæ˜¯å²å¯†æ–¯å…ˆç”Ÿçš„ï¼‰<br />\n-ã€€ <code>ãã®</code> ã€€ <ruby>è‡ªè»¢è»Š<rp> (</rp><rt>ã˜ã¦ã‚“ã—ã‚ƒ</rt><rp>)</rp></ruby>ã€€ã¯ã€€ <ruby>æ£®<rp> (</rp><rt>ã‚‚ã‚Š</rt><rp>)</rp></ruby> ã•ã‚“ã®ã›ã™ã€‚ï¼ˆé‚£è¾†è‡ªè¡Œè½¦æ˜¯æ£®å…ˆç”Ÿçš„ï¼‰<br />\n-ã€€ <code>ã‚ã®</code> ã€€ãƒãƒ¼ãƒˆã€€ã¯ã€€ã ã‚Œã®ã§ã™ãŒã€‚ï¼ˆé‚£ä¸ªç¬”è®°æ¯”æ˜¯è°çš„ï¼Ÿï¼‰</p>\n</div></details>\n<hr />\n<h4 id=\"ã©ã®-ã©ã‚Œå\"><a class=\"anchor\" href=\"#ã©ã®-ã©ã‚Œå\">#</a> ã€Œã©ã®ï¼ ã©ã‚Œã€ <code>ã€Œåã€</code></h4>\n<p>æ„ä¸º <code>ã€Œå“ªä¸ª/å“ªä¸ªï¼ˆä¸‰è€…ä»¥ä¸Šï¼‰ã€</code> ã€Œåã€</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p>-ã€€ <ruby>æ£®<rp> (</rp><rt>ã‚‚ã‚Š</rt><rp>)</rp></ruby> ã•ã‚“ã®ã€€ã‹ã°ã‚“ã¯ã€€ <code>ã©ã‚Œ</code> ï¼ˆã‹ã°ã‚“ï¼‰ã€€ã§ã™ãŒã€‚ï¼ˆæ£®å…ˆç”Ÿçš„åŒ…æ˜¯å“ªä¸ªï¼Ÿï¼‰<br />\n-ã€€  <ruby>é•·å³¶<rp> (</rp><rt>ãªãŒã—ã¾</rt><rp>)</rp></ruby> ã•ã‚“ã®ã€€ <ruby>å‚˜<rp> (</rp><rt>ã‹ã•</rt><rp>)</rp></ruby>ã€€ <code>ã©ã‚Œ</code> ã€€ã§ã™ãŒã€‚ï¼ˆé•¿å²›å…ˆç”Ÿçš„ä¼æ˜¯å“ªæŠŠï¼Ÿï¼‰<br />\n-ã€€  <ruby>å°é‡<rp> (</rp><rt>ãŠã®</rt><rp>)</rp></ruby> ã•ã‚“ã®ã€€ <ruby>æœº<rp> (</rp><rt>ã¤ããˆ</rt><rp>)</rp></ruby> ã¯ã€€ <code>ã©ã®</code> ã€€ <ruby>æœº<rp> (</rp><rt>ã¤ããˆ</rt><rp>)</rp></ruby>ã€€ã§ã™ãŒã€‚ï¼ˆå°é‡å¥³å£«çš„æ¡Œå­æ˜¯å“ªä¸€å¼ ï¼Ÿï¼‰</p>\n</div></details>\n<hr />\n<h3 id=\"100ä»¥ä¸‹æ•°å­—\"><a class=\"anchor\" href=\"#100ä»¥ä¸‹æ•°å­—\">#</a> ã€Œ100ã€ä»¥ä¸‹æ•°å­—</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0~9</th>\n<th style=\"text-align:left\">æ—¥è¯­è¡¨ç¤º</th>\n<th style=\"text-align:center\">10~19</th>\n<th style=\"text-align:left\">æ—¥è¯­è¡¨ç¤º</th>\n<th style=\"text-align:center\">10 çš„æ•´æ•°å€</th>\n<th style=\"text-align:left\">æ—¥è¯­è¡¨ç¤º</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:left\">ã‚Œã„ï¼ãœã‚</td>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†</td>\n<td style=\"text-align:center\">20</td>\n<td style=\"text-align:left\">ã«ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:left\">ã„ã¡</td>\n<td style=\"text-align:center\">11</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã„ã¡</td>\n<td style=\"text-align:center\">30</td>\n<td style=\"text-align:left\">ã•ã‚“ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:left\">ã«</td>\n<td style=\"text-align:center\">12</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã«</td>\n<td style=\"text-align:center\">40</td>\n<td style=\"text-align:left\">ã‚ˆã‚“ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:left\">ã•ã‚“</td>\n<td style=\"text-align:center\">13</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã•ã‚“</td>\n<td style=\"text-align:center\">50</td>\n<td style=\"text-align:left\">ã”ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:left\">ã—ï¼ã‚ˆã‚“</td>\n<td style=\"text-align:center\">14</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã—ï¼ã˜ã‚…ã†ã‚ˆã‚“</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:left\">ã‚ãã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:left\">ã”</td>\n<td style=\"text-align:center\">15</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã”</td>\n<td style=\"text-align:center\">70</td>\n<td style=\"text-align:left\">ãªï½ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td style=\"text-align:left\">ã‚ã</td>\n<td style=\"text-align:center\">16</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã‚ã</td>\n<td style=\"text-align:center\">80</td>\n<td style=\"text-align:left\">ã¯ã¡ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:left\">ã—ã¡ï¼ãªãª</td>\n<td style=\"text-align:center\">17</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã—ã¡ï¼ã˜ã‚…ã†ãªãª</td>\n<td style=\"text-align:center\">90</td>\n<td style=\"text-align:left\">ãã‚…ã†ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:left\">ã¯ã¡</td>\n<td style=\"text-align:center\">18</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ã¯ã¡</td>\n<td style=\"text-align:center\">100</td>\n<td style=\"text-align:left\">ã²ã‚ƒã</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td style=\"text-align:left\">ãï¼ãã‚…ã†</td>\n<td style=\"text-align:center\">19</td>\n<td style=\"text-align:left\">ã˜ã‚…ã†ãï¼ã˜ã‚…ã†ãã‚…ã†</td>\n<td style=\"text-align:center\">ï¼</td>\n<td style=\"text-align:left\">ï¼</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0.1</td>\n<td style=\"text-align:left\">ã‚Œã„ã¦ã‚“ã„ã¡</td>\n<td style=\"text-align:center\">2/3</td>\n<td style=\"text-align:left\">ã•ã‚“ã¶ã‚“ã®ã«</td>\n<td style=\"text-align:center\">ï¼</td>\n<td style=\"text-align:left\">ï¼</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"è¯è¯­è®²è§£-2\"><a class=\"anchor\" href=\"#è¯è¯­è®²è§£-2\">#</a> è¯è¯­è®²è§£</h3>\n<h4 id=\"æ–¹ã‹ãŸ-ç¤¼è²Œè¯­è¨€\"><a class=\"anchor\" href=\"#æ–¹ã‹ãŸ-ç¤¼è²Œè¯­è¨€\">#</a> <ruby>æ–¹<rp> (</rp><rt>ã‹ãŸ</rt><rp>)</rp></ruby>ã€€ã€Œç¤¼è²Œè¯­è¨€ã€</h4>\n<p>å¯¹  <ruby>äºº<rp> (</rp><rt>ã²ã¨</rt><rp>)</rp></ruby>ã€€çš„ä¸€ç§å°Šç§°ï¼Œå¸¸ç”¨äºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>\n<ul>\n<li>é•¿è¾ˆã€ä¸Šå¸</li>\n<li>åˆæ¬¡è§é¢ã€äº¤å¾€ä¸å¤šçš„äºº</li>\n<li>ä¼šè®®æˆ–è€…å…¬å¼€åœºåˆ</li>\n</ul>\n<h4 id=\"è¯¢é—®å¹´é¾„-ç¤¼è²Œè¯­è¨€\"><a class=\"anchor\" href=\"#è¯¢é—®å¹´é¾„-ç¤¼è²Œè¯­è¨€\">#</a> è¯¢é—®å¹´é¾„ã€€ã€Œç¤¼è²Œè¯­è¨€ã€</h4>\n<ul>\n<li><ruby>ä½•æ­³<rp> (</rp><rt>ãªã‚“ã•ã„</rt><rp>)</rp></ruby> ã§ã™ãŒï¼ˆå¤šå¤§äº†ï¼‰</li>\n<li>ãŠã„ãã¤ã§ã™ã‹ï¼ˆå¤šå¤§å¹´çºªäº†ï¼Œæ›´ç¤¼è²Œä¸€äº›ï¼‰</li>\n<li>ã„ãã¤ï¼ˆå¤šå¤§äº†ï¼Œè¯¢é—®å°å­©ï¼‰</li>\n<li><ruby>ä½•æ­³<rp> (</rp><rt>ãªã‚“ã•ã„</rt><rp>)</rp></ruby>ï¼ˆå¤šå¤§äº†ï¼Œè¯¢é—®å°å­©ï¼‰</li>\n</ul>\n<h4 id=\"ã©ã†ã\"><a class=\"anchor\" href=\"#ã©ã†ã\">#</a>  <code>ã©ã†ã</code></h4>\n<p>æ„ä¸ºï¼šã€Œè¯·æ”¶ä¸‹ï¼è¯·ç”¨é¤ã€ï¼Œå¸¸ç”¨äºç»™å¯¹æ–¹ç‰©å“æˆ–è€…åŠå¯¹æ–¹è¿›é¤ã€‚</p>\n<h4 id=\"å¹è¯-2\"><a class=\"anchor\" href=\"#å¹è¯-2\">#</a>  <code>ã€Œå¹è¯ã€</code></h4>\n<ul>\n<li>ãˆã£ï¼šæ„ä¸ºã€Œå•Šï¼Ÿï¼å•¥ï¼Ÿã€ï¼Œè¡¨ç¤ºæƒŠå¹ï¼Œæ„å¤–ï¼ŒåƒæƒŠæˆ–è€…æ²¡æœ‰å¬æ‡‚å¯¹æ–¹è¯´è¯çš„åé—®ï¼Œé‡å¤è¯´ä¼šæ˜¾å¾—ä¸ç¤¼è²Œã€‚</li>\n<li>ã‚ã‚ï¼šæ„ä¸ºã€Œå“‡ï½ï¼ã€ï¼Œè¡¨ç¤ºæ„ŸåŠ¨ï¼ŒåƒæƒŠæˆ–è€…å¿ƒæƒ…æ¿€åŠ¨æ˜¯å‘å‡ºçš„å£°éŸ³ã€‚</li>\n<li>ã¯ã„ï¼šæ„ä¸ºã€Œå—¯ï¼æ˜¯çš„ã€ï¼Œè¡¨ç¤ºèµåŒå¯¹æ–¹çš„è§‚ç‚¹ã€‚è¢«åˆ«äººäº¤åˆ°çš„æ—¶å€™è¦ç”¨  <code>ã¯ã„</code>  ä¸èƒ½ç”¨  <code>ãˆãˆ</code></li>\n<li>ãˆãˆï¼šæ„ä¸ºã€Œå—¯ï¼æ˜¯çš„ã€ï¼Œè¡¨ç¤ºèµåŒå¯¹æ–¹çš„è§‚ç‚¹ã€‚</li>\n</ul>\n<h4 id=\"å¤–æ¥èªãŒã„ã‚‰ã„ã”\"><a class=\"anchor\" href=\"#å¤–æ¥èªãŒã„ã‚‰ã„ã”\">#</a> ã€Œ<ruby>å¤–æ¥èª<rp> (</rp><rt>ãŒã„ã‚‰ã„ã”</rt><rp>)</rp></ruby>ã€</h4>\n<p>å¤–æ¥è¯ï¼Œå¤§éƒ¨åˆ†æ¥è‡ªæ¬§ç¾è¯­è¨€ï¼Œç”¨ç‰‡å‡åä¹¦å†™ã€‚</p>\n<ul>\n<li>ã‚¹ãƒ¯ãƒˆã‚¦ï¼šæ±•å¤´</li>\n<li>ãƒ­ãƒ³ãƒ‰ãƒ³ï¼šä¼¦æ•¦</li>\n<li>ã‚·ãƒ«ã‚¯ï¼šä¸ç»¸</li>\n</ul>\n<h4 id=\"ã©ã†ã‚‚-ã‚ã‚ŠãŒã¨ã†-ã”ã–ã„ã¾ã™-å¯’æš„è¯­\"><a class=\"anchor\" href=\"#ã©ã†ã‚‚-ã‚ã‚ŠãŒã¨ã†-ã”ã–ã„ã¾ã™-å¯’æš„è¯­\">#</a>  <code>ã©ã†ã‚‚ã€€ã‚ã‚ŠãŒã¨ã†ã€€ã”ã–ã„ã¾ã™</code> ã€€ã€Œå¯’æš„è¯­ã€</h4>\n<p>å¸¸ç”¨äºè¡¨è¾¾å¯¹å¯¹æ–¹çš„è°¢æ„ï¼Œä¹Ÿå¯ä»¥ç®€åŒ–ç‰ˆçš„   <code>ã©ã†ã‚‚</code> ï¼Œæƒ…æ„Ÿæ²¡æœ‰åŸæ¥é‚£ä¹ˆå¼ºçƒˆã€‚</p>\n<h3 id=\"äº²å±ç§°è°“\"><a class=\"anchor\" href=\"#äº²å±ç§°è°“\">#</a> äº²å±ç§°è°“</h3>\n<table>\n<thead>\n<tr>\n<th>è‡ªå·±çš„äº²å±</th>\n<th>åˆ«äººçš„äº²å±</th>\n<th>è‡ªå·±çš„äº²å±</th>\n<th>åˆ«äººçš„äº²å±</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><ruby>ç¥–çˆ¶<rp> (</rp><rt>ããµ</rt><rp>)</rp></ruby>ã€€ç¥–çˆ¶ï¼å¤–ç¥–çˆ¶</td>\n<td>ãŠã˜ã„ã•ã‚“</td>\n<td><ruby>å…„å¼Ÿ<rp> (</rp><rt>ãã‚‡ã†ã ã„</rt><rp>)</rp></ruby> å…„å¼Ÿï¼å…„å¼Ÿå§å¦¹</td>\n<td>ã”<ruby>å…„å¼Ÿ<rp> (</rp><rt>ãã‚‡ã†ã ã„</rt><rp>)</rp></ruby></td>\n</tr>\n<tr>\n<td><ruby>ç¥–æ¯<rp> (</rp><rt>ãã¼</rt><rp>)</rp></ruby>ã€€ç¥–æ¯ï¼å¤–ç¥–æ¯</td>\n<td>ãŠã°ã‚ã•ã‚“</td>\n<td><ruby>å…„<rp> (</rp><rt>ã‚ã«</rt><rp>)</rp></ruby> ã€€å“¥å“¥</td>\n<td>ãŠ<ruby>å…„<rp> (</rp><rt>ã«ã„</rt><rp>)</rp></ruby> ã•ã‚“</td>\n</tr>\n<tr>\n<td><ruby>ä¸¡è¦ª<rp> (</rp><rt>ã‚Šã‚‡ã†ã—ã‚“</rt><rp>)</rp></ruby>ã€€çˆ¶æ¯</td>\n<td>ã”<ruby>ä¸¡è¦ª<rp> (</rp><rt>ã‚Šã‚‡ã†ã—ã‚“</rt><rp>)</rp></ruby></td>\n<td><ruby>å§‰<rp> (</rp><rt>ã‚ã­</rt><rp>)</rp></ruby>ã€€å§å§</td>\n<td>ãŠ<ruby>å§‰<rp> (</rp><rt>ã­ãˆ</rt><rp>)</rp></ruby> ã•ã‚“</td>\n</tr>\n<tr>\n<td><ruby>çˆ¶è¦ª<rp> (</rp><rt>ã¡ã¡</rt><rp>)</rp></ruby>ã€€çˆ¶äº²</td>\n<td>ãŠ <ruby>çˆ¶<rp> (</rp><rt>ã¨ã†</rt><rp>)</rp></ruby> ã•ã‚“</td>\n<td><ruby>å¼Ÿ<rp> (</rp><rt>ãŠã¨ã†ã¨</rt><rp>)</rp></ruby>ã€€å¼Ÿå¼Ÿ</td>\n<td><ruby>å¼Ÿ<rp> (</rp><rt>ãŠã¨ã†ã¨</rt><rp>)</rp></ruby> ã•ã‚“</td>\n</tr>\n<tr>\n<td><ruby>æ¯è¦ª<rp> (</rp><rt>ã¯ã¯</rt><rp>)</rp></ruby>ã€€æ¯äº²</td>\n<td>ãŠ <ruby>æ¯<rp> (</rp><rt>ã‹ã‚</rt><rp>)</rp></ruby> ã•ã‚“</td>\n<td><ruby>å¦¹<rp> (</rp><rt>ã„ã‚‚ã†ã¨</rt><rp>)</rp></ruby>ã€€å¦¹å¦¹</td>\n<td><ruby>å¦¹<rp> (</rp><rt>ã„ã‚‚ã†ã¨</rt><rp>)</rp></ruby> ã•ã‚“</td>\n</tr>\n<tr>\n<td><ruby>æ¯å­<rp> (</rp><rt>ã‚€ã™ã“</rt><rp>)</rp></ruby>ã€€å„¿å­</td>\n<td><ruby>æ¯å­<rp> (</rp><rt>ã‚€ã™ã“</rt><rp>)</rp></ruby> ã•ã‚“</td>\n<td>ãŠã˜ã€€ä¼¯ä¼¯ï¼å”å”ï¼èˆ…èˆ…ï¼å§‘çˆ¶</td>\n<td>ãŠã˜ã•ã‚“</td>\n</tr>\n<tr>\n<td><ruby>å¨˜<rp> (</rp><rt>ã‚€ã™ã‚</rt><rp>)</rp></ruby>ã€€å¥³å„¿</td>\n<td><ruby>å¨˜<rp> (</rp><rt>ã‚€ã™ã‚</rt><rp>)</rp></ruby> ã•ã‚“ï¼ãŠ <ruby>å¬¢<rp> (</rp><rt>ã˜ã‚‡ã†</rt><rp>)</rp></ruby> ã•ã‚“</td>\n<td>ãŠã°ã€€ä¼¯æ¯ï¼å©¶å©¶ï¼å§‘å§‘ï¼èˆ…å¦ˆ</td>\n<td>ãŠã°ã•ã‚“</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ç¬¬3è¯¾-ã“ã“ã¯-ãƒ‡ãƒ‘ãƒ¼ãƒˆã§ã™\"><a class=\"anchor\" href=\"#ç¬¬3è¯¾-ã“ã“ã¯-ãƒ‡ãƒ‘ãƒ¼ãƒˆã§ã™\">#</a> ç¬¬â‘¢è¯¾ ã“ã“ã¯ã€€ãƒ‡ãƒ‘ãƒ¼ãƒˆã§ã™</h2>\n<h3 id=\"è¯­æ³•è§£é‡Š-3\"><a class=\"anchor\" href=\"#è¯­æ³•è§£é‡Š-3\">#</a> è¯­æ³•è§£é‡Š</h3>\n<h4 id=\"ã“ã“ãã“ã‚ãã“-ã¯-åã§ã™\"><a class=\"anchor\" href=\"#ã“ã“ãã“ã‚ãã“-ã¯-åã§ã™\">#</a>  <code>ã€Œã“ã“ï¼ãã“ï¼ã‚ãã“ã€</code> ã€€ã¯ã€€ã€Œåã€ã§ã™</h4>\n<p>æ„ä¸ºã€Œè¿™é‡Œæ˜¯ï¼é‚£é‡Œæ˜¯ï¼é‚£å„¿æ˜¯ã€</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><code>ã“ã“</code> ã€€ã¯ã€€ãƒ‡ãƒ‘ãƒ¼ãƒˆã§ã™ã€‚ï¼ˆè¿™é‡Œæ˜¯ç™¾è´§å•†åº—ï¼‰</li>\n<li><code>ãã“</code> ã€€ã¯ã€€ <ruby>å›³æ›¸é¤¨<rp> (</rp><rt>ã¨ã—ã‚‡ã‹ã‚“</rt><rp>)</rp></ruby> ã§ã™ã€‚ï¼ˆé‚£é‡Œæ˜¯å›¾ä¹¦é¦†ï¼‰</li>\n<li><code>ã‚ãã“</code> ã€€ã¯ã€€ <ruby>å…¥å£<rp> (</rp><rt>ã„ã‚Šãã¡</rt><rp>)</rp></ruby> ã§ã™ã€‚ï¼ˆé‚£å„¿æ˜¯å…¥å£ï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"å-ã¯-ååœºæ‰€ã§ã™\"><a class=\"anchor\" href=\"#å-ã¯-ååœºæ‰€ã§ã™\">#</a> ã€Œåã€ã€€ã¯ã€€ <code>åã€Œåœºæ‰€ã€</code> ã§ã™</h4>\n<p>è¡¨ç¤ºå‰é¢çš„åè¯åœ¨åé¢çš„åœºæ‰€</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>é£Ÿå ‚<rp> (</rp><rt>ã—ã‚‡ãã©ã†</rt><rp>)</rp></ruby>ã€€ã¯ã€€ãƒ‡ãƒ‘ãƒ¼ãƒˆã®ã€€ <ruby>ä¸ƒéš<rp> (</rp><rt>ãªãªã‹ã„</rt><rp>)</rp></ruby>ã€€ã§ã™ã€‚ï¼ˆé£Ÿå ‚åœ¨ç™¾è´§å•†åº—çš„ä¸ƒæ¥¼ï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"å-ã¯-ã©ã“ã§ã™ãŒ\"><a class=\"anchor\" href=\"#å-ã¯-ã©ã“ã§ã™ãŒ\">#</a> ã€Œåã€ã€€ã¯ã€€ã©ã“ã§ã™ãŒ</h4>\n<p>è¡¨ç¤ºè¯¢é—®å‰é¢çš„åè¯åœ¨å“ª</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>ãƒˆã‚¤ãƒ¬ã€€ã¯ã€€ã©ã“ã§ã™ãŒã€‚ï¼ˆå•æ‰€åœ¨å“ªï¼Ÿï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"å-ã‚‚-å-ã§ã™\"><a class=\"anchor\" href=\"#å-ã‚‚-å-ã§ã™\">#</a> ã€Œåã€ã€€ã‚‚ã€€ã€Œåã€ã€€ã§ã™</h4>\n<p><code>ã‚‚</code> ã€€è¡¨ç¤º  <code>ä¹Ÿ</code>  çš„æ„æ€</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>ã‚ãªãŸã€€ã‚‚ã€€ <ruby>ä¸­å›½äºº<rp> (</rp><rt>ã¡ã‚…ã†ã”ãã˜ã‚“</rt><rp>)</rp></ruby> ã§ã™ãŒã€‚ï¼ˆä½ ä¹Ÿæ˜¯ä¸­å›½äººå—ï¼Ÿï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"å-ã¯-å-ã§ã™ã‹å-ã§ã™ã‹\"><a class=\"anchor\" href=\"#å-ã¯-å-ã§ã™ã‹å-ã§ã™ã‹\">#</a> ã€Œåã€ã€€ã¯ã€€ã€Œåã€ã€€ã§ã™ã‹ï¼Œã€Œåã€ã€€ã§ã™ã‹</h4>\n<p>å‘åˆ«äººè¯¢é—®ç­”æ¡ˆæ˜¯å¦æ˜¯å…¶ä¸­çš„ä¸€ç§ï¼Œå›ç­”çš„æ—¶å€™ä¸èƒ½ç”¨  <code>ã¯ã„</code>  æˆ–è€…  <code>ã„ã„ãˆ</code></p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æ—<rp> (</rp><rt>ã¯ã‚„ã—</rt><rp>)</rp></ruby> ã•ã‚“ã¯ã€€ <ruby>éŸ“å›½äºº<rp> (</rp><rt>ã‹ã‚“ã“ãã˜ã‚“</rt><rp>)</rp></ruby> ã§ã™ã‹ï¼Œ <ruby>æ—¥æœ¬äºº<rp> (</rp><rt>ã«ã»ã‚“ã˜ã‚“</rt><rp>)</rp></ruby> ã§ã™ã‹ï¼Œ <ruby>ä¸­å›½äºº<rp> (</rp><rt>ã¡ã‚…ã†ã”ãã˜ã‚“</rt><rp>)</rp></ruby> ã§ã™ãŒã€‚</li>\n<li><ruby>æ—¥æœ¬äºº<rp> (</rp><rt>ã«ã»ã‚“ã˜ã‚“</rt><rp>)</rp></ruby> ã§ã™ã€‚<br />\nâ€”â€” æ—å…ˆç”Ÿæ˜¯éŸ©å›½äººï¼Œæ—¥æœ¬äººï¼Œè¿˜æ˜¯ä¸­å›½äººã€‚<br />\nâ€”â€” æ˜¯æ—¥æœ¬äººã€‚</li>\n</ul>\n</div></details>\n<h3 id=\"100ä»¥ä¸Šæ•°å­—\"><a class=\"anchor\" href=\"#100ä»¥ä¸Šæ•°å­—\">#</a> 100 ä»¥ä¸Šæ•°å­—</h3>\n<table>\n<thead>\n<tr>\n<th>100</th>\n<th>ã²ã‚ƒã</th>\n<th>1000</th>\n<th>ã›ã‚“</th>\n<th>10,000</th>\n<th>ã„ã¡ã¾ã‚“</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>200</td>\n<td>ã«ã²ã‚ƒã</td>\n<td>2000</td>\n<td>ã«ã›ã‚“</td>\n<td>100,000</td>\n<td>ã˜ã‚…ã†ã¾ã‚“</td>\n</tr>\n<tr>\n<td>300</td>\n<td>ã•ã‚“ <code>ã³</code> ã‚ƒã</td>\n<td>3000</td>\n<td>ã•ã‚“ãœã‚“</td>\n<td>1,000,000</td>\n<td>ã²ã‚ƒãã¾ã‚“</td>\n</tr>\n<tr>\n<td>400</td>\n<td>ã‚ˆã‚“ã²ã‚ƒã</td>\n<td>4000</td>\n<td>ã‚ˆã‚“ã›ã‚“</td>\n<td>10,000,000</td>\n<td>ã„ã£ã›ã‚“ã¾ã‚“</td>\n</tr>\n<tr>\n<td>500</td>\n<td>ã”ã²ã‚ƒã</td>\n<td>5000</td>\n<td>ã”ã›ã‚“</td>\n<td>100,000,000</td>\n<td>ã„ã¡ãŠã</td>\n</tr>\n<tr>\n<td>600</td>\n<td>ã‚ã£ã´ã‚ƒã</td>\n<td>6000</td>\n<td>ã‚ãã›ã‚“</td>\n<td>9002</td>\n<td>ãã‚…ã†ã›ã‚“ã«</td>\n</tr>\n<tr>\n<td>700</td>\n<td>ãªãªã²ã‚ƒã</td>\n<td>7000</td>\n<td>ãªãªã›ã‚“</td>\n<td>9020</td>\n<td>ãã‚…ã†ã›ã‚“ã«ã˜ã‚…ã†</td>\n</tr>\n<tr>\n<td>800</td>\n<td>ã¯ã£ã´ã‚ƒã</td>\n<td>8000</td>\n<td>ã¯ã£ã›ã‚“</td>\n<td>9200</td>\n<td>ãã‚…ã†ã›ã‚“ã«ã²ã‚ƒã</td>\n</tr>\n<tr>\n<td>900</td>\n<td>ãã‚…ã†ã²ã‚ƒã</td>\n<td>9000</td>\n<td>ãã‚…ã†ã›ã‚“</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>ä¸€ç™¾ã€ä¸€åƒå‰é¢ä¸éœ€è¦åŠ   <code>ã€Œ1ã€</code> ï¼Œä½†æ˜¯ä¸€ä¸‡ã€ä¸€åƒä¸‡ã€ä¸€äº¿éœ€è¦ã€‚</p>\n</blockquote>\n<h3 id=\"è¯è¯­è®²è§£-3\"><a class=\"anchor\" href=\"#è¯è¯­è®²è§£-3\">#</a> è¯è¯­è®²è§£</h3>\n<h4 id=\"ä¸€éšã„ã£ã‹ã„-é‡è¯ä¸€æ¥¼\"><a class=\"anchor\" href=\"#ä¸€éšã„ã£ã‹ã„-é‡è¯ä¸€æ¥¼\">#</a> <ruby>ä¸€éš<rp> (</rp><rt>ã„ã£ã‹ã„</rt><rp>)</rp></ruby> ã€Œé‡è¯ã€ï¼šä¸€æ¥¼</h4>\n<h4 id=\"è°“è¯­çœç•¥\"><a class=\"anchor\" href=\"#è°“è¯­çœç•¥\">#</a> è°“è¯­çœç•¥</h4>\n<p>è¿›ä¸€æ­¥è¯¢é—®æ—¶ï¼Œæœ‰æ—¶å€™åªæ˜¯ç®€å•çš„æ›¿æ¢ä¸»è¯­ï¼Œå¯ä»¥æŠŠè°“è¯­çœç•¥</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>ã“ã‚Œã¯ã€€ã„ãã‚‰ã§ã™ã‹</li>\n<li>ã‚ã‚Œã¯</li>\n</ul>\n<p>â€”â€” è¿™ä¸ªå¤šå°‘é’±ï¼Ÿ<br />\nâ€”â€” é‚£ä¸ªå‘¢ï¼Ÿ</p>\n</div></details>\n<h4 id=\"ç¤¼è²Œè¯­è¨€\"><a class=\"anchor\" href=\"#ç¤¼è²Œè¯­è¨€\">#</a> ç¤¼è²Œè¯­è¨€</h4>\n<p>-ã€€ã“ã¡ã‚‰ï¼ãã¡ã‚‰ï¼ã‚ã¡ã‚‰ï¼ã©ã¡ã‚‰ï¼šè¿™é‡Œï¼é‚£é‡Œï¼é‚£å„¿ï¼å“ªå„¿</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>å—ä»˜<rp> (</rp><rt>ã†ã‘ã¤ã‘</rt><rp>)</rp></ruby> ã¯ã€€ã©ã“ã§ã™ã‹ã€‚ï¼ˆæ¥å¾…å¤„åœ¨å“ªï¼Ÿï¼‰</li>\n<li>ã‚ãã“ã§ã™ã€‚ï¼ˆåœ¨é‚£å„¿ã€‚ï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"ç¼©ç•¥è¯\"><a class=\"anchor\" href=\"#ç¼©ç•¥è¯\">#</a> ç¼©ç•¥è¯</h4>\n<ul>\n<li>ãƒ‘ã‚½ã‚³ãƒ³ï¼ˆãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ï¼‰ï¼šä¸ªäººç”µè„‘</li>\n</ul>\n<h4 id=\"ã‚ã®ã†æ­è¯\"><a class=\"anchor\" href=\"#ã‚ã®ã†æ­è¯\">#</a> ã‚ã®ã†ã€Œæ­è¯ã€</h4>\n<p>å¼•èµ·å¯¹æ–¹æ³¨æ„ï¼Œå¼€å¯ä¸€æ®µå¯¹è¯ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>ã‚ã®ã†ï¼Œ <ruby>èª²é•·<rp> (</rp><rt>ã‹ã¡ã‚‡ã†</rt><rp>)</rp></ruby>ã€‚ï¼ˆå¯¹ä¸èµ·ï¼Œç§‘é•¿ï¼‰</li>\n<li><ruby>ä½•<rp> (</rp><rt>ãªã‚“</rt><rp>)</rp></ruby> ã§ã™ã‹ã€‚ï¼ˆä»€ä¹ˆï¼Ÿï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"~ã§ã™ã‹ç¡®è®¤\"><a class=\"anchor\" href=\"#~ã§ã™ã‹ç¡®è®¤\">#</a> ï½ã§ã™ã‹ã€Œç¡®è®¤ã€</h4>\n<p>ãŒï¼ˆâ†—ï¼‰è¡¨ç¤ºä¸ç¡®å®šçš„è¯¢é—®ï¼ŒãŒï¼ˆâ†˜ï¼‰è¡¨ç¤ºè‚¯å®š</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>\n<p>ã‚ã®ã†ï¼Œ <ruby>æ±äº¬<rp> (</rp><rt>ã¨ã†ãã‚‡ã†</rt><rp>)</rp></ruby>ã€€ <ruby>åœ°å›³<rp> (</rp><rt>ã¡ãš</rt><rp>)</rp></ruby> ã¯ã€€ã©ã“ã§ã™ã‹ã€‚ï¼ˆè¯·é—®ï¼Œä¸œäº¬åœ°å›¾åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿï¼‰</p>\n</li>\n<li>\n<p><ruby>åœ°å›³<rp> (</rp><rt>ã¡ãš</rt><rp>)</rp></ruby> ã§ã™ã‹ï¼ˆâ†—ï¼‰ã€‚ãã¡ã‚‰ã§ã™ã€‚ï¼ˆåœ°å›¾ï¼Ÿåœ¨é‚£å„¿ã€‚ï¼‰</p>\n</li>\n<li>\n<p>ã“ã‚Œã¯ã€€ãƒ‘ã‚½ã‚³ãƒ³ã§ã™ã€‚ï¼ˆé‚£ä¸ªæ˜¯ä¸ªäººç”µè„‘ï¼‰</p>\n</li>\n<li>\n<p>ãƒ‘ã‚½ã‚³ãƒ³ã§ã™ã‹ï¼ˆâ†˜ï¼‰ã€‚ï¼ˆæ˜¯ä¸ªäººç”µè„‘å•Šï¼‰</p>\n</li>\n</ul>\n</div></details>\n<h3 id=\"è‹±æ–‡å­—æ¯\"><a class=\"anchor\" href=\"#è‹±æ–‡å­—æ¯\">#</a> è‹±æ–‡å­—æ¯</h3>\n<table>\n<thead>\n<tr>\n<th>A a</th>\n<th>ã‚¨ãƒ¼</th>\n<th>B b</th>\n<th>ãƒ“ãƒ¼</th>\n<th>C c</th>\n<th>ã‚·ãƒ¼</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>D d</td>\n<td>ãƒ‡ã‚£ãƒ¼</td>\n<td>E e</td>\n<td>ã‚¤ãƒ¼</td>\n<td>F f</td>\n<td>ã‚¨ãƒ•</td>\n</tr>\n<tr>\n<td>G g</td>\n<td>ã‚¸ãƒ¼</td>\n<td>H h</td>\n<td>ã‚¨ã‚¤ãƒï¼ã‚¨ãƒƒãƒ</td>\n<td>I i</td>\n<td>ã‚¢ã‚¤</td>\n</tr>\n<tr>\n<td>J j</td>\n<td>ã‚¸ã‚§ã‚¤</td>\n<td>K k</td>\n<td>ã‚±ãƒ¼</td>\n<td>L l</td>\n<td>ã‚¨ãƒ«</td>\n</tr>\n<tr>\n<td>M m</td>\n<td>ã‚¨ãƒ </td>\n<td>N n</td>\n<td>ã‚¨ãƒŒ</td>\n<td>O o</td>\n<td>ã‚ªãƒ¼</td>\n</tr>\n<tr>\n<td>P p</td>\n<td>ãƒ”ãƒ¼</td>\n<td>Q q</td>\n<td>ã‚­ãƒ¥ãƒ¼</td>\n<td>R r</td>\n<td>ã‚¢ãƒ¼ãƒ«</td>\n</tr>\n<tr>\n<td>S s</td>\n<td>ã‚¨ã‚¹</td>\n<td>T t</td>\n<td>ãƒ†ã‚£ãƒ¼</td>\n<td>U u</td>\n<td>ãƒ¦ãƒ¼</td>\n</tr>\n<tr>\n<td>V v</td>\n<td>ãƒ–ãƒ¼</td>\n<td>W w</td>\n<td>ãƒ€ãƒ–ãƒªãƒ¥ãƒ¼</td>\n<td>X x</td>\n<td>ã‚¨ãƒƒã‚¯ã‚¹</td>\n</tr>\n<tr>\n<td>Y y</td>\n<td>ãƒ¯ã‚¤</td>\n<td>Z z</td>\n<td>ã‚¼ãƒƒãƒˆï¼ã‚ºã‚£ãƒ¼</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ç¬¬4è¯¾-éƒ¨å±‹ã¸ã‚„ã«-æœºã¤ããˆã¨-ã„ã™ãŒ-ã‚ã‚Šã¾ã™\"><a class=\"anchor\" href=\"#ç¬¬4è¯¾-éƒ¨å±‹ã¸ã‚„ã«-æœºã¤ããˆã¨-ã„ã™ãŒ-ã‚ã‚Šã¾ã™\">#</a> ç¬¬â‘£è¯¾  <ruby>éƒ¨å±‹<rp> (</rp><rt>ã¸ã‚„</rt><rp>)</rp></ruby> ã«ã€€ <ruby>æœº<rp> (</rp><rt>ã¤ããˆ</rt><rp>)</rp></ruby> ã¨ã€€ã„ã™ãŒã€€ã‚ã‚Šã¾ã™</h2>\n<h3 id=\"è¯­æ³•è§£é‡Š-4\"><a class=\"anchor\" href=\"#è¯­æ³•è§£é‡Š-4\">#</a> è¯­æ³•è§£é‡Š</h3>\n<h4 id=\"ã‚ã‚Šã¾ã™-å’Œ-ã„ã¾ã™\"><a class=\"anchor\" href=\"#ã‚ã‚Šã¾ã™-å’Œ-ã„ã¾ã™\">#</a> ã‚ã‚Šã¾ã™ã€€å’Œã€€ã„ã¾ã™</h4>\n<p>ä¸¤è€…éƒ½è¡¨ç¤ºäº‹ç‰©å­˜åœ¨ï¼Œ <code>ã‚ã‚Šã¾ã™</code>  è¡¨ç¤ºä¸å…·æœ‰æ„è¯†çš„æ­»ç‰©ï¼Œ <code>ã„ã¾ã™</code>  è¡¨ç¤ºåŠ¨ç‰©æˆ–æ˜†è™«</p>\n<ul>\n<li>åã€Œåœºæ‰€ã€  <code>ã«</code> ã€€åã€Œç‰©ï¼äººã€ <code>ãŒ</code> ã€€ <code>ã‚ã‚Šã¾ã™ï¼ã„ã¾ã™</code> ï¼šè¡¨ç¤º  <code>~æœ‰~</code></li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p><ruby>éƒ¨å±‹<rp> (</rp><rt>ã¸ã‚„</rt><rp>)</rp></ruby> ã«ã€€<ruby>æœº<rp> (</rp><rt>ã¤ããˆ</rt><rp>)</rp></ruby> ãŒã€€ã‚ã‚Šã¾ã™ã€‚ï¼ˆæˆ¿é—´é‡Œæœ‰æ¡Œå­ï¼‰</p>\n<p><ruby>å…¬åœ’<rp> (</rp><rt>ã“ã†ãˆã‚“</rt><rp>)</rp></ruby> ã«ã€€ <ruby>å­ä¾›<rp> (</rp><rt>ã“ã©ã‚‚</rt><rp>)</rp></ruby> ãŒã€€ã„ã¾ã™ã€‚ï¼ˆå…¬å›­é‡Œæœ‰å°å­©ï¼‰</p>\n</div></details>\n<ul>\n<li>åã€Œç‰©ï¼äººã€  <code>ã¯</code> ã€€åã€Œåœºæ‰€ã€ <code>ã«</code> ã€€ <code>ã‚ã‚Šã¾ã™ï¼ã„ã¾ã™</code> ï¼šè¡¨ç¤º  <code>~åœ¨~</code></li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p>ã„ã™ã€€ã¯ã€€<ruby>éƒ¨å±‹<rp> (</rp><rt>ã¸ã‚„</rt><rp>)</rp></ruby> ã«ã€€ã‚ã‚Šã¾ã™ã€‚ï¼ˆæ¤…å­åœ¨æˆ¿é—´é‡Œï¼‰</p>\n<p><ruby>å­ä¾›<rp> (</rp><rt>ã“ã©ã‚‚</rt><rp>)</rp></ruby>ã€€ã¯ã€€ <ruby>å…¬åœ’<rp> (</rp><rt>ã“ã†ãˆã‚“</rt><rp>)</rp></ruby> ã«ã€€ã„ã¾ã™ã€‚ï¼ˆå°å­©åœ¨å…¬å›­ï¼‰</p>\n</div></details>\n<ul>\n<li>ç–‘é—®å¥</li>\n</ul>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<p><ruby>å°é‡<rp> (</rp><rt>ãŠã®</rt><rp>)</rp></ruby> ã•ã‚“ã®ã€€ <ruby>å®¶<rp> (</rp><rt>ã„ãˆ</rt><rp>)</rp></ruby> ã¯ã€€ã©ã”ã«ã€€ã‚ã‚Šã¾ã™ã‹ã€‚ï¼ˆå°é‡å¥³å£«çš„å®¶åœ¨å“ªé‡Œï¼‰</p>\n<p><ruby>æ—<rp> (</rp><rt>ã¯ã‚„ã—</rt><rp>)</rp></ruby> ã•ã‚“ã¯ã€€ã©ã”ã«ã€€ã„ã¾ã™ã‹ã€‚ï¼ˆæ—å…ˆç”Ÿåœ¨å“ªï¼‰</p>\n</div></details>\n<h4 id=\"åã¨åå¹¶åˆ—\"><a class=\"anchor\" href=\"#åã¨åå¹¶åˆ—\">#</a> ã€Œåã€ã¨ã€Œåã€ã€Œå¹¶åˆ—ã€</h4>\n<p>æ„æ€å’Œæ±‰è¯­çš„ã€Œå’Œã€ç›¸è¿‘</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æ™‚è¨ˆ<rp> (</rp><rt>ã¨ã‘ã„</rt><rp>)</rp></ruby>ã€€ <code>ã¨</code> ã€€ <ruby>çœ¼é¡<rp> (</rp><rt>ã‚ãŒã­</rt><rp>)</rp></ruby>ã€‚ï¼ˆè¡¨å’Œçœ¼é•œï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"ä¸Šã†ãˆ-ä¸‹ã—ãŸ-å‰ã¾ãˆ-å¾Œã†ã—ã‚-éš£ã¨ãªã‚Š-ä¸­ãªã‹-å¤–ãã¨\"><a class=\"anchor\" href=\"#ä¸Šã†ãˆ-ä¸‹ã—ãŸ-å‰ã¾ãˆ-å¾Œã†ã—ã‚-éš£ã¨ãªã‚Š-ä¸­ãªã‹-å¤–ãã¨\">#</a> <ruby>ä¸Š<rp> (</rp><rt>ã†ãˆ</rt><rp>)</rp></ruby>ï¼ <ruby>ä¸‹<rp> (</rp><rt>ã—ãŸ</rt><rp>)</rp></ruby>ï¼ <ruby>å‰<rp> (</rp><rt>ã¾ãˆ</rt><rp>)</rp></ruby>ï¼ <ruby>å¾Œ<rp> (</rp><rt>ã†ã—</rt><rp>)</rp></ruby> ã‚ï¼ <ruby>éš£<rp> (</rp><rt>ã¨ãªã‚Š</rt><rp>)</rp></ruby>ï¼ <ruby>ä¸­<rp> (</rp><rt>ãªã‹</rt><rp>)</rp></ruby>ï¼ <ruby>å¤–<rp> (</rp><rt>ãã¨</rt><rp>)</rp></ruby></h4>\n<p>æ„ä¸º ä¸Šï¼ä¸‹ï¼å‰ï¼åï¼æ—è¾¹ï¼é‡Œé¢ï¼å¤–é¢ã€‚</p>\n<p>è¡¨ç¤ºå…·ä½“ä½ç½®æ—¶ï¼Œç”¨ ã€Œåè¯ã€+  <code>ã®</code>  + <ruby>ä¸Š<rp> (</rp><rt>ã†ãˆ</rt><rp>)</rp></ruby>ï¼ <ruby>ä¸‹<rp> (</rp><rt>ã—ãŸ</rt><rp>)</rp></ruby>ï¼ <ruby>å‰<rp> (</rp><rt>ã¾ãˆ</rt><rp>)</rp></ruby>ï¼ <ruby>å¾Œ<rp> (</rp><rt>ã†ã—</rt><rp>)</rp></ruby> ã‚ï¼ <ruby>éš£<rp> (</rp><rt>ã¨ãªã‚Š</rt><rp>)</rp></ruby>ï¼ <ruby>ä¸­<rp> (</rp><rt>ãªã‹</rt><rp>)</rp></ruby>ï¼ <ruby>å¤–<rp> (</rp><rt>ãã¨</rt><rp>)</rp></ruby></p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æœº<rp> (</rp><rt>ã¤ããˆ</rt><rp>)</rp></ruby>ã€€ã®ã€€<ruby>ä¸Š<rp> (</rp><rt>ã†ãˆ</rt><rp>)</rp></ruby>ã€€ã«ã€€ <ruby>çŒ«<rp> (</rp><rt>ã­ã“</rt><rp>)</rp></ruby> ãŒã€€ã„ã¾ã™ã€‚ï¼ˆæ¡Œå­ä¸Šæœ‰ä¸€åªçŒ«ï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"ã­nÃ©ç¡®è®¤\"><a class=\"anchor\" href=\"#ã­nÃ©ç¡®è®¤\">#</a> <ruby>ã­<rp> (</rp><rt>nÃ©</rt><rp>)</rp></ruby>ã€Œç¡®è®¤ã€</h4>\n<p>ä¸€èˆ¬ç”¨äºç»“å°¾ï¼Œè¡¨ç¤ºå¯¹æŸä»¶äº‹çš„ç¡®è®¤å½¢å¼çš„æé—®ï¼Œæˆ–è€…æƒ³è¦å¾æ±‚æŸäººåŒæ„ã€‚</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li>ã‚ã®ã“ã«ã€€ <ruby>çŠ¬<rp> (</rp><rt>ã„ã¬</rt><rp>)</rp></ruby> ãŒã€€ã„ã¾ã™ <code>ã­</code> ã€‚ï¼ˆé‚£å„¿æœ‰ä¸€åªç‹—å•Šã€‚ï¼‰</li>\n</ul>\n</div></details>\n<h4 id=\"ç–‘é—®è¯ã‚‚åŠ¨å¦å®š\"><a class=\"anchor\" href=\"#ç–‘é—®è¯ã‚‚åŠ¨å¦å®š\">#</a> ã€Œç–‘é—®è¯ã€+ ã‚‚ï¼‹ã€ŒåŠ¨ã€ï¼ˆå¦å®šï¼‰</h4>\n<p>è¡¨ç¤ºå…¨é¢å¦å®š</p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>æ•™å®¤<rp> (</rp><rt>ãã‚‡ã†ã—ã¤</rt><rp>)</rp></ruby> ã«ã€€ <code>ã ã‚Œ</code> ã‚‚ã€€ <code>ã„ã¾ã›ã‚“</code> ã€‚ï¼ˆæ•™å¸ˆé‡Œä»€ä¹ˆéƒ½æ²¡æœ‰ï¼‰</li>\n</ul>\n</div></details>\n<h3 id=\"è¯è¯­è®²è§£-4\"><a class=\"anchor\" href=\"#è¯è¯­è®²è§£-4\">#</a> è¯è¯­è®²è§£</h3>\n<h4 id=\"ä¸Šã†ãˆçš„èŒƒå›´\"><a class=\"anchor\" href=\"#ä¸Šã†ãˆçš„èŒƒå›´\">#</a> <ruby>ä¸Š<rp> (</rp><rt>ã†ãˆ</rt><rp>)</rp></ruby> çš„èŒƒå›´</h4>\n<p>æ—¥è¯­ä¸­ <ruby>ä¸Š<rp> (</rp><rt>ã†ãˆ</rt><rp>)</rp></ruby> æ‰€è¡¨ç¤ºçš„èŒƒå›´åªæœ‰å‚ç›´ä¸Šæ–¹ï¼Œä¸åŒ…æ‹¬å…¶ä»–ä½ç½®å…³ç³»ã€‚</p>\n<p>å¦‚æœè¦è¡¨ç¤ºå¢™ä¸Šè¿™ç§å…³ç³»ï¼ˆå¢™è¡¨é¢ï¼‰ï¼Œä¸€èˆ¬ç”¨  <code>ã«</code></p>\n<details class=\"info\"><summary>ç¤ºä¾‹ï¼š</summary><div>\n<ul>\n<li><ruby>å£<rp> (</rp><rt>ã‹ã¹</rt><rp>)</rp></ruby> ã«ã€€ã‚¹ã‚¤ãƒƒãƒãŒã€€ã‚ã‚Šã¾ã™ã€‚ï¼ˆå¢™ä¸Šæœ‰å¼€å…³ï¼‰ğŸ‘</li>\n<li><ruby>å£<rp> (</rp><rt>ã‹ã¹</rt><rp>)</rp></ruby> ã®ã€€<ruby>ä¸Š<rp> (</rp><rt>ã†ãˆ</rt><rp>)</rp></ruby> ã«ã€€ã‚¹ã‚¤ãƒƒãƒãŒã€€ã‚ã‚Šã¾ã™ã€‚ğŸ‘</li>\n</ul>\n</div></details>\n<h4 id=\"ãˆãˆã¨\"><a class=\"anchor\" href=\"#ãˆãˆã¨\">#</a> ãˆãˆã¨</h4>\n<p>æ„ä¸ºï¼šé‚£ä¸ª...ã€‚è¯­æ°”è¯ï¼Œä¸€èˆ¬è¡¨ç¤ºè¿˜æ²¡æƒ³å¥½è¯´å•¥çš„ä¸€ç§å›åº”ã€‚</p>\n<h4 id=\"ã”-å®¶æ—ã‹ããã”-å…„å¼Ÿãã‚‡ã†ã ã„ã”-ä¸¡è¦ªã‚Šã‚‡ã†ã—ã‚“ç¤¼è²Œç”¨è¯­\"><a class=\"anchor\" href=\"#ã”-å®¶æ—ã‹ããã”-å…„å¼Ÿãã‚‡ã†ã ã„ã”-ä¸¡è¦ªã‚Šã‚‡ã†ã—ã‚“ç¤¼è²Œç”¨è¯­\">#</a> ã” <ruby>å®¶æ—<rp> (</rp><rt>ã‹ãã</rt><rp>)</rp></ruby>ï¼ã” <ruby>å…„å¼Ÿ<rp> (</rp><rt>ãã‚‡ã†ã ã„</rt><rp>)</rp></ruby>ï¼ã” <ruby>ä¸¡è¦ª<rp> (</rp><rt>ã‚Šã‚‡ã†ã—ã‚“</rt><rp>)</rp></ruby>ã€Œç¤¼è²Œç”¨è¯­ã€</h4>\n<p>è¡¨ç¤ºå¯¹åˆ«äººçš„ ã€Œå®¶äººï¼å…„å¼Ÿï¼çˆ¶æ¯ã€ çš„ä¸€ä¸ªå°Šç§°ã€‚åŠ ä¸Š  <code>ã”</code>  æ˜¾å¾—æ›´åŠ ç¤¼è²Œ</p>\n<h4 id=\"å…„å¼Ÿãã‚‡ã†ã ã„\"><a class=\"anchor\" href=\"#å…„å¼Ÿãã‚‡ã†ã ã„\">#</a> <ruby>å…„å¼Ÿ<rp> (</rp><rt>ãã‚‡ã†ã ã„</rt><rp>)</rp></ruby></h4>\n<p>æ—¥è¯­é‡Œçš„ <ruby>å…„å¼Ÿ<rp> (</rp><rt>ãã‚‡ã†ã ã„</rt><rp>)</rp></ruby> ä»…ä»…æŒ‡ä»£æœ‰äº²ç¼˜å…³ç³»çš„ã€Œå…„å¼Ÿï¼å§å¦¹ï¼å…„å¦¹ï¼å§å¼Ÿã€</p>\n",
            "tags": [
                "æ—¥è¯­",
                "å­¦ä¹ ç¬”è®°",
                "æ—¥è¯­è¯­æ³•åˆçº§ï¼ˆä¸Šï¼‰",
                "æ—¥è¯­è¯­æ³•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/python/Python-HotFix/",
            "url": "https://allengx.gitee.io/computer-science/study/python/Python-HotFix/",
            "title": "Python HotFix çƒ­æ›´æ–°",
            "date_published": "2020-10-21T11:05:00.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"hotfix-çƒ­æ›´æ–°\"><a class=\"anchor\" href=\"#hotfix-çƒ­æ›´æ–°\">#</a> HotFix çƒ­æ›´æ–°</h1>\n<h2 id=\"æ¦‚å¿µ\"><a class=\"anchor\" href=\"#æ¦‚å¿µ\">#</a> æ¦‚å¿µï¼š</h2>\n<ul>\n<li>çƒ­æ›´æ–°æ˜¯æŒ‡åœ¨ Python ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¿®æ”¹ä»£ç ä¸­çš„éƒ¨åˆ†ç‰‡æ®µï¼Œå¹¶èƒ½å¤Ÿ<strong>ä¸éœ€è¦é‡æ–°å¯åŠ¨ç¨‹åº</strong>ï¼Œä¾¿èƒ½å¤Ÿåœ¨è¿è¡Œç¨‹åºä¸­ç”Ÿæ•ˆã€‚</li>\n<li>çƒ­æ›´æ–°ä¸€èˆ¬éƒ½æ˜¯åŸºäº  <code>module</code>  æ¥è¿›è¡Œçš„ï¼Œæ‰€ä»¥çƒ­æ›´æ–°æœ¬è´¨å°±æ˜¯æ›´æ–°  <code>module</code></li>\n<li>ä¸ºäº†èƒ½å¤Ÿä¿è¯çƒ­æ›´ä¹‹å‰åˆ›å»ºçš„ç»å¤§å¤šæ•°å¯¹è±¡æ˜¯èƒ½å¤Ÿæ­£å¸¸å·¥ä½œçš„ï¼Œä¸€èˆ¬ä¼šå°½é‡é¿å…å¯¹å¯¹è±¡ç›´æ¥è¿›è¡Œæ›¿æ¢ï¼Œèƒ½ä¿®æ”¹çš„å°½é‡ä¸æ›¿æ¢ã€‚</li>\n</ul>\n<h2 id=\"ä»‹ç»\"><a class=\"anchor\" href=\"#ä»‹ç»\">#</a> ä»‹ç»ï¼š</h2>\n<ul>\n<li>ä¸€ä¸ª  <code>module</code>  é‡Œé¢åŒ…å«çš„å†…å®¹å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š\n<ul>\n<li><code>class</code>  ï¼šç±»</li>\n<li><code>function</code>  ï¼šæ–¹æ³•</li>\n<li><code>global object</code>  ï¼šå…¨å±€å¯¹è±¡</li>\n</ul>\n</li>\n</ul>\n<p>çœ‹ä¸Šå»åªæœ‰ä¸‰ç§ç±»ä¼¼çš„å¯¹è±¡ï¼Œå…¶å®æ›´æ–°çš„æ—¶å€™æ³¨æ„çš„ç‚¹è¿˜æŒºå¤šçš„ï¼š</p>\n<ul>\n<li>æ¨¡å—æ˜¯æ–°å¢æˆ–è€…ç±»å‹å‘ç”Ÿäº†å˜æ›´ï¼Œå¯ä»¥ç›´æ¥æ›¿æ¢ã€‚</li>\n<li>ä¸€èˆ¬ä¸å¯¹æ¨¡å—å†…å»ºå‡½æ•°å’Œå†…å»ºå…¨å±€å¯¹è±¡åšæ“ä½œï¼ˆå¤§éƒ¨åˆ†æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œè¿˜æœ‰ä¸€äº›å¹³æ—¶ä¹Ÿä¸ä¼šæ”¹ï¼Œæ²¡æœ‰çƒ­æ›´å¿…è¦ï¼‰ã€‚</li>\n<li>é™¤æ­¤ä»¥å¤–çš„å°±æ˜¯å¯¹ä¸‰ç§ç±»å‹çš„åˆ†åˆ«æ›´æ–°äº†ã€‚</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">reload_module</span><span class=\"token punctuation\">(</span>module_name<span class=\"token punctuation\">:</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    çƒ­æ›´æ¨¡å—(module):</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        â‘ : æ›´æ–°æ–°å¢æˆå‘˜</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        â‘¡: è·³è¿‡ builtins æ¨¡å—</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        â‘¢: å¤„ç†ç±»å‹ä¸åŒçš„æˆå‘˜</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        â‘£: æ›´æ–°ç±»æˆå‘˜</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        â‘¤: æ›´æ–°å‡½æ•°æˆå‘˜</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        â‘¥: æ›´æ–°æˆå‘˜å˜é‡</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token comment\"># è¯¥æ¨¡å—ä¹‹å‰æ²¡æœ‰è¢«åŠ è½½ï¼Œä¸å…è®¸çƒ­æ›´æ–°</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    old_module <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>modules<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>module_name<span class=\"token punctuation\">,</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> old_module<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">raise</span> Exception<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>module_name<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> is not import can't reload\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\"># Python3.7 çš„æœºåˆ¶ï¼Œå¦‚æœä¸ pop æ‰æ—§çš„æ¨¡å—ï¼Œ import_module æ“ä½œåªä¼šä» moduels å–å‡ºæ—§çš„ç¼“å­˜æ•°æ®ï¼Œä¸ä¼šé‡æ–°æ„å»º</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    sys<span class=\"token punctuation\">.</span>modules<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span>module_name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    new_module <span class=\"token operator\">=</span> importlib<span class=\"token punctuation\">.</span>import_module<span class=\"token punctuation\">(</span>module_name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> inspect<span class=\"token punctuation\">.</span>ismodule<span class=\"token punctuation\">(</span>new_module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">raise</span> Exception<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>new_module<span class=\"token punctuation\">.</span>__name__<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> is not a module\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">for</span> name<span class=\"token punctuation\">,</span> new_member <span class=\"token keyword\">in</span> inspect<span class=\"token punctuation\">.</span>getmembers<span class=\"token punctuation\">(</span>new_module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\"># æ¨¡å—åç§°å’Œ member çš„ key å¯èƒ½ä¸ä¸€è‡´ ä¾‹å¦‚ import xxx as x</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        member_name <span class=\"token operator\">=</span> <span class=\"token builtin\">getattr</span><span class=\"token punctuation\">(</span>new_member<span class=\"token punctuation\">,</span> <span class=\"token string\">\"__name__\"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        old_member <span class=\"token operator\">=</span> old_module<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\"># æ¨¡å—å†…çš„æˆå‘˜æ¨¡å— å’Œ built-in å‡½æ•°ä¸åšå¤„ç†</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">if</span> inspect<span class=\"token punctuation\">.</span>ismodule<span class=\"token punctuation\">(</span>new_member<span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> \\</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            inspect<span class=\"token punctuation\">.</span>isbuiltin<span class=\"token punctuation\">(</span>new_member<span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> \\</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            member_name <span class=\"token keyword\">in</span> builtins<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\"># åŸæ¨¡å—æ²¡æœ‰çš„å†…å®¹æˆ–è€…ç±»å‹ä¸åŒç›´æ¥æ¢</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token keyword\">elif</span> <span class=\"token keyword\">not</span> old_member <span class=\"token keyword\">or</span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>old_member<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>new_member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_module<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_member<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\"># ç±»ï¼Œèµ°ç±»è‡ªå·±çš„çƒ­æ›´</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">elif</span> inspect<span class=\"token punctuation\">.</span>isclass<span class=\"token punctuation\">(</span>new_member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token comment\"># æšä¸¾ç±»å‹å¼ºåˆ¶æ›¿æ¢ï¼Œå› ä¸ºæšä¸¾å®šä¹‰åæ— æ³•è¢«ä¿®æ”¹ï¼Œè¿™é‡Œåªèƒ½æ›¿æ¢ç±»çš„å®šä¹‰ã€‚</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token builtin\">issubclass</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>old_member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> enum<span class=\"token punctuation\">.</span>EnumMeta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_module<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_member<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                reload_class<span class=\"token punctuation\">(</span>old_member<span class=\"token punctuation\">,</span> new_member<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token comment\"># å‡½æ•°ï¼Œçƒ­æ›´ä¹‹</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token keyword\">elif</span> inspect<span class=\"token punctuation\">.</span>isfunction<span class=\"token punctuation\">(</span>new_member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token comment\"># çƒ­æ›´å¤±è´¥ç›´æ¥æ¢ï¼Œå¤±è´¥çš„åŸå› å¯èƒ½æ˜¯å‡½æ•°æœ¬èº«çš„é—­åŒ…å‚æ•°å˜æ›´:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token comment\"># ä¹Ÿä¸æ˜¯è¯´çƒ­æ›´å¤±è´¥ï¼Œåªæ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œçƒ­æ›´ä¹Ÿæ²¡åŠæ³•å…¼å®¹æ—§çš„é€»è¾‘ï¼Œæ¯«æ— æ„ä¹‰ï¼Œå¾’å¢çƒ¦æ¼</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token comment\"># \t@è£…é¥°å™¨\t\t\t\t------>\t\t@è£…é¥°å™¨</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            <span class=\"token comment\"># \tdef func(arg1, arg2)\t\t\t  def func(arg1)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> reload_func<span class=\"token punctuation\">(</span>old_member<span class=\"token punctuation\">,</span> new_member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_module<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_member<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_module<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_member<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    sys<span class=\"token punctuation\">.</span>modules<span class=\"token punctuation\">[</span>module_name<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> old_module</pre></td></tr></table></figure><p>ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹  <code>class</code>   ã€ <code>function</code> ã€ <code>global variable</code>   çš„çƒ­æ›´æ–°é—®é¢˜ã€‚</p>\n<h3 id=\"çƒ­æ›´-class\"><a class=\"anchor\" href=\"#çƒ­æ›´-class\">#</a> çƒ­æ›´ Classï¼š</h3>\n<p>çƒ­æ›´æ–°ç±»çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p>\n<ul>\n<li>\n<p>ç±»çš„æ›´æ–°ä¸€èˆ¬ä¸è¿›è¡Œæ›¿æ¢ï¼Œè€Œæ˜¯æŠŠæ–°çš„ç±»ä¸­çš„å†…å®¹æ›´æ–°åˆ°æ—§çš„ç±»é‡Œé¢ï¼Œä¸ºäº†å…¼å®¹ä¸€äº›å·²ç»åˆ›å»ºçš„ç±»å®ä½“ã€‚</p>\n</li>\n<li>\n<p>å¯¹äºä»¥å‰çš„æ—§ç±»ä¸­å­˜åœ¨è€Œæ–°ç±»ä¸å­˜åœ¨çš„å†…å®¹ï¼Œæ ¹æ®è‡ªèº«éœ€æ±‚é€‰æ‹©æ˜¯å¦ä¿ç•™ï¼ˆè¿™é‡Œåˆ æ‰äº†ï¼‰ã€‚</p>\n</li>\n<li>\n<p>ç±»ä¸­åŒ…å«éƒ¨åˆ†ä¸èƒ½ç›´æ¥ä¿®æ”¹çš„å¯¹è±¡ï¼Œè·³è¿‡å®ƒä»¬çš„æ›´æ–°ï¼š</p>\n<ul>\n<li><code>'__dict__', '__doc__', '__self__', '__func__'</code>  è¿™äº›éƒ½æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>å’Œæ¨¡å—ä¸€æ ·ï¼ŒæŠŠæ–°å¢çš„å†…å®¹å’Œç±»å‹ä¸ä¸€è‡´çš„å†…å®¹æ›´æ–°åˆ°æ—§çš„ç±»é‡Œé¢ã€‚</p>\n</li>\n<li>\n<p>å’Œæ¨¡å—ä¸€æ ·ï¼Œè·³è¿‡å†…å»ºå‡½æ•°ã€‚</p>\n</li>\n<li>\n<p><code>staticmethodã€classmethod</code>  å‡½æ•°ç”±äºæ— æ³•ä¿®æ”¹ï¼Œåªèƒ½å•ç‹¬çƒ­æ›´  <code>__func__</code>  å­—æ®µã€‚</p>\n</li>\n<li>\n<p><code>property</code>  ä¿®é¥°çš„å‡½æ•°ç›´æ¥æ›¿æ¢å³å¯ã€‚</p>\n</li>\n<li>\n<p>ç±»å‡½æ•°åˆ™èµ°å‡½æ•°çš„æ­£å¸¸æ›´æ–°æµç¨‹ã€‚</p>\n</li>\n<li>\n<p>ç±»ä¸­å®šä¹‰çš„ç±»ä¾æ—§èµ°ç±»çš„æ›´æ–°ã€‚</p>\n</li>\n<li>\n<p>å…¶ä»–å†…å®¹ç›´æ¥è¦†ç›–å³å¯ã€‚</p>\n</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">reload_class</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">:</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">,</span> new_class<span class=\"token punctuation\">:</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    çƒ­æ›´ç±»(class):</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        â‘ : æ–°å¢æˆå‘˜ç›´æ¥åŠ </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        â‘¡: builtins æˆå‘˜ä¸å¤„ç†</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        â‘¢: methoddescriptor æˆå‘˜ä¸å¤„ç†</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        â‘£: ç±»å‹ä¸åŒç›´æ¥æ›¿æ¢</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        â‘¤: staticmethod,classmethod,property,method ç›´æ¥æ›´æ–°</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        â‘¥: function ç›´æ¥æ›´æ–°</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        â‘¦: class é€’å½’æ›´æ–°</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        â‘§: class å±æ€§æˆå‘˜ç›´æ¥æ›´æ–°</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\"># åˆ é™¤æ–°ç±»ä¸å­˜åœ¨çš„æ—§ç±»æˆå‘˜</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">for</span> name<span class=\"token punctuation\">,</span> attr <span class=\"token keyword\">in</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">if</span> name <span class=\"token keyword\">in</span> new_class<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> inspect<span class=\"token punctuation\">.</span>isfunction<span class=\"token punctuation\">(</span>attr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token builtin\">type</span><span class=\"token punctuation\">.</span>__delattr__<span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    ignore_attr_lst <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"__dict__\"</span><span class=\"token punctuation\">,</span>         <span class=\"token comment\"># attribute objects is not writable</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token string\">'__doc__'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'__self__'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'__func__'</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\"># can't set attributes of built-in/extension</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">for</span> name<span class=\"token punctuation\">,</span> new_attr <span class=\"token keyword\">in</span> new_class<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">if</span> name <span class=\"token keyword\">in</span> ignore_attr_lst<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        old_attr <span class=\"token operator\">=</span> old_class<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\"># æ–°å¢å†…å®¹ç›´æ¥åŠ </span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> old_attr<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">elif</span> inspect<span class=\"token punctuation\">.</span>isbuiltin<span class=\"token punctuation\">(</span>new_attr<span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> name <span class=\"token keyword\">in</span> builtins<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\"># ç±»å‹ä¸åŒç›´æ¥æ¢</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">elif</span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>old_attr<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>new_attr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">elif</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>new_attr<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">staticmethod</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">classmethod</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> reload_func<span class=\"token punctuation\">(</span>old_attr<span class=\"token punctuation\">.</span>__func__<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">.</span>__func__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">elif</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>new_attr<span class=\"token punctuation\">,</span> <span class=\"token builtin\">property</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token keyword\">elif</span> inspect<span class=\"token punctuation\">.</span>isfunction<span class=\"token punctuation\">(</span>new_attr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> reload_func<span class=\"token punctuation\">(</span>old_attr<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">elif</span> inspect<span class=\"token punctuation\">.</span>isclass<span class=\"token punctuation\">(</span>new_attr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            reload_class<span class=\"token punctuation\">(</span>old_attr<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_class<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> new_attr<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"çƒ­æ›´-function\"><a class=\"anchor\" href=\"#çƒ­æ›´-function\">#</a> çƒ­æ›´ Functionï¼š</h3>\n<p>å‡½æ•°çš„æ›´æ–°ç®—æ˜¯çƒ­æ›´é‡Œé¢æœ€æ ¸å¿ƒçš„å†…å®¹äº†ï¼Œæ³¨æ„ç‚¹ä¹ŸæŒºå¤šï¼š</p>\n<ul>\n<li>\n<p>å‡½æ•°çš„çƒ­æ›´æ–°ä¸€èˆ¬ä¹Ÿä¸å¯¹å‡½æ•°æœ¬èº«è¿›è¡Œæ›¿æ¢ï¼Œç›´æ¥ä¿®æ”¹å³å¯ï¼Œè¿«ä¸å¾—å·²æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘æ¢æ‰ã€‚</p>\n</li>\n<li>\n<p>å‡½æ•°æœ¬èº«å› ä¸ºæ²¡æœ‰æ¶‰åŠåˆ°è¿‡å¤šçš„è‡ªå®šä¹‰å†…å®¹ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯é€»è¾‘ï¼Œæ‰€ä»¥å†…ç½®çš„ä¸œè¥¿ç²—ç•¥çš„çœ‹ä¸‹æ¥å°±å‡ æ ·ï¼š</p>\n<ul>\n<li><code>__closure__ </code> ï¼šé—­åŒ…çš„å…³è”å‚æ•°</li>\n<li><code>__code__</code> ï¼šç¼–è¯‘åçš„ä»£ç å¯¹è±¡</li>\n<li><code>__defaults__</code> ï¼šk-v çš„é»˜è®¤å€¼</li>\n<li><code>__dict__</code> ï¼šå‘½åç©ºé—´æ”¯æŒçš„å‡½æ•°å±æ€§</li>\n<li><code>__globals__</code> ï¼šå…¨å±€å˜é‡å­—å…¸</li>\n<li><code>__name__</code> ï¼šå‡½æ•°å</li>\n<li><code>__qualname__</code> ï¼šå‡½æ•°å…¨å</li>\n<li><code>__annotations__</code> ï¼šç±»å‹æ ‡æ³¨</li>\n<li><code>__kwdefaults__</code> ï¼šå…³é”®å­—é»˜è®¤å€¼å­—å…¸</li>\n</ul>\n</li>\n<li>\n<p>æŠŠä¸Šè¿°çš„å‡ ä¸ªæ›¿æ¢ä¸€ä¸‹å³å¯ï¼Œè¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œæœ‰éƒ¨åˆ†å­—æ®µä¹Ÿæ˜¯ä¸å¯ä¿®æ”¹çš„ï¼š</p>\n<ul>\n<li><code>__class__</code>    ï¼šassignment only supported for heap types or ModuleType subclasses</li>\n<li><code>__closure__</code>   ï¼šreadonly attribute</li>\n<li><code>__globals__</code>   ï¼šreadonly attribute</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>\n<p>é™¤æ­¤ä»¥å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„æ£€éªŒå‡½æ•°çš„é—­åŒ…å˜é‡æ˜¯å¦å‘ç”Ÿå˜æ›´ï¼Œå¦‚æœå˜æ›´äº†ä¹Ÿè¦è¿›è¡Œæ›´æ–°ï¼š</p>\n<ul>\n<li>å¯¹äºå¸¦æœ‰ super () è°ƒç”¨çš„å‡½æ•°ï¼Œå…¶é—­åŒ…å†…ä¼šå­˜å‚¨è‡ªèº«çš„å¼•ç”¨ï¼Œè¿™ä¸ªä¸éœ€è¦æ›´æ–°ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">c_1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>c_1<span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">.</span>__code__<span class=\"token punctuation\">.</span>co_freevars<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>__class__</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>c_1<span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">.</span>__closure__<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>cell_contents<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token keyword\">class</span> <span class=\"token string\">'__main__.c_1'</span><span class=\"token operator\">></span></pre></td></tr></table></figure></li>\n<li>\n<p>é—­åŒ…å‚æ•°æ•°é‡ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ›¿æ¢ï¼Œæ›´æ–°æ„ä¹‰ä¸å¤§ã€‚</p>\n</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">reload_func</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">:</span>types<span class=\"token punctuation\">.</span>FunctionType<span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">:</span>types<span class=\"token punctuation\">.</span>FunctionType<span class=\"token punctuation\">,</span> depth <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    çƒ­æ›´å‡½æ•°(func):</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        â‘ : æ›´æ–°æ—§å‡½æ•°é‡Œé¢çš„å±æ€§ï¼Œè¯¦ç»†å†…å®¹è§ä¸‹æ–¹å®šä¹‰</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        â‘¡: éƒ¨åˆ†å±æ€§ä¸å¯å†™æˆ–æ— æ³•ä¿®æ”¹çš„ä¸åšå¤„ç†</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        â‘¢: å¤„ç†é—­åŒ… cellvar</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        â‘£: æ–°å¢å‡½æ•°æˆ–å˜é‡ç›´æ¥æ·»åŠ </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        â‘¤: ç±»å‹å˜æ›´ç›´æ¥æ›¿æ¢</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        â‘¥: å…¶ä»–æƒ…å†µä¹Ÿç›´æ¥æ›¿æ¢å³å¯</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    å‡½æ•°åŸºæœ¬å®šä¹‰:</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    class FunctionType:</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        __closure__: Optional[Tuple[_Cell, ...]]</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        __code__: CodeType</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        __defaults__: Optional[Tuple[Any, ...]]</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        __dict__: Dict[str, Any]</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        __globals__: Dict[str, Any]</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        __name__: str</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        __qualname__: str</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        __annotations__: Dict[str, Any]</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        __kwdefaults__: Dict[str, Any]</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        def __init__(self, code: CodeType, globals: Dict[str, Any], name: Optional[str] = ..., argdefs: Optional[Tuple[object, ...]] = ..., closure: Optional[Tuple[_Cell, ...]] = ...) -> None: ...</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        def __call__(self, *args: Any, **kwargs: Any) -> Any: ...</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        def __get__(self, obj: Optional[object], type: Optional[type]) -> MethodType: ...</pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    é—­åŒ…é—®é¢˜:</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        - Python å‡½æ•°è°ƒç”¨æ—¶å‡ºç°é—­åŒ…å‚æ•°ä¸ä¸€è‡´,çƒ­æ›´åä¼šå¯¼è‡´æŠ¥é”™</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            def out_func():</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                arg1 = 1</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                def inner_func():</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                    print(arg1)</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                return inner_func</pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            </pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            f = out_func # çƒ­æ›´å‰ä»£ç </pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            f = out_func # çƒ­æ›´åä»£ç </pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            f() # è°ƒç”¨</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            # out: requires a code object with 1 free vars, not 0</pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    é—­åŒ…åŸç†:</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        - out_func åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŠŠè‡ªèº«è¿è¡Œæ ˆä¸­å†…å±‚å‡½æ•°å¼•ç”¨çš„å˜é‡ä»¥ ob_ref çš„å½¢å¼ç»‘å®šåˆ° co_cellvars çš„tupleå½“ä¸­(out_func.__closure__)ã€‚</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        - åœ¨ inner_func å¯¹è±¡å†…ï¼Œè§£å¼€ä¼ é€’è¿›æ¥çš„ co_cellvars çš„tupleå¹¶é‡æ–°ç»‘å®šåˆ°è‡ªå·±çš„ co_freevars çš„tupleä¸­</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        - å¦‚æœæƒ³è¦çƒ­æ›´é—­åŒ…å†…å®¹ï¼Œåªéœ€è¦æ›¿æ¢æ‰ inner_func.__closure__ é‡Œçš„å†…å®¹</pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    éƒ¨åˆ†ä¸å¯å˜å±æ€§:</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        - \"__class__\"   assignment only supported for heap types or ModuleType subclasses</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        - \"__closure__\" readonly attribute</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        - \"__globals__\" readonly attribute</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">if</span> depth <span class=\"token operator\">></span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token comment\"># é—­åŒ…å‚æ•°ä¸ä¸€è‡´ï¼Œæ— æ³•æ›´æ–°</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    old_cell_var_num <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">.</span>__closure__<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> old_func<span class=\"token punctuation\">.</span>__closure__ <span class=\"token keyword\">else</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    new_cell_var_num <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>new_func<span class=\"token punctuation\">.</span>__closure__<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> new_func<span class=\"token punctuation\">.</span>__closure__ <span class=\"token keyword\">else</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">if</span> old_cell_var_num <span class=\"token operator\">!=</span> new_cell_var_num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token comment\"># æ›´æ–°å±æ€§</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__code__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__code__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__defaults__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__defaults__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__dict__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__name__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__name__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__qualname__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__qualname__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__annotations__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__annotations__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token comment\"># ç±»å‹æ ‡æ³¨</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token builtin\">setattr</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">,</span> <span class=\"token string\">'__kwdefaults__'</span><span class=\"token punctuation\">,</span> new_func<span class=\"token punctuation\">.</span>__kwdefaults__<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token comment\"># def m(cls,a=1,b=2,*kwarg,g=1,v=2): __kwdefaults__ = &#123;'g': 1, 'v': 2&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token comment\"># æ›´æ–°é—­åŒ…å‚æ•°</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token keyword\">if</span> old_cell_var_num <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        ignore_idx <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token keyword\">for</span> idx<span class=\"token punctuation\">,</span> freevar <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">.</span>__code__<span class=\"token punctuation\">.</span>co_freevars<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>            <span class=\"token comment\"># super () æ“ä½œä¸æ”¹å˜å…¶æŒ‡å‘çš„çˆ¶ç±» __class__</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            <span class=\"token keyword\">if</span> freevar <span class=\"token operator\">==</span> <span class=\"token string\">\"__class__\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>                ignore_idx<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token keyword\">for</span> idx<span class=\"token punctuation\">,</span> old_cellvar <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>old_func<span class=\"token punctuation\">.</span>__closure__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>            <span class=\"token keyword\">if</span> idx <span class=\"token keyword\">in</span> ignore_idx<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>                <span class=\"token keyword\">continue</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            new_cellvar <span class=\"token operator\">=</span> new_func<span class=\"token punctuation\">.</span>__closure__<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            <span class=\"token comment\"># é—­åŒ…å‚æ•°æ˜¯å‡½æ•°çš„è¯é€’å½’æ›´æ–°</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            <span class=\"token keyword\">if</span> inspect<span class=\"token punctuation\">.</span>isfunction<span class=\"token punctuation\">(</span>old_cellvar<span class=\"token punctuation\">.</span>cell_contents<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> inspect<span class=\"token punctuation\">.</span>isfunction<span class=\"token punctuation\">(</span>new_cellvar<span class=\"token punctuation\">.</span>cell_contents<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> reload_func<span class=\"token punctuation\">(</span>old_cellvar<span class=\"token punctuation\">.</span>cell_contents<span class=\"token punctuation\">,</span> new_cellvar<span class=\"token punctuation\">.</span>cell_contents<span class=\"token punctuation\">,</span> depth <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>                    old_cellvar<span class=\"token punctuation\">.</span>cell_contents <span class=\"token operator\">=</span> new_cellvar<span class=\"token punctuation\">.</span>cell_contents</pre></td></tr><tr><td data-num=\"90\"></td><td><pre>            <span class=\"token comment\"># å…¶ä»–æƒ…å†µéƒ½è§†ä½œæ›¿æ¢</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>                old_cellvar<span class=\"token punctuation\">.</span>cell_contents <span class=\"token operator\">=</span> new_cellvar<span class=\"token punctuation\">.</span>cell_contents</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></pre></td></tr></table></figure><h3 id=\"çƒ­æ›´-global-object\"><a class=\"anchor\" href=\"#çƒ­æ›´-global-object\">#</a> çƒ­æ›´ global objectï¼š</h3>\n<p>å…¨å±€å¯¹è±¡çš„æ›´æ–°å°±æ¯”è¾ƒçš„ç®€å•ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š</p>\n<ul>\n<li>èƒ½å¤Ÿè·å–åˆ°æ‰€æœ‰éœ€è¦çƒ­æ›´å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯ä»¥ç›´æ¥åœ¨å¯¹è±¡ä¸Šè¿›è¡Œä¿®æ”¹ã€‚</li>\n<li>ä¸èƒ½è·å–çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ä¿®æ”¹æ¨¡å—å†…çš„å®šä¹‰ã€‚ç¼ºç‚¹å°±æ˜¯å·²ç»åˆ›å»ºäº†çš„å¯¹è±¡ï¼Œå†…å®¹è¿˜æ˜¯æ—§çš„ã€‚</li>\n</ul>\n<h3 id=\"æµ‹è¯•ä»£ç \"><a class=\"anchor\" href=\"#æµ‹è¯•ä»£ç \">#</a> æµ‹è¯•ä»£ç ï¼š</h3>\n<ul>\n<li>ä¿®æ”¹å‰çš„ä»£ç ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># -*- coding: utf8 -*-</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> ccore</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> enum</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> functools</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> dataclasses</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> typing</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> collections</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># å…¨å±€å˜é‡æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>a_1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>a_2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>a_3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>a_4 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>a_5 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>a_6 <span class=\"token operator\">=</span> <span class=\"token number\">1.1</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>a_7 <span class=\"token operator\">=</span> <span class=\"token builtin\">object</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>a_8 <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>a_9 <span class=\"token operator\">=</span> functools<span class=\"token punctuation\">.</span>partial<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">,</span> a_2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>a_10 <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>defaultdict<span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># å‡½æ•°æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_1</span><span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">,</span> arg2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    b_100 <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    b_200 <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> b_100<span class=\"token operator\">+</span>b_200</pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_2</span><span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">,</span> arg2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> arg2</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_3</span><span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">,</span> arg2<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_4</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_5</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>kwargs<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_6</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_7</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">,</span> arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> arg2 <span class=\"token operator\">+</span> func<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">return</span> inner</pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token decorator annotation punctuation\">@b_7</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_8</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_9</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">wapper</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> arg2 <span class=\"token operator\">+</span> func<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">return</span> inner</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token keyword\">return</span> wapper</pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre><span class=\"token decorator annotation punctuation\">@b_9</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_10</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token comment\"># ç±»æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">c_1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    c_100 <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    c_200 <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__call__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_1000</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@property</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">C_100</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>c_100</pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@classmethod</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_2000</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"84\"></td><td><pre></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@staticmethod</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_3000</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token keyword\">return</span> arg2 <span class=\"token operator\">+</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_4000</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> arg2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token keyword\">def</span> <span class=\"token function\">wapper</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>            <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>                <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token keyword\">return</span> inner</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token keyword\">return</span> wapper</pre></td></tr><tr><td data-num=\"96\"></td><td><pre></pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token decorator annotation punctuation\">@dataclasses<span class=\"token punctuation\">.</span>dataclass</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">d_1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>    d_100<span class=\"token punctuation\">:</span><span class=\"token builtin\">int</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    d_200<span class=\"token punctuation\">:</span><span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"1\"</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    d_300<span class=\"token punctuation\">:</span>typing<span class=\"token punctuation\">.</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> dataclasses<span class=\"token punctuation\">.</span>field<span class=\"token punctuation\">(</span>default_factory<span class=\"token operator\">=</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>    d_400<span class=\"token punctuation\">:</span>typing<span class=\"token punctuation\">.</span>Dict<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> dataclasses<span class=\"token punctuation\">.</span>field<span class=\"token punctuation\">(</span>default_factory<span class=\"token operator\">=</span><span class=\"token builtin\">dict</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>e_1 <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>namedtuple<span class=\"token punctuation\">(</span><span class=\"token string\">\"e_1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"e_100 e_200 e_300 e_400\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">INFO</span><span class=\"token punctuation\">(</span>enum<span class=\"token punctuation\">.</span>IntEnum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    m_1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>    m_2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    m_3 <span class=\"token operator\">=</span> <span class=\"token number\">3</span></pre></td></tr></table></figure><ul>\n<li>ä¿®æ”¹åçš„ä»£ç ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># -*- coding: utf8 -*-</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> ccore</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> enum</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> functools</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> dataclasses</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> typing</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> collections</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># å…¨å±€å˜é‡æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>a_1 <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>a_2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>a_3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>a_4 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>a_5 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>a_6 <span class=\"token operator\">=</span> <span class=\"token number\">2.1</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>a_7 <span class=\"token operator\">=</span> <span class=\"token builtin\">object</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>a_8 <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>a_9 <span class=\"token operator\">=</span> functools<span class=\"token punctuation\">.</span>partial<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">,</span> a_3<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>a_10 <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>defaultdict<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># å‡½æ•°æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_1</span><span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    b_100 <span class=\"token operator\">=</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    b_200 <span class=\"token operator\">=</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> b_100<span class=\"token operator\">+</span>b_200</pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_2</span><span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_3</span><span class=\"token punctuation\">(</span>arg1<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_4</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_5</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>kwargs<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_6</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_7</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">,</span> arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> func<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">return</span> inner</pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token decorator annotation punctuation\">@b_7</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_8</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_9</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">wapper</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token keyword\">return</span> arg1<span class=\"token operator\">+</span> func<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">return</span> inner</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token keyword\">return</span> wapper</pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre><span class=\"token decorator annotation punctuation\">@b_9</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">b_10</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token comment\"># ç±»æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">c_1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    c_100 <span class=\"token operator\">=</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    c_200 <span class=\"token operator\">=</span> <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__call__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_1000</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@property</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">C_100</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>c_100</pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@classmethod</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_2000</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"84\"></td><td><pre></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    <span class=\"token decorator annotation punctuation\">@staticmethod</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_3000</span><span class=\"token punctuation\">(</span>arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> arg3 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> arg4 <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token keyword\">return</span> arg1 <span class=\"token operator\">+</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> arg3 <span class=\"token operator\">+</span> arg4</pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">c_4000</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> arg1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token keyword\">def</span> <span class=\"token function\">wapper</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>            <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>                <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token keyword\">return</span> inner</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token keyword\">return</span> wapper</pre></td></tr><tr><td data-num=\"96\"></td><td><pre></pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token decorator annotation punctuation\">@dataclasses<span class=\"token punctuation\">.</span>dataclass</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">d_1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>    d_100<span class=\"token punctuation\">:</span><span class=\"token builtin\">int</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    d_200<span class=\"token punctuation\">:</span><span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"2\"</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    d_300<span class=\"token punctuation\">:</span><span class=\"token builtin\">int</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>    d_400<span class=\"token punctuation\">:</span><span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"1\"</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>e_1 <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>namedtuple<span class=\"token punctuation\">(</span><span class=\"token string\">\"e_1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"e_100 e_200 e_300\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">INFO</span><span class=\"token punctuation\">(</span>enum<span class=\"token punctuation\">.</span>IntEnum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    m_1 <span class=\"token operator\">=</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>    m_2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    m_3 <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr></table></figure><ul>\n<li>æµ‹è¯•æ•°æ®åˆå§‹åŒ–ï¼ˆ1 è¡¨ç¤ºçƒ­æ›´å‰ï¼Œ2 è¡¨ç¤ºçƒ­æ›´åï¼‰</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">init_data</span><span class=\"token punctuation\">(</span>flag<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">import</span> collections</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    d <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>OrderedDict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    d<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token string\">\"a_1\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_1<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token string\">\"a_2\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_2<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token string\">\"a_3\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_3<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token string\">\"a_4\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_4<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token string\">\"a_5\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_5<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token string\">\"a_6\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_6<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token string\">\"a_7\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_7<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token string\">\"a_8\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_8<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token string\">\"a_9\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_9<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token string\">\"a_10\"</span> <span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>a_10<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    d<span class=\"token punctuation\">[</span><span class=\"token string\">\"func\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token string\">\"b_1\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_1<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token string\">\"b_2\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_2<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token string\">\"b_3\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_3<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token string\">\"b_4\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_4<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token string\">\"b_5\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_5<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token string\">\"b_6\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_6<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token string\">\"b_7\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_7<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token string\">\"b_8\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_8<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token string\">\"b_9\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_9<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token string\">\"b_10\"</span><span class=\"token punctuation\">:</span> fix_module<span class=\"token punctuation\">.</span>b_10<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">if</span> flag <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token string\">\"c_1\"</span><span class=\"token punctuation\">:</span>fix_module<span class=\"token punctuation\">.</span>c_1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token string\">\"d_1\"</span><span class=\"token punctuation\">:</span>fix_module<span class=\"token punctuation\">.</span>d_1<span class=\"token punctuation\">(</span>d_100<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>d_200<span class=\"token operator\">=</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>d_300<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>d_400<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token string\">\"e_1\"</span><span class=\"token punctuation\">:</span>fix_module<span class=\"token punctuation\">.</span>e_1<span class=\"token punctuation\">(</span>e_100 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>e_200 <span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>e_300 <span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>e_400 <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        d<span class=\"token punctuation\">[</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token string\">\"c_1\"</span><span class=\"token punctuation\">:</span>fix_module<span class=\"token punctuation\">.</span>c_1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token string\">\"d_1\"</span><span class=\"token punctuation\">:</span>fix_module<span class=\"token punctuation\">.</span>d_1<span class=\"token punctuation\">(</span>d_100<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>d_200<span class=\"token operator\">=</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>d_300<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>d_400<span class=\"token operator\">=</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token string\">\"e_1\"</span><span class=\"token punctuation\">:</span>fix_module<span class=\"token punctuation\">.</span>e_1<span class=\"token punctuation\">(</span>e_100 <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>e_200 <span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>e_300 <span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">return</span> d</pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">Output</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">,</span> flag<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>     </pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span>v <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\" name </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> val </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>v<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token keyword\">if</span> flag <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span>v <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"func\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\" name </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> val </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>v<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        c_1 <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"c_1\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_100 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_100<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_200 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_200<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_1000(1,2) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_1000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.C_100 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>C_100<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_2000(1,2) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_2000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_3000(1,2) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_3000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_4000(1,2) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_4000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span>v <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"func\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\" name </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>k<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> val </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>v<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        c_1 <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"c_1\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_100 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_100<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_200 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_200<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_1000(1) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_1000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.C_100 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>C_100<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_2000(1) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_2000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_3000(1) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_3000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"c_1.c_4000(1) </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c_1<span class=\"token punctuation\">.</span>c_4000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"71\"></td><td><pre></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    d_1 <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"d_1\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"d_1.d_100 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>d_1<span class=\"token punctuation\">.</span>d_100<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"d_1.d_200 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>d_1<span class=\"token punctuation\">.</span>d_200<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"d_1.d_300 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>d_1<span class=\"token punctuation\">.</span>d_300<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"d_1.d_400 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>d_1<span class=\"token punctuation\">.</span>d_400<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    e_1 <span class=\"token operator\">=</span> d<span class=\"token punctuation\">[</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"e_1\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"e_1.e_100 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e_1<span class=\"token punctuation\">.</span>e_100<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"e_1.e_200 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e_1<span class=\"token punctuation\">.</span>e_200<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"e_1.e_300 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e_1<span class=\"token punctuation\">.</span>e_300<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token keyword\">if</span> flag <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"e_1.e_400 </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>e_1<span class=\"token punctuation\">.</span>e_400<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fix_module<span class=\"token punctuation\">.</span>INFO<span class=\"token punctuation\">.</span>m_1<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fix_module<span class=\"token punctuation\">.</span>INFO<span class=\"token punctuation\">.</span>m_2<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fix_module<span class=\"token punctuation\">.</span>INFO<span class=\"token punctuation\">.</span>m_3<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li>æœ€ç»ˆçš„è¾“å‡ºç»“æœ</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#------------------------------------------------------- æ—§æ¨¡å—çƒ­æ›´å‰çš„è¾“å‡ºï¼š-------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>name a_1 val <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>name a_2 val <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>, <span class=\"token number\">2</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>name a_3 val <span class=\"token punctuation\">(</span><span class=\"token number\">1</span>, <span class=\"token number\">2</span>, <span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>name a_4 val <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span>: <span class=\"token number\">1</span>, <span class=\"token number\">2</span>: <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>name a_5 val <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span>, <span class=\"token number\">2</span>, <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>name a_6 val <span class=\"token number\">1.1</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>name a_7 val <span class=\"token operator\">&lt;</span>class <span class=\"token string\">'object'</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>name a_8 val <span class=\"token operator\">&lt;</span>built-in <span class=\"token keyword\">function</span> len<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>name a_9 val functools.partial<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>built-in <span class=\"token keyword\">function</span> len<span class=\"token operator\">></span>, <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>, <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>name a_10 val defaultdict<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>class <span class=\"token string\">'int'</span><span class=\"token operator\">></span>, <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>name b_1 val <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>name b_2 val <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>name b_3 val <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>name b_4 val <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>name b_5 val <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>name b_6 val <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>name b_7 val <span class=\"token operator\">&lt;</span>function b_7.<span class=\"token operator\">&lt;</span>locals<span class=\"token operator\">></span>.inner at 0x000002E77A99370<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>name b_8 val <span class=\"token number\">13</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>name b_9 val <span class=\"token operator\">&lt;</span>function b_9.<span class=\"token operator\">&lt;</span>locals<span class=\"token operator\">></span>.wapper at 0x000002E77A99370<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>name b_10 val <span class=\"token number\">13</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>c_1.c_100 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>c_1.c_200 <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>c_1.c_1000<span class=\"token punctuation\">(</span><span class=\"token number\">1,2</span><span class=\"token punctuation\">)</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>c_1.C_100 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>c_1.c_2000<span class=\"token punctuation\">(</span><span class=\"token number\">1,2</span><span class=\"token punctuation\">)</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>c_1.c_3000<span class=\"token punctuation\">(</span><span class=\"token number\">1,2</span><span class=\"token punctuation\">)</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>c_1.c_4000<span class=\"token punctuation\">(</span><span class=\"token number\">1,2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>function c_1.c_4000.<span class=\"token operator\">&lt;</span>locals<span class=\"token operator\">></span>.wapper at 0x000002E77A99370<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>d_1.d_100 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>d_1.d_200 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>d_1.d_300 <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>d_1.d_400 <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span>: <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>e_1.e_100 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>e_1.e_200 <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>e_1.e_300 <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>e_1.e_400 <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token comment\">#------------------------------------------------------- æ—§æ¨¡å—çƒ­æ›´åçš„è¾“å‡ºï¼š-------------------------------------------------------</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>name a_1 val <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>name a_2 val <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>, <span class=\"token number\">2</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>name a_3 val <span class=\"token punctuation\">(</span><span class=\"token number\">2</span>, <span class=\"token number\">2</span>, <span class=\"token number\">3</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>name a_4 val <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span>: <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>name a_5 val <span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span>, <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>name a_6 val <span class=\"token number\">2.1</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>name a_7 val <span class=\"token operator\">&lt;</span>class <span class=\"token string\">'object'</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>name a_8 val <span class=\"token operator\">&lt;</span>built-in <span class=\"token keyword\">function</span> len<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>name a_9 val functools.partial<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>built-in <span class=\"token keyword\">function</span> len<span class=\"token operator\">></span>, <span class=\"token punctuation\">(</span><span class=\"token number\">2</span>, <span class=\"token number\">2</span>, <span class=\"token number\">3</span><span class=\"token punctuation\">))</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>name a_10 val defaultdict<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>class <span class=\"token string\">'str'</span><span class=\"token operator\">></span>, <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>name b_1 val <span class=\"token number\">7</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>name b_2 val <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>name b_3 val <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>name b_4 val <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>name b_5 val <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>name b_6 val <span class=\"token number\">8</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>name b_7 val <span class=\"token operator\">&lt;</span>function b_7.<span class=\"token operator\">&lt;</span>locals<span class=\"token operator\">></span>.inner at 0x000002E77A9905E<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>name b_8 val <span class=\"token number\">9</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>name b_9 val <span class=\"token operator\">&lt;</span>function b_9.<span class=\"token operator\">&lt;</span>locals<span class=\"token operator\">></span>.wapper at 0x000002E77A9905E<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>name b_10 val <span class=\"token number\">9</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>c_1.c_100 <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>c_1.c_200 <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>c_1.c_1000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token number\">8</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>c_1.C_100 <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>c_1.c_2000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token number\">8</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>c_1.c_3000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token number\">8</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>c_1.c_4000<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>function c_1.c_4000.<span class=\"token operator\">&lt;</span>locals<span class=\"token operator\">></span>.wapper at 0x000002E77A9905E<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>d_1.d_100 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>d_1.d_200 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>d_1.d_300 <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>d_1.d_400 <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>e_1.e_100 <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>e_1.e_200 <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>e_1.e_300 <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre><span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre><span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre><span class=\"token number\">1</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Python",
                "Python",
                "çƒ­æ›´æ–°"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/python/Python-watchdog/",
            "url": "https://allengx.gitee.io/computer-science/study/python/Python-watchdog/",
            "title": "åŸºäº watchdog å®ç°è‡ªåŠ¨åŒ–æ›´æ–°",
            "date_published": "2020-10-17T07:36:15.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"åŸºäº-watchdog-å®ç°è‡ªåŠ¨åŒ–æ›´æ–°\"><a class=\"anchor\" href=\"#åŸºäº-watchdog-å®ç°è‡ªåŠ¨åŒ–æ›´æ–°\">#</a> åŸºäº watchdog å®ç°è‡ªåŠ¨åŒ–æ›´æ–°</h1>\n<h2 id=\"èƒŒæ™¯\"><a class=\"anchor\" href=\"#èƒŒæ™¯\">#</a> èƒŒæ™¯ï¼š</h2>\n<p>æ¯æ¬¡ä¿®æ”¹ Python åä¸ºäº†ä¸é‡å¯æœåŠ¡å™¨è¿›è¡Œè°ƒè¯•ï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€ä¸ªæŒ‡ä»¤æ¥æŒ‡å®šéœ€è¦çƒ­æ›´çš„æ–‡ä»¶ï¼Œæœ‰æ—¶å€™ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚ä¸ºæ­¤å†™äº†ä¸€ä¸ªè‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ä¿®æ”¹çš„å·¥å…·ï¼Œå¯ä»¥å®æ—¶ç›‘å¬æ–‡ä»¶çš„ä¿®æ”¹å¹¶è‡ªåŠ¨æ‰§è¡Œçƒ­æ›´æ“ä½œã€‚</p>\n<h2 id=\"åŸç†\"><a class=\"anchor\" href=\"#åŸç†\">#</a> åŸç†ï¼š</h2>\n<ol>\n<li>åŸºäº watchdog ç›‘å¬æŸä¸ªæ–‡ä»¶ä¸‹çš„æ–‡ä»¶</li>\n<li>å‘ç°æ–‡ä»¶ä¿®æ”¹åè§¦å‘ç›¸åº”çš„ Eventã€‚</li>\n<li>æ ¹æ® Event å†…å®¹ç”Ÿæˆçƒ­æ›´æŒ‡ä»¤ï¼Œå†™å…¥çƒ­æ›´æ–‡ä»¶ã€‚</li>\n<li>çƒ­æ›´ç¨‹åºå®šæ—¶è¯»å–æ–‡ä»¶ï¼Œæ‰§è¡Œçƒ­æ›´æŒ‡ä»¤ï¼Œå¹¶æ¸…ç©ºæ–‡ä»¶ã€‚</li>\n</ol>\n<h2 id=\"æ ¸å¿ƒä»£ç \"><a class=\"anchor\" href=\"#æ ¸å¿ƒä»£ç \">#</a> æ ¸å¿ƒä»£ç ï¼š</h2>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># -*- coding: utf8 -*-</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># DATE: 2020/10/16 Fri</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> sys</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> time</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> logging</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">from</span> watchdog<span class=\"token punctuation\">.</span>observers <span class=\"token keyword\">import</span> Observer</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">from</span> watchdog<span class=\"token punctuation\">.</span>events <span class=\"token keyword\">import</span> LoggingEventHandler</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">EventHandler</span><span class=\"token punctuation\">(</span>LoggingEventHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">on_modified</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>event<span class=\"token punctuation\">.</span>src_path<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    event_handler <span class=\"token operator\">=</span> EventHandler<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    observer <span class=\"token operator\">=</span> Observer<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    observer<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">(</span>event_handler<span class=\"token punctuation\">,</span> path<span class=\"token operator\">=</span><span class=\"token string\">\"./\"</span><span class=\"token punctuation\">,</span> recursive<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    observer<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">except</span> KeyboardInterrupt<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        observer<span class=\"token punctuation\">.</span>stop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    observer<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"ä»£ç å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å®ç°\">#</a> ä»£ç å®ç°ï¼š</h2>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># -*- coding: utf8 -*-</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># DATE: 2020/10/16 Fri</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> os</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> time</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> enum</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> json</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">from</span> watchdog<span class=\"token punctuation\">.</span>observers <span class=\"token keyword\">import</span> Observer</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">from</span> watchdog<span class=\"token punctuation\">.</span>events <span class=\"token keyword\">import</span> FileSystemEventHandler</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">EventType</span><span class=\"token punctuation\">(</span>enum<span class=\"token punctuation\">.</span>IntEnum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tUPDATE <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_paths <span class=\"token operator\">=</span> WatchDog<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"listen_path\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__call__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> _path <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>_paths<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> path<span class=\"token punctuation\">.</span>startswith<span class=\"token punctuation\">(</span>_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">FilterFile</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_files <span class=\"token operator\">=</span> WatchDog<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"listen_file_ext\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__call__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\t_<span class=\"token punctuation\">,</span> ext <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>splitext<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> ext <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>_files<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">CmdConverter</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>root_path <span class=\"token operator\">=</span> WatchDog<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"converter_root\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_replaces <span class=\"token operator\">=</span> WatchDog<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"replace_char\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_cmd_format <span class=\"token operator\">=</span> WatchDog<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"cmd_format\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__call__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> event_type<span class=\"token punctuation\">:</span> EventType<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> path<span class=\"token punctuation\">.</span>startswith<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>root_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t\tpath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">[</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>root_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> _replace <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>_replaces<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t\t\tpath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>_replace<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> event_type <span class=\"token operator\">==</span> EventType<span class=\"token punctuation\">.</span>UPDATE<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>_cmd_format<span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"update\"</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">FileWriter</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>write_path <span class=\"token operator\">=</span> WatchDog<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"update_path\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">write_to_file</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\t\t<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>\t\t\t<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>write_path<span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>\t\t\t\tf<span class=\"token punctuation\">.</span>writelines<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>\t\t<span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>\t\t\t<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">AutoUpdateHandler</span><span class=\"token punctuation\">(</span>FileSystemEventHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_filters <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>FilterPath<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> FilterFile<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_converter <span class=\"token operator\">=</span> CmdConverter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_writer <span class=\"token operator\">=</span> FileWriter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">on_modified</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> _filter <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>_filters<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> _filter<span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>src_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>\t\t\t\t<span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>\t\tcmd <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>_converter<span class=\"token punctuation\">(</span>EventType<span class=\"token punctuation\">.</span>UPDATE<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">.</span>src_path<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>\t\tself<span class=\"token punctuation\">.</span>_writer<span class=\"token punctuation\">.</span>write_to_file<span class=\"token punctuation\">(</span>cmd<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>\t\t<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'cmd:</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>cmd<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre></pre></td></tr><tr><td data-num=\"82\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">WatchDog</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>\tjson_info <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>\tvalid_init <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>\t<span class=\"token decorator annotation punctuation\">@classmethod</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> cls<span class=\"token punctuation\">.</span>valid_init<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>\t\t<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>\t\t\t<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./config.json\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"r\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>\t\t\t\tcls<span class=\"token punctuation\">.</span>json_info <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>\t\t\tcls<span class=\"token punctuation\">.</span>valid_init <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>\t\t<span class=\"token keyword\">except</span> Exception<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>\t\t\t<span class=\"token keyword\">pass</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>\t<span class=\"token decorator annotation punctuation\">@classmethod</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">get_json_info</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> cls<span class=\"token punctuation\">.</span>valid_init<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>\t\t\tcls<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> cls<span class=\"token punctuation\">.</span>json_info<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>\t<span class=\"token decorator annotation punctuation\">@classmethod</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>\t<span class=\"token keyword\">def</span> <span class=\"token function\">listen_change</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>\t\tobserver <span class=\"token operator\">=</span> Observer<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>\t\tobserver<span class=\"token punctuation\">.</span>schedule<span class=\"token punctuation\">(</span>AutoUpdateHandler<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> path<span class=\"token operator\">=</span>cls<span class=\"token punctuation\">.</span>get_json_info<span class=\"token punctuation\">(</span><span class=\"token string\">\"root_path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> recursive<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>\t\tobserver<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>\t\t<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>\t\t\t<span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>\t\t\t\ttime<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>\t\t<span class=\"token keyword\">except</span> KeyboardInterrupt<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>\t\t\tobserver<span class=\"token punctuation\">.</span>stop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>\t\tobserver<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre></pre></td></tr><tr><td data-num=\"116\"></td><td><pre></pre></td></tr><tr><td data-num=\"117\"></td><td><pre><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>\tWatchDog<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>\tWatchDog<span class=\"token punctuation\">.</span>listen_change<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>éƒ¨åˆ†è·¯å¾„å‚æ•°æŠ½ç¦»åˆ°äº†  <code>config.json</code>  æ–‡ä»¶å†…ï¼š</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token property\">\"root_path\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"/root\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token property\">\"listen_path\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token string\">\"/root/xxxx\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// éœ€è¦ç›‘å¬çš„æ–‡ä»¶ç›®å½•ï¼Œæœ‰äº›æ–‡ä»¶å¯ä»¥å¿½ç•¥ä¿®æ”¹ï¼Œåœ¨è¿™é‡Œè¿›è¡Œå®šåˆ¶</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token property\">\"listen_file_ext\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\".py\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ç›‘å¬æ–‡ä»¶åç¼€</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token property\">\"update_path\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"éœ€è¦å†™å…¥çš„ update æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¼šè¢«çƒ­æ›´ç¨‹åºå®šæ—¶è¯»å–\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token property\">\"converter_root\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"ç”¨äºè½¬æ¢æ›´æ–°æŒ‡ä»¤çš„è·¯å¾„ ä¾‹å¦‚ç›‘å¬è·¯å¾„æ˜¯ /root/ ä¿®æ”¹æ–‡ä»¶æ˜¯ /root/code/Python/test.py è€Œçƒ­æ›´æŒ‡ä»¤å¯èƒ½æ˜¯ update Python.test.py, æ‰€ä»¥è¿™é‡Œåº”è¯¥å¡« /root/code/ ç”¨äºè¿›è¡Œè·¯å¾„è½¬æ¢\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token property\">\"cmd_format\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"&#123;0&#125; &#123;1&#125;\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// çƒ­æ›´æŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼šupdate Python.test.py</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token property\">\"replace_char\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token string\">\"\\\\\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å‚è€ƒå†…å®¹ï¼š</p>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvcmFraGFyZ29zaC93YXRjaGRvZw==\">watchdog github æºç </span></li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Python",
                "watchdog",
                "python"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/python/Python-C-extension/",
            "url": "https://allengx.gitee.io/computer-science/study/python/Python-C-extension/",
            "title": "ç¼–å†™Pythonçš„Cæ‰©å±•",
            "date_published": "2020-10-10T10:00:00.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"ç¼–å†™pythonçš„cæ‰©å±•\"><a class=\"anchor\" href=\"#ç¼–å†™pythonçš„cæ‰©å±•\">#</a> ç¼–å†™ Python çš„ C æ‰©å±•</h1>\n<h2 id=\"æ„å»ºç¼–è¯‘åŸºç¡€ç¯å¢ƒ\"><a class=\"anchor\" href=\"#æ„å»ºç¼–è¯‘åŸºç¡€ç¯å¢ƒ\">#</a> æ„å»ºç¼–è¯‘åŸºç¡€ç¯å¢ƒ</h2>\n<ul>\n<li>å¯åŠ¨ visual studio installer</li>\n<li>å®‰è£…ç›¸å…³æ’ä»¶å’Œä¾èµ–åº“</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201009163830574.png\" alt=\"image-20201009163830574\" /></p>\n<h2 id=\"ç¼–å†™cæ‰©å±•ä»£ç \"><a class=\"anchor\" href=\"#ç¼–å†™cæ‰©å±•ä»£ç \">#</a> ç¼–å†™ C æ‰©å±•ä»£ç </h2>\n<p>ç®€å•çš„ C æ‰©å±•å¤§è‡´ç»“æ„å›¾ï¼š</p>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201009182911183.png\" alt=\"image-20201009182911183\" /></p>\n<ul>\n<li>å®šä¹‰å‡½æ•°ï¼š PyMethodDef</li>\n<li>å®šä¹‰æ¨¡å—ï¼š PyModuleDef</li>\n<li>å®šä¹‰åˆå§‹åŒ–æ¨¡å—å‡½æ•°ï¼šPyInit_module</li>\n</ul>\n<h3 id=\"å®šä¹‰å‡½æ•°\"><a class=\"anchor\" href=\"#å®šä¹‰å‡½æ•°\">#</a> å®šä¹‰å‡½æ•°</h3>\n<ul>\n<li>\n<p>å‡½æ•°åï¼š <code>æ¨¡å—å_å‡½æ•°å</code></p>\n</li>\n<li>\n<p>å‚æ•°ç±»å‹  <code>ml_flags</code>  ï¼š</p>\n<ul>\n<li><strong>METH_VARARGS</strong> ï¼šåªåŒ…å«å…ƒç»„å‚æ•°  <code>def func(self, *args)</code></li>\n<li><strong>METH_VARARGS | METH_KEYWORDS</strong> ï¼šåŒ…å«å…ƒç»„åŠå­—å…¸å‚æ•°  <code>def func(self, *args, **kwargs)</code></li>\n<li><strong>METH_FASTCALL</strong> ï¼šå›ºå®šä¸ªæ•°çš„å…ƒç»„å‚æ•°ã€‚é¡¾åæ€ä¹‰ï¼Œé‡‡ç”¨å¿«é€Ÿè°ƒç”¨æ•ˆç‡è¾ƒé«˜ã€‚  <code>def func(self, arg1, arg2, argN)</code></li>\n<li><strong>METH_FASTCALL | METH_KEYWORDS</strong> ï¼šå›ºå®šä¸ªæ•°å…ƒç»„å‚æ•° + å­—å…¸å‚æ•°ã€‚ <code>def func(self, arg1, arg2, argN, **kwargs)</code></li>\n<li><strong>METH_NOARGS</strong> ï¼šæ— å‚å‡½æ•°ã€‚ <code>def func(self)</code></li>\n<li><strong>METH_O</strong> ï¼šå•ä¸ªå‚æ•°ã€‚ <code>def func(self, arg1)</code></li>\n<li><strong>METH_CLASS</strong> ï¼šç±»å‡½æ•°ã€‚ <code>def func(cls)</code></li>\n<li><strong>METH_STATIC</strong> ï¼šé™æ€å‡½æ•°ã€‚ <code>def func()</code></li>\n</ul>\n</li>\n<li>\n<p>é€»è¾‘ä»£ç </p>\n<ul>\n<li>\n<p>å‚æ•°è§£æï¼ˆPyArg_Parseï¼‰ï¼š</p>\n<ul>\n<li>\n<p><strong>PyArg_ParseTuple</strong> ï¼šè§£æä½ç½®å‚æ•°ã€‚</p>\n<ul>\n<li><code>PyArg_ParseTuple(PyObject* args, const char* format, ...)</code></li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">,</span>j<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>s<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">PyArg_ParseTuple</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">,</span><span class=\"token string\">\"iis\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>i<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>j<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>s<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// Python call:func(i:int, j:int, s:str)</span></pre></td></tr></table></figure></li>\n<li>\n<p><strong>PyArg_VaParse</strong>ï¼šç”¨äºè§£æå¯å˜æ•°é‡å‚æ•°ï¼Œé€šè¿‡  <code>var_list</code>  æ‰¿è½½ã€‚</p>\n<ul>\n<li><code>PyArg_VaParse(PyObject* args, const char* format, va_list  vargs)</code> ã€‚</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY3Byb2dyYW1taW5nLmNvbS90dXRvcmlhbC9jL2xlc3NvbjE3Lmh0bWw=\">ç›¸å…³ä½¿ç”¨æ¡ˆä¾‹</span></li>\n</ul>\n</li>\n<li>\n<p><strong>PyArg_ParseTupleAndKeywords</strong>ï¼šè§£æä½ç½®å’Œå…³é”®å­—å‚æ•°ã€‚</p>\n<ul>\n<li><code>PyArg_ParseTupleAndKeywords(PyObject* args, PyObject* kw, const char* format, char* keywords[], ...)</code></li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>b<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>foo <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>bar <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>baz <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>keywords<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"baz\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">PyArg_ParseTupleAndKeywords</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">,</span><span class=\"token string\">\"ss|sss\"</span><span class=\"token punctuation\">,</span> keywords<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>b<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>foo<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>bar<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>baz<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// Python call:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// func() // Fails, require a and b</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// func('a') // fails, requires b</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// func('a', 'b')</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// func('a', 'b', foo='foo', bar='bar', baz='baz) </span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// func('a', 'b','foo', 'bar', 'baz')</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">// func(a='a', b='b', foo='foo', bar='bar', baz='baz')</span></pre></td></tr></table></figure></li>\n<li>\n<p><strong>PyArg_VaParseTupleAndKeywords</strong> ï¼šè§£æå¯å˜æ•°é‡å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚</p>\n<ul>\n<li><code>PyArg_VaParseTupleAndKeywords(PyObject* args, PyObject* kw, const char* format, char* keywords[], va_list  vargs)</code></li>\n</ul>\n</li>\n<li>\n<p><strong>PyArg_ValidateKeywordArguments</strong> ï¼šè§£æå…³é”®å­—å‚æ•°ï¼Œå…³é”®å­—å¿…é¡»ä¸ºå­—ç¬¦ä¸²</p>\n<ul>\n<li><code>PyArg_ValidateKeywordArguments(PyObject* kw)</code></li>\n</ul>\n</li>\n<li>\n<p><strong>PyArg_UnpackTuple</strong> ï¼šè§£æç‰¹å®šé•¿åº¦èŒƒå›´çš„å…ƒç»„ã€‚</p>\n<ul>\n<li><code>PyArg_UnpackTuple(PyObject* args, const char* name, Py_ssize_t* min, Py_ssize_t* max, ...) </code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>è¿”å›å€¼ â€”â€”  <code>Py_BuildValue</code>  ï¼š</p>\n<ul>\n<li><code>PyObject *Py_BuildValue(const char *format, ...)</code></li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>                        None</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"i\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">)</span>                  <span class=\"token number\">123</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"iii\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">,</span> <span class=\"token number\">789</span><span class=\"token punctuation\">)</span>      <span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">,</span> <span class=\"token number\">789</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span>              <span class=\"token string\">'hello'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span>              b<span class=\"token string\">'hello'</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ss\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span>    <span class=\"token punctuation\">(</span><span class=\"token string\">'hello'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'world'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s#\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>          <span class=\"token string\">'hell'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y#\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>          b<span class=\"token string\">'hell'</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"()\"</span><span class=\"token punctuation\">)</span>                      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(i)\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">)</span>                <span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(ii)\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span>          <span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(i,i)\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span>         <span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[i,i]\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span>         <span class=\"token punctuation\">[</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;s:i,s:i&#125;\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"def\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">456</span><span class=\"token punctuation\">)</span>    <span class=\"token punctuation\">&#123;</span><span class=\"token string\">'abc'</span><span class=\"token operator\">:</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'def'</span><span class=\"token operator\">:</span> <span class=\"token number\">456</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"((ii)(ii)) (ii)\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>          <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n<li>\n<p><code>format</code>  æ ¼å¼ï¼š</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>å­—ç¬¦</th>\n<th>ç±»å‹</th>\n<th>å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>s</code></td>\n<td>const char *</td>\n<td>å­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td><code>s*</code></td>\n<td>Py_buffer</td>\n<td>ç”Ÿæˆçš„ C å­—ç¬¦ä¸²å¯èƒ½åŒ…å«åµŒå…¥çš„ NULL å­—èŠ‚</td>\n</tr>\n<tr>\n<td><code>s#</code></td>\n<td>const char *ï¼Œint</td>\n<td>æ‹†è§£å‡ºä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ª strï¼Œä¸€ä¸ª len</td>\n</tr>\n<tr>\n<td><code>z</code></td>\n<td>const char *</td>\n<td>å­—ç¬¦ä¸²æˆ–è€… None</td>\n</tr>\n<tr>\n<td><code>z*</code></td>\n<td>Py_buffer</td>\n<td>ç”Ÿæˆçš„ C å­—ç¬¦ä¸²å¯èƒ½åŒ…å«åµŒå…¥çš„ NULL å­—èŠ‚æˆ–è€… None</td>\n</tr>\n<tr>\n<td><code>z#</code></td>\n<td>const char *ï¼Œint</td>\n<td>æ‹†è§£å‡ºä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ª str æˆ–è€… Noneï¼Œä¸€ä¸ª len</td>\n</tr>\n<tr>\n<td><code>y</code></td>\n<td>const char *</td>\n<td>åªè¯»å­—èŠ‚å¯¹è±¡</td>\n</tr>\n<tr>\n<td><code>S</code></td>\n<td>PyBytesObject *</td>\n<td>python çš„ bytes å¯¹è±¡</td>\n</tr>\n<tr>\n<td><code>Y</code></td>\n<td>PyByteArrayObject *</td>\n<td>Python çš„ bytearray å¯¹è±¡</td>\n</tr>\n<tr>\n<td><code>b</code></td>\n<td>int</td>\n<td>æ— ç¬¦å·æ•´æ•°</td>\n</tr>\n<tr>\n<td><code>B</code></td>\n<td>int</td>\n<td>æ— ç¬¦å·æ•´æ•°ä¸”ä¸è¿›è¡Œæº¢å‡ºæ£€æŸ¥</td>\n</tr>\n<tr>\n<td><code>h</code></td>\n<td>int</td>\n<td>çŸ­æ•´å‹</td>\n</tr>\n<tr>\n<td><code>H</code></td>\n<td>int</td>\n<td>ä¸è¿›è¡Œæº¢å‡ºæ£€æŸ¥çš„çŸ­æ•´å‹</td>\n</tr>\n<tr>\n<td><code>i</code></td>\n<td>int</td>\n<td>æ­£å¸¸æ•´æ•°</td>\n</tr>\n<tr>\n<td><code>l</code></td>\n<td>long int</td>\n<td>C çš„é•¿æ•´å½¢</td>\n</tr>\n<tr>\n<td><code>c</code></td>\n<td>char</td>\n<td>å­—ç¬¦</td>\n</tr>\n<tr>\n<td><code>d</code></td>\n<td>double</td>\n<td>åŒç²¾åº¦æµ®ç‚¹</td>\n</tr>\n<tr>\n<td><code>f</code></td>\n<td>float</td>\n<td>å•ç²¾åº¦æµ®ç‚¹</td>\n</tr>\n<tr>\n<td><code>p</code></td>\n<td>bool</td>\n<td>bool ç±»å‹æœ¬è´¨ä¸Šè¿˜æ˜¯ int</td>\n</tr>\n<tr>\n<td><code>D</code></td>\n<td>Py_complex *</td>\n<td>å¤æ•°</td>\n</tr>\n<tr>\n<td><code>(...)</code></td>\n<td>tuple</td>\n<td>åºåˆ—</td>\n</tr>\n<tr>\n<td><code>[...]</code></td>\n<td>list</td>\n<td>åˆ—è¡¨</td>\n</tr>\n<tr>\n<td><code>&#123;...&#125;</code></td>\n<td>dict</td>\n<td>å­—å…¸</td>\n</tr>\n<tr>\n<td><code>O</code></td>\n<td>PyObject*</td>\n<td>Python å¯¹è±¡ï¼Œä¸ä¿®æ”¹å…¶å¼•ç”¨è®¡æ•°</td>\n</tr>\n<tr>\n<td><code>O&amp;</code></td>\n<td>convert+void*</td>\n<td>å°† Python å¯¹è±¡è½¬ä¸º Cã€‚ <code>C-obj = converter(py-obj, O&amp;);</code></td>\n</tr>\n<tr>\n<td><code>\\|</code></td>\n<td></td>\n<td>è¡¨ç¤ºåç»­å‚æ•°æ˜¯å¯é€‰çš„ i|s :  <code>ä¸€ä¸ªæ•´æ•°ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²å¯é€‰</code></td>\n</tr>\n<tr>\n<td><code>$</code></td>\n<td></td>\n<td>è¡¨ç¤ºåç»­å‚æ•°ä»…æ˜¯å…³é”®å­—</td>\n</tr>\n<tr>\n<td><code>:</code></td>\n<td></td>\n<td>æ ¼å¼å•ä½åˆ—è¡¨åˆ°æ­¤ç»“æŸï¼›åœ¨é”™è¯¯æ¶ˆæ¯ä¸­ä½¿ç”¨å†’å·åçš„å­—ç¬¦ä¸²ä½œä¸ºå‡½æ•°å</td>\n</tr>\n<tr>\n<td><code>;</code></td>\n<td></td>\n<td>æ ¼å¼å•ä½åˆ—è¡¨åˆ°æ­¤ç»“æŸï¼›åˆ†å·åçš„å­—ç¬¦ä¸²ç”¨ä½œé”™è¯¯æ¶ˆæ¯ã€‚ <code>:</code>  å’Œ <code>;</code>  ç›¸äº’æ’æ–¥ã€‚</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"exmaple\"><a class=\"anchor\" href=\"#exmaple\">#</a> exmapleï¼š</h4>\n<h5 id=\"å®šä¹‰pythonçš„cæ‰©å±•\"><a class=\"anchor\" href=\"#å®šä¹‰pythonçš„cæ‰©å±•\">#</a> å®šä¹‰ Python çš„ C æ‰©å±•</h5>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>ccore<span class=\"token punctuation\">.</span>c<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span> <span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;Python.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">static</span> PyObject<span class=\"token operator\">*</span> <span class=\"token function\">ccore_calc</span><span class=\"token punctuation\">(</span>PyObject<span class=\"token operator\">*</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">Py_BuildValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"i\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyMethodDef</span> module_methods<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"calc\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>PyCFunction<span class=\"token punctuation\">)</span>ccore_calc<span class=\"token punctuation\">,</span> METH_NOARGS<span class=\"token punctuation\">,</span> <span class=\"token string\">\"è¿™æ˜¯ä¸€ä¸ªç®€å•æµ‹æµ‹è¯•\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyModuleDef</span> modulemethod <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  PyModuleDef_HEAD_INIT<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token string\">\"ccore\"</span><span class=\"token punctuation\">,</span>           <span class=\"token comment\">/* name of module */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token string\">\"A sample module\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">/* Doc string (may be NULL) */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>                 <span class=\"token comment\">/* Size of per-interpreter state or -1 */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  module_methods       <span class=\"token comment\">/* Method table */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>PyMODINIT_FUNC <span class=\"token function\">PyInit_ccore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">PyModule_Create</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>modulemethod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>setup<span class=\"token punctuation\">.</span>py<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">from</span> distutils<span class=\"token punctuation\">.</span>core <span class=\"token keyword\">import</span> setup</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">from</span> distutils<span class=\"token punctuation\">.</span>extension <span class=\"token keyword\">import</span> Extension</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>setup<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'Py_ccore'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      version<span class=\"token operator\">=</span><span class=\"token string\">'1.0'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      ext_modules<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>Extension<span class=\"token punctuation\">(</span><span class=\"token string\">'ccore'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'ccore.c'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h5 id=\"æ„å»ºæŒ‡ä»¤\"><a class=\"anchor\" href=\"#æ„å»ºæŒ‡ä»¤\">#</a> æ„å»ºæŒ‡ä»¤</h5>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>python setup.py <span class=\"token function\">install</span></pre></td></tr></table></figure><h5 id=\"è°ƒç”¨pythonçš„cæ‰©å±•\"><a class=\"anchor\" href=\"#è°ƒç”¨pythonçš„cæ‰©å±•\">#</a> è°ƒç”¨ Python çš„ C æ‰©å±•</h5>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> ccore</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>ccore<span class=\"token punctuation\">.</span>calc<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Out<span class=\"token punctuation\">:</span><span class=\"token number\">100</span></pre></td></tr></table></figure><h3 id=\"å®šä¹‰-pymethoddef\"><a class=\"anchor\" href=\"#å®šä¹‰-pymethoddef\">#</a> å®šä¹‰ PyMethodDef</h3>\n<ul>\n<li>C å±‚çš„å®šä¹‰</li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyMethodDef</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>   <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>ml_name<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   PyCFunction ml_meth<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>   <span class=\"token keyword\">int</span> ml_flags<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>ml_doc<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">å­—æ®µ</th>\n<th style=\"text-align:left\">ç±»å‹</th>\n<th style=\"text-align:left\">å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>ml_name</code></td>\n<td style=\"text-align:left\">const char *</td>\n<td style=\"text-align:left\">å‡½æ•°å</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>ml_meth</code></td>\n<td style=\"text-align:left\">PyCFunction</td>\n<td style=\"text-align:left\">å‡½æ•°æŒ‡é’ˆ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>ml_flags</code></td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:left\">å‚æ•°ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>ml_doc</code></td>\n<td style=\"text-align:left\">const char *</td>\n<td style=\"text-align:left\">å‡½æ•°è¯´æ˜</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"c-å±‚çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#c-å±‚çš„ä½¿ç”¨\">#</a> C å±‚çš„ä½¿ç”¨ï¼š</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyMethodDef</span> module_methods<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"calc\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>PyCFunction<span class=\"token punctuation\">)</span>ccore_calc<span class=\"token punctuation\">,</span> METH_NOARGS<span class=\"token punctuation\">,</span> <span class=\"token string\">\"func.__doc__\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    # <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>ç­‰ä»·äºå®šä¹‰äº†ä¸€ä¸ªå¦‚ä¸‹ç»“æ„çš„å‡½æ•°ï¼Œä¸åŒ…å«å®ç°å’Œè¿”å›å€¼</p>\n</blockquote>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"func.__doc__\"\"\"</span>\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr></table></figure><h3 id=\"å®šä¹‰-pymoduledef\"><a class=\"anchor\" href=\"#å®šä¹‰-pymoduledef\">#</a> å®šä¹‰ PyModuleDef</h3>\n<ul>\n<li>C å±‚çš„å®šä¹‰</li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyModuleDef</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    PyModuleDef_HEAD_INIT<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   \t<span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>m_name<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>m_doc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   \tPy_ssize_t m_size<span class=\"token punctuation\">;</span> <span class=\"token comment\">//ã€‚</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>   \tPyMethodDef <span class=\"token operator\">*</span> m_methods<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">å­—æ®µ</th>\n<th style=\"text-align:left\">ç±»å‹</th>\n<th style=\"text-align:left\">å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>m_base</code></td>\n<td style=\"text-align:left\">PyModuleDef_Base</td>\n<td style=\"text-align:left\">å§‹ç»ˆå°†æ­¤æˆå‘˜åˆå§‹åŒ–ä¸º <code>PyModuleDef_HEAD_INIT</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>m_name</code></td>\n<td style=\"text-align:left\">const char *</td>\n<td style=\"text-align:left\">æ¨¡å—å</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>m_doc</code></td>\n<td style=\"text-align:left\">const char *</td>\n<td style=\"text-align:left\">æ¨¡å—è¯´æ˜</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>m_size</code></td>\n<td style=\"text-align:left\">Py_ssize_t</td>\n<td style=\"text-align:left\">è®¾ç½®å­˜å‚¨æ¨¡å—ï¼Œ -1 è¡¨ç¤ºå…¨å±€çŠ¶æ€ï¼Œä¸æ”¯æŒå­è§£é‡Šå™¨ã€‚<br />æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<a href=\"https://www.python.org/dev/peps/pep-3121\"><strong> PEP 3121</strong></a></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>m_methods</code></td>\n<td style=\"text-align:left\">PyMethodDef *</td>\n<td style=\"text-align:left\">å‡½æ•°åˆ—è¡¨æŒ‡é’ˆ</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"c-å±‚çš„ä½¿ç”¨-2\"><a class=\"anchor\" href=\"#c-å±‚çš„ä½¿ç”¨-2\">#</a> C å±‚çš„ä½¿ç”¨ï¼š</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyModuleDef</span> modulemethod <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  PyModuleDef_HEAD_INIT<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token string\">\"ccore\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token string\">\"A sample module\"</span><span class=\"token punctuation\">,</span>  </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>     </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  module_methods       </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>ç­‰ä»·äºå®šä¹‰äº†ä¸€ä¸ªå¦‚ä¸‹ç»“æ„çš„æ¨¡å—</p>\n</blockquote>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>ccore<span class=\"token punctuation\">.</span>py<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token triple-quoted-string string\">\"\"\"A sample module\"\"\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"func.__doc__\"\"\"</span>\"</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr></table></figure><h3 id=\"å®šä¹‰åˆå§‹åŒ–æ¨¡å—å‡½æ•°\"><a class=\"anchor\" href=\"#å®šä¹‰åˆå§‹åŒ–æ¨¡å—å‡½æ•°\">#</a> å®šä¹‰åˆå§‹åŒ–æ¨¡å—å‡½æ•°</h3>\n<p>å¦‚ä¸‹ä»£ç å®šä¹‰æ¨¡å—çš„åˆ›å»º</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>PyMODINIT_FUNC <span class=\"token function\">PyInit_ccore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// PyInit_æ¨¡å—å</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">PyModule_Create</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>modulemethod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// modulemethod is PyModuleDef obj</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å‚è€ƒèµ„æ–™ï¼š</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9jLWFwaS9zdHJ1Y3R1cmVzLmh0bWw/aGlnaGxpZ2h0PW1ldGhfI01FVEhfTk9BUkdT\">Python å®˜æ–¹æ‰‹å†Œ</span></p>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Python"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/task-list/plan-table/",
            "url": "https://allengx.gitee.io/computer-science/task-list/plan-table/",
            "title": "è®¡åˆ’è¡¨",
            "date_published": "2020-10-08T07:10:00.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä¸ªäººè®¡åˆ’ï¼Œå¸Œæœ›èƒ½å¤Ÿé¡ºåˆ©å®Œæˆ /(ã„’ o ã„’)/ <s>å’•å’•å’•</s></p>\n</div>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_0\"> é˜…è¯»ã€Špython æºç å‰–æã€‹</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" disabled=\"true\" /><label for=\"cbx_1\"> é˜…è¯»ã€Šå¾®æœåŠ¡æ¶æ„ä¸å®è·µã€‹</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" disabled=\"true\" /><label for=\"cbx_2\"> pythonã€Œå·¥åŒ ã€</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" disabled=\"true\" /><label for=\"cbx_3\"> go-mrico ä»£ç ç ”è¯»</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_4\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_4\"> äº†è§£ Python çƒ­æ›´æ–°æœºåˆ¶</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_5\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_5\"> æŒæ¡ Python çš„ C æ‰©å±•ç¼–å†™</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_6\" disabled=\"true\" /><label for=\"cbx_6\"> å®ŒæˆåŸºäº Pyside2 çš„å¯¼è¡¨å·¥å…·</label></li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "ä»»åŠ¡æ¸…å•"
            ]
        },
        {
            "id": "https://allengx.gitee.io/computer-science/study/python/Python2-Source-Code/",
            "url": "https://allengx.gitee.io/computer-science/study/python/Python2-Source-Code/",
            "title": "python2æºç å‰–æ",
            "date_published": "2020-10-08T06:49:00.000Z",
            "content_html": "<div class=\"note info\">\n<p>ä»¥ä¸‹ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†</p>\n</div>\n<h1 id=\"pythonæºç é˜…è¯»\"><a class=\"anchor\" href=\"#pythonæºç é˜…è¯»\">#</a> python æºç é˜…è¯»</h1>\n<h2 id=\"æ•°æ®ç±»å‹åˆ†æ\"><a class=\"anchor\" href=\"#æ•°æ®ç±»å‹åˆ†æ\">#</a> æ•°æ®ç±»å‹åˆ†æ</h2>\n<h3 id=\"pyintobjectpythonä¸­çš„intç±»å‹\"><a class=\"anchor\" href=\"#pyintobjectpythonä¸­çš„intç±»å‹\">#</a> PyIntObjectâ€”â€”python ä¸­çš„ int ç±»å‹</h3>\n<ul>\n<li>python è®¡ç®—ä¸¤ä¸ªæ•´æ•° ()\n<ul>\n<li>å‡ºç°æº¢å‡ºåä¼šè½¬æ¢æˆ long ç±»å‹ï¼ˆæ— é™å¤§æ•´æ•°ï¼‰ã€‚</li>\n</ul>\n</li>\n<li>python æ•´æ•°ç¼“å­˜\n<ul>\n<li><code>[-5~256]</code>  çš„æ•´æ•°ã€‚</li>\n<li>æä¾›å¤šä¸ªç¼“å­˜å—ï¼Œæ¯ä¸ªèƒ½å¤Ÿå­˜æ”¾ <code>(100/8)</code>  æ•°é‡çš„ int ç±»å‹ã€‚</li>\n<li>æ§åˆ¶è¿™äº›å—çš„ç»“æ„æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ï¼ˆæŒ‡å‘æ¯ä¸ªå—ä¸­ç¬¬ä¸€ä¸ªè¿èƒŒä½¿ç”¨çš„å†…å­˜å—ï¼‰ã€‚</li>\n<li>ç”³è¯·æ–°çš„ç¼“å­˜å—é‡‡ç”¨å¤´æ’æ³•ã€‚</li>\n<li>ç©ºé—²åœ°å€æŒ‡é’ˆ (free_list) ä¼šä¸²èµ·æ‰€æœ‰ç¼“å­˜å—çš„åœ°å€ç©ºé—´ (å•é“¾è¡¨)ã€‚</li>\n<li>å¯¹è±¡é‡Šæ”¾åä¼šä»¥å¤´æ’çš„å½¢å¼å†æ¬¡åŠ å…¥åˆ° (free_list)ã€‚</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>éšæ‚£ï¼špy2.5 ä¹‹å‰çš„ç‰ˆæœ¬ï¼ˆä¹‹åçš„ä¸æ¸…æ¥šï¼‰ï¼Œmalloc å‡ºæ¥çš„ç¼“å­˜å—æ²¡æœ‰ä¸€ä¸ªå›æ”¶æœºåˆ¶ï¼Œå³ï¼šåˆ›å»ºè¶³å¤Ÿå¤šçš„å¯¹è±¡ï¼ˆmalloc è¶³å¤Ÿå¤šçš„ç¼“å­˜å—ï¼‰ä¼šå¯¼è‡´å¦ä¸€ç§æ„ä¹‰ä¸Šçš„å†…å­˜è¢«æ¦¨å¹²ã€‚</p>\n</blockquote>\n<h3 id=\"pystringobjectpythonä¸­çš„stringç±»å‹\"><a class=\"anchor\" href=\"#pystringobjectpythonä¸­çš„stringç±»å‹\">#</a> PyStringObjectâ€”â€”python ä¸­çš„ string ç±»å‹</h3>\n<ul>\n<li>å­—ç¬¦ä¸²çš„ hash\n<ul>\n<li>åˆå§‹ä¸º -1ã€‚</li>\n<li>å­—ç¬¦ä¸² hash é‡‡ç”¨çš„ç®—æ³•ä¸å¤Ÿç†æƒ³ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå¤§ï¼Œä¼šå¯¹æ¯ä¸ªå­—ç¬¦è¿›è¡Œ  <code>ä¹˜</code>  æ“ä½œã€‚</li>\n</ul>\n</li>\n<li>å­—ç¬¦ä¸²çš„ç‰¹æ€§\n<ul>\n<li>é•¿åº¦ä¸èƒ½è¶…è¿‡  <code>(2**32)/2</code> ï¼Œå¤§æ¦‚æ˜¯ 21 äº¿å¤šä½ï¼Œ2GB å·¦å³å¤§å°ã€‚è¶…è¿‡åˆ™ä¸ä¼šåˆ›å»ºã€‚</li>\n</ul>\n</li>\n<li>intern å†…å­˜å…±äº«\n<ul>\n<li>é’ˆå¯¹ç›¸åŒå­—ç¬¦ä¸²ï¼Œ<s>ä¸é‡å¤åˆ›å»º</s>ï¼ˆå…¶å®è¿˜æ˜¯ä¼šåˆ›å»ºï¼Œå†é”€æ¯ï¼‰ï¼Œå®ƒä»¬å…±äº«åŒä¸€å—æ•°æ®ã€‚</li>\n<li>åªä¼šç”Ÿæ•ˆåœ¨  <code>PyStringObject</code>  å¯¹è±¡ï¼Œå…¶å­ç±»ä¸ä¼šç”Ÿæ•ˆã€‚</li>\n<li>åˆ›å»ºæ–°å¯¹è±¡æ—¶ä¼šåˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æœå·²ç»å­˜åœ¨äº†ï¼Œä¼šåˆ é™¤åŸæ¥åˆ›å»ºçš„å¯¹è±¡ï¼Œç„¶åä¿®æ”¹å…¶æŒ‡é’ˆæŒ‡å‘ã€‚</li>\n</ul>\n</li>\n<li>å­—ç¬¦ç¼“å†²åŒº\n<ul>\n<li>é’ˆå¯¹å•ä¸ªå­—ç¬¦è¿›è¡Œç¼“å­˜ï¼ŒåŠŸèƒ½ç±»ä¼¼æ•´æ•°ç¼“å­˜ï¼Œé•¿åº¦ä¸º (2**8)â€”â€”256 ä¸ªå­—ç¬¦ã€‚</li>\n<li>åˆå§‹é˜¶æ®µä¸ºç©ºï¼Œæ¯æ¬¡åˆ›é”®æ–°çš„å­—ç¬¦ï¼Œä¸”ä¸å†ç¼“å­˜åŒºå†…æ—¶ï¼Œè¿›è¡Œ intern æ“ä½œåï¼ŒåŠ å…¥è¿›å»ã€‚</li>\n<li><code>+</code>  æ“ä½œåœ¨ string ä¸­æ‰§è¡Œæ•ˆç‡éå¸¸ä½ä¸‹ï¼ˆstring å¯¹è±¡æœ¬èº«æ˜¯ä¸å¯å˜é•¿ç±»å‹ï¼‰ï¼Œæ¨èä½¿ç”¨ <code>join</code>  æ¥ä¸€æ¬¡å¤„ç†å¤šä¸ªã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"pylistobjectpythonä¸­çš„listç±»å‹\"><a class=\"anchor\" href=\"#pylistobjectpythonä¸­çš„listç±»å‹\">#</a> PyListObjectâ€”â€”python ä¸­çš„ list ç±»å‹</h3>\n<ul>\n<li>å½¢å¦‚ c++ çš„ vectorï¼Œæœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ†é…ç©ºé—´æ—¶ï¼Œå¤šåˆ†é…ä¸€éƒ¨åˆ†ï¼Œç”¨äºåŠ¨æ€æ‰©å……ã€‚</li>\n<li>ç®¡ç† list çš„æŒ‡é’ˆåŒæ ·ä¹Ÿæœ‰ä¸€å—ç¼“å­˜åŒºï¼Œå¯å­˜å‚¨æ•°é‡æ˜¯ 80 ä¸ªã€‚å¦‚æœå·²ç»å…¨éƒ¨å ç”¨ï¼Œåˆ™ä¼šé€šè¿‡ <code>GC_NEW</code>  çš„æ–¹å¼åˆ›å»ºæ–°çš„ã€‚</li>\n<li>å®¹é‡è°ƒæ•´ã€‚åœ¨å®¹é‡ä¸åœ¨é™åˆ¶èŒƒå›´å†…ï¼ˆ1/2 å®¹é‡ï½å®¹é‡ä¸Šé™ä¹‹é—´ï¼‰ã€‚ä¼šè¿›è¡Œï¼ˆæ‰©å®¹ / ç¼©å®¹ï¼‰æ“ä½œï¼Œè°ƒæ•´æ–¹æ³•ä¸ºï¼š <code>newsize/8 + (newsize &lt;9 ? 3:6) + newsize</code></li>\n<li>è´Ÿå€¼ç´¢å¼•çš„ç§˜è¯€å°±åœ¨ï¼Œè·å–ä¸‹æ ‡çš„æ—¶å€™é’ˆå¯¹è´Ÿæ•°æ‰§è¡Œ  <code>+size</code>  æ“ä½œ</li>\n<li>insert å¯¹äº list æ¥è¯´æ€§èƒ½æ¶ˆè€—è¦æ¯” append é«˜ï¼Œå› ä¸ºéœ€è¦åç§» insert ä¹‹åçš„å…ƒç´ ã€‚</li>\n<li>å¯¹è±¡é”€æ¯åä¼šå°è¯•åŠ å…¥ç¼“å­˜åŒºï¼Œå¦‚æœç¼“å†²åŒºæ»¡äº†åˆ™é‡Šæ”¾æ‰ã€‚ä½†æ˜¯å¯¹è±¡ç®¡ç†çš„å†…å­˜ä¼šè¢«å½’è¿˜ã€‚</li>\n<li>é”€æ¯åæ”¾å›ç¼“å†²åŒºçš„å¯¹è±¡ä¼šæ›¿æ¢åŸæ¥æ­£åœ¨è¢«ä½¿ç”¨çš„ç¼“å­˜å¯¹è±¡ï¼Œä½†æ˜¯è¿™å¹¶ä¸å½±å“ã€‚å› ä¸ºè¢«å‰”é™¤çš„å¯¹è±¡æ­£åœ¨è¢«å…¶ä»–å¯¹è±¡ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ä¼šè¢«é‡Šæ”¾ã€‚åªæ˜¯ä¸è¢«ç¼“å­˜åŒºç®¡ç†äº†ã€‚</li>\n</ul>\n<h3 id=\"pydictobjectpythonä¸­çš„dictç±»å‹\"><a class=\"anchor\" href=\"#pydictobjectpythonä¸­çš„dictç±»å‹\">#</a> PyDictObjectâ€”â€”python ä¸­çš„ dict ç±»å‹</h3>\n<ul>\n<li>æ•°æ®ç»“æ„æ˜¯ hashtableï¼Œé‡‡ç”¨å¼€æ”¾å®šå€æ³•è¿›è¡Œå†²çªè§£å†³ï¼ˆäºŒæ¬¡æ¢æµ‹ï¼‰ã€‚</li>\n<li>ä¼ªåˆ é™¤ï¼Œå­—å…¸ key å’Œ value è¢«åˆ é™¤æ—¶ï¼Œä¼šæš‚æ—¶ä¿ç•™ keyï¼Œå¹¶ä¸”èµ‹å€¼ä¸º dummyï¼Œä¿è¯èƒ½å¤Ÿç»§ç»­é€šè¿‡æ¢æµ‹é“¾æ‰¾åˆ°åç»­èŠ‚ç‚¹ã€‚ä½†æ˜¯ä¹Ÿå¯ä»¥å¯¹å¤„äº dummy çš„ key è¿›è¡Œèµ‹å€¼ã€‚ç›¸å½“äºå ç€å‘ä½ã€‚</li>\n<li>dict çš„ entry çš„ä¸‰ç§çŠ¶æ€\n<ul>\n<li>activeï¼ˆkeyï¼Œval éƒ½ä¸ä¸º nullï¼‰</li>\n<li>dummyï¼ˆkey ä¸º dummyï¼Œval ä¸º nullï¼‰</li>\n<li>unusedï¼ˆkeyï¼Œval éƒ½æ˜¯ nullï¼‰</li>\n</ul>\n</li>\n<li>hashtable çš„æœ€åˆå¤§å°ä¸º <code>8</code> ï¼Œdict å¯¹è±¡çš„åˆ›å»ºåŒæ ·ä½¿ç”¨äº†ç¼“å†²æ± ï¼Œæ–¹å¼ç­‰åŒäº Listã€‚ç¼“å­˜ 80 ä¸ªã€‚</li>\n<li>hashtable çš„æ˜ å°„å‡½æ•°æ˜¯ç›´æ¥ç”¨æŸä¸ªå¯¹è±¡çš„ hash å€¼å’Œ dict çš„å¤§å°åš <code>ä¸</code> æ“ä½œä¿è¯ç»“æœå°äºç­‰äº dict å¤§å°ã€‚</li>\n<li>åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨éœ€è¦åˆ¤æ–­ key çš„åœ°å€æ˜¯å¦ç›¸åŒï¼Œä¸ç›¸åŒå†å»åˆ¤æ–­ å€¼çš„ hash æ˜¯å¦ç›¸åŒï¼Œç›¸åŒå†å»è¿›è¡Œå¯¹åº”çš„æ¯”è¾ƒã€‚</li>\n<li>hash åŒ¹é…å¤±è´¥åçš„å†æ¬¡ hash ç­–ç•¥ï¼š\n<ul>\n<li>ä¸Šä¸€ä¸ª entry çš„ hash ä¸ä¸Šå®¹å™¨å¤§å°ä¸º  <code>i</code></li>\n<li>ç¬¬ä¸€ä¸ª entry çš„ hash ä¸º  <code>k</code></li>\n<li>å†²çªæ¬¡æ•°  <code>s</code></li>\n<li>dict å®¹å™¨å¤§å°ä¸º  <code>m</code></li>\n<li>ä¸‹ä¸€ä¸ªåœ°å€å…¬å¼ï¼š <code>ï¼ˆi * 4 + i + k / ï¼ˆ4 * s * å¸¸é‡ï¼‰ + 1ï¼‰ &amp; m</code></li>\n</ul>\n</li>\n<li>å˜æ›´å®¹é‡æ“ä½œï¼š\n<ul>\n<li>è£…è½½ç‡ï¼š <code>activeå’Œdummyçš„æ•°é‡ / æ€»å®¹é‡</code></li>\n<li>å½“æ‰§è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œæœ‰ Unused æˆ–è€… Dummy å¯¹è±¡è¢«å¡«å……ï¼Œå¹¶ä¸”æ’å…¥åè£…è½½ç‡â‰¥2/3 ä¼šè¿›è¡Œæ‰©å®¹ã€‚</li>\n<li>å˜å®¹æ–¹å¼ å½“å‰  <code>activeçš„èŠ‚ç‚¹æ•°*(activeçš„èŠ‚ç‚¹æ•° &gt; 50000 ? 2 : 4)</code> ï¼Œå¦‚æœå¤§äº 50000 å˜å®¹ä¸ºåŸæ¥ active èŠ‚ç‚¹çš„ 2 å€ã€‚å¦åˆ™å˜å®¹ä¸º 4 å€ã€‚</li>\n<li>ä¸Šé¢çš„è§„åˆ™åªæ˜¯æœŸæœ›çš„å˜å®¹å€¼ï¼Œå®é™…ç»“æœè¿˜éœ€è¦å†æ¬¡è®¡ç®—ï¼Œè®¡ç®—æ–¹å¼ä¸º 8 çš„æŒ‡æ•°å¢é•¿â‰¥æœŸæœ›å˜å®¹å€¼ã€‚ä¾‹å¦‚æœŸæœ›å˜å®¹ 20ï¼Œé‚£ä¹ˆæœ€ç»ˆæ‰©å®¹å€¼ä¼šæ˜¯  <code>8*2*2 = 32</code></li>\n<li>åˆ¤æ–­å˜å®¹åå’Œä¹‹å‰å®¹é‡æ˜¯å¦ä¸º 8ï¼Œæ˜¯åˆ™ä¸éœ€è¦å˜å®¹ã€‚å¦åˆ™ï¼Œåˆ†é…æ–°å†…å­˜ï¼ŒæŠŠåŸæ¥çš„ active æ•°æ®æ’å…¥åˆ°æ–°çš„å†…å­˜ä¸­ã€‚é‡Šæ”¾åŸæœ‰å†…å­˜ã€‚</li>\n<li>è§¦å‘ç¼©å®¹çš„æƒ…å†µï¼šåœ¨ active èŠ‚ç‚¹è¾ƒå°‘ï¼Œdummy èŠ‚ç‚¹è¾ƒå¤šï¼Œè¿›è¡Œæ’å…¥æ“ä½œï¼Œä½¿å¾—å˜å®¹æ¡ä»¶æˆç«‹æ—¶ï¼Œè§¦å‘ç¼©å®¹ã€‚python2.7 å¯èƒ½ä¸ç”Ÿæ•ˆï¼Œ3.7 å¯ä»¥ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"pythonçš„ç¼–è¯‘ç»†èŠ‚\"><a class=\"anchor\" href=\"#pythonçš„ç¼–è¯‘ç»†èŠ‚\">#</a> python çš„ç¼–è¯‘ç»†èŠ‚</h2>\n<h3 id=\"pycæ–‡ä»¶\"><a class=\"anchor\" href=\"#pycæ–‡ä»¶\">#</a> pyc æ–‡ä»¶</h3>\n<ul>\n<li>è¿è¡Œæ—¶çš„ python ä¸­ï¼Œå­—èŠ‚ç ä¼šè¢«å­˜å‚¨åœ¨ PyCodeObject ä¸­ã€‚å¦‚æœä¸€ä¸ªä»£ç å—è¢«å…¶ä»–æ¨¡å—å¼•ç”¨ï¼ˆimportï¼‰ï¼Œpython ä¼šé¦–å…ˆå»å¯»æ‰¾å¯¹åº”çš„ pyc æ–‡ä»¶æˆ–è€… dll æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šæŠŠå­—èŠ‚ç å†…å®¹ç¼–è¯‘åˆ° pyc å†…ï¼Œå† importï¼Œpyc æ–‡ä»¶ã€‚æœ¬è´¨ä¸Š pyc æ–‡ä»¶æ˜¯ python è¿è¡Œæ—¶å¯¹ PyCodeObject çš„ä¸€ä¸ªæ‰¿è½½ã€‚</li>\n<li>pyc æ–‡ä»¶ä¿å­˜çš„å†…å®¹éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼ã€‚è®°å½•å†…å®¹ï¼š\n<ul>\n<li>magic number ç”¨äºç‰ˆæœ¬æ§åˆ¶</li>\n<li>time æ—¶é—´æˆ³</li>\n<li>PyCodeObject å¯¹è±¡</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"pyframeobjectå¯¹è±¡\"><a class=\"anchor\" href=\"#pyframeobjectå¯¹è±¡\">#</a> PyFrameObject å¯¹è±¡</h3>\n<ul>\n<li>è¿è¡Œæ—¶çš„ python å†…éƒ¨å¯¹è±¡ã€‚å¯ä»¥ç†è§£ä¸º python ä¸­ä¸€æ®µ code block æ‰€ç”Ÿæˆçš„å¯¹è±¡ã€‚</li>\n<li>ç»´æŠ¤äº†å½“å‰ code block çš„å…¨éƒ¨å†…å®¹ï¼š\n<ul>\n<li>loacl: æœ¬åœ°å˜é‡ã€‚</li>\n<li>global: å…¨å±€å˜é‡ã€‚</li>\n<li>builtin: å†…å»ºå˜é‡ã€‚</li>\n<li>f_back: ç”¨äºè¿”å›ä¸Šä¸€å±‚çš„æŒ‡é’ˆã€‚</li>\n</ul>\n</li>\n<li>ç»´æŠ¤ PyFrameObject çš„ã€Œæ ˆã€ç©ºé—´:\n<ul>\n<li>f_valuestack: æŒ‡å‘æ ˆçš„é¡¶éƒ¨ã€‚</li>\n<li>f_stacktop: æŒ‡å‘å½“å‰æ ˆé¡¶ã€‚</li>\n<li>f_localsplus: æ ˆèµ·å§‹ç©ºé—´ï¼ˆæ ˆé¡¶ç­‰äºæ ˆèµ·å§‹ç©ºé—´ + extrasï¼‰</li>\n<li>extras: ä¸€äº›æŒ‡é’ˆç­‰é¢å¤–çš„ç©ºé—´ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"pythonæ§åˆ¶æµ\"><a class=\"anchor\" href=\"#pythonæ§åˆ¶æµ\">#</a> python æ§åˆ¶æµ</h2>\n<ul>\n<li>\n<p><code>if</code>  æ§åˆ¶æµ â€”â€”compare æ“ä½œ</p>\n<ul>\n<li>if æ§åˆ¶æµçš„è·³è½¬æ“ä½œåªèƒ½å‘å‰ã€‚</li>\n<li>åŸç†ï¼šé€šè¿‡  <code>JUMP_IF_FALSE</code>  å’Œ  <code>JUMP_IF_TRUE</code>  å’Œ  <code>JUMP_FORWARD</code>  åœ¨ä¸åŒä»£ç ç‰‡æ®µå®ç°è·³è½¬ã€‚</li>\n<li>if æ§åˆ¶æµé€šå¸¸æ¶‰åŠåˆ°æ¯”è¾ƒæ“ä½œã€‚python çš„æ¯”è¾ƒåˆ†ä¸º  <code>quick_compare</code>  å’Œ  <code>slow_compare</code> ï¼Œä¸¤è€…é€Ÿåº¦ç›¸å·®ç”šè¿œ\n<ul>\n<li>å¿«æ¯”è¾ƒé€‚ç”¨äºä¸¤ä¸ªéƒ½æ˜¯æ•´æ•°ç±»å‹</li>\n<li>å…¶ä»–æƒ…å†µä¸‹ä¼šæ‰§è¡Œæ…¢æ¯”è¾ƒ</li>\n</ul>\n</li>\n<li>å¸¸è§çš„æ¯”è¾ƒç±»å‹ï¼š\n<ul>\n<li><code>&lt;</code></li>\n<li><code>&gt;</code></li>\n<li><code>==( is)</code></li>\n<li><code>!=</code></li>\n<li><code>&gt;=</code></li>\n<li><code>&lt;=</code></li>\n<li><code>in</code></li>\n</ul>\n</li>\n<li>æ…¢æ¯”è¾ƒæ—¶ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡ç±»å‹ç›¸åŒï¼Œä¸”ä¸æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆ python ä¼šä½¿ç”¨  <code>tp_richcompare</code>  æ¯”è¾ƒå™¨è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰  <code>tp_richcompare</code>  æˆ–è€…ä¸æ»¡è¶³å‰é¢çš„æ¡ä»¶ï¼Œåˆ™ä¼šä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„  <code>tp_compare</code>  è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸Šè¿°ä¸¤ä¸ªæ¯”è¾ƒå™¨å‡æœªå®ç°ï¼Œpython è¿˜ä¼šå°è¯•è°ƒç”¨  <code>do_richcmp</code>  è¿›è¡Œæœ€åçš„å‚æ­»æŒ£æ‰ï¼Œè¿™ä¹Ÿæ˜¯æ…¢æ¯”è¾ƒä½ä¸‹çš„åŸå› ã€‚</li>\n<li>goto æŒ‡ä»¤ï¼š\n<ul>\n<li>JUMP_FORWARDï¼šè·³è½¬åˆ°  <code>if else</code>  è¯­å¥çš„æœ€ç»ˆç»“å°¾</li>\n<li>JUMP_IF_FALSEï¼šè·³è½¬åˆ°å¯¹åº” false çš„é€»è¾‘å¤„</li>\n<li>JUMP_IF_TRUEï¼šè·³è½¬åˆ°å¯¹åº” true çš„é€»è¾‘å¤„</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>for</code>  æ§åˆ¶æµ</p>\n<ul>\n<li>for æ§åˆ¶æµçš„è·³è½¬æ“ä½œå¯ä»¥å‘å‰ä¹Ÿå¯ä»¥å›é€€ã€‚</li>\n<li>åŸç†ï¼šfor è¯­å¥ä¼šæŠŠå…¨éƒ¨å¯¹è±¡é¡ºåºå‹å…¥æ ˆä¸­ï¼Œå¹¶æŠŠå¯¹è±¡çš„è¿­ä»£å™¨è®¾ç½®ä¸ºæ ˆé¡¶ï¼Œç„¶åé€šè¿‡ SET_TOP è·³è½¬åˆ°æ ˆé¡¶ï¼Œæ ¹æ®è¿­ä»£å™¨çš„ tp_iternext æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ï¼Œè¿›è¡Œè¿­ä»£ã€‚</li>\n<li>goto æŒ‡ä»¤ï¼š\n<ul>\n<li>JUMP_ABSOLUTEï¼šå›åˆ° FOR_ITER æŒ‡ä»¤ä½ç½®ï¼Œé‡æ–°å¼€å§‹è¿­ä»£ä¸‹ä¸€ä¸ªå¯¹è±¡</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>switch case</code>  æ§åˆ¶æµ</p>\n<ul>\n<li>æ²¡æœ‰äº†</li>\n</ul>\n</li>\n<li>\n<p><code>while</code>  æ§åˆ¶æµ</p>\n<ul>\n<li>while å’Œ for æ§åˆ¶æµç±»ä¼¼ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>exception</code>  æ§åˆ¶æµ</p>\n<ul>\n<li>å¼‚å¸¸æ§åˆ¶æµä¸»è¦æ˜¯å¤„ç† python ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚ä½•æŠ›å‡ºå’Œæ•è·å¼‚å¸¸çš„æ§åˆ¶æµã€‚</li>\n<li>åŸç†ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæ„å»ºä¸€ä¸ªè°ƒç”¨æ ˆï¼Œå½“æ‰§è¡Œåˆ°æŸä¸ªå‡½æ•°è§¦å‘äº†å¼‚å¸¸ï¼Œç¨‹åºå°†é€šè¿‡  <code>PyEval_ExalFrameEx</code>  å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œå¦‚æœæ²¡æœ‰æ£€æµ‹åˆ° except æ—¶ï¼Œ å‡½æ•°çš„çŠ¶æ€ä¼šä»  <code>WHY_NOT</code>  è½¬å˜ä¸º  <code>WHY_EXCEPTION</code> ï¼Œå¹¶è¿”å› NULLï¼ŒåŒæ—¶è°ƒæ•´æ ˆæŒ‡é’ˆæŒ‡å‘ä¸Šä¸€å±‚ã€‚</li>\n<li>å¼‚å¸¸æ§åˆ¶æµç¨‹å›¾ï¼š</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200927160601568.png\" alt=\"image-20200927160601568\" /></p>\n<ul>\n<li><code>PyEval_ExalFrameEx</code>  å‡½æ•°ä¼ªä»£ç ï¼š</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>PyObject<span class=\"token operator\">*</span> <span class=\"token function\">PyEval_EvalFrameEx</span><span class=\"token punctuation\">(</span>PyFrameObject <span class=\"token operator\">*</span>f<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">// éæ­£å¸¸æ‰§è¡Œ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>why <span class=\"token operator\">!=</span> WHY_NOT <span class=\"token operator\">&amp;&amp;</span> f<span class=\"token operator\">-></span>f_iblock <span class=\"token operator\">></span><span class=\"token number\">0</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            PyTryBlock <span class=\"token operator\">*</span>b <span class=\"token operator\">=</span> <span class=\"token function\">PyFrame_BlockPop</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token comment\">// æœ‰ finally æˆ–è€… except è¯­å¥</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token operator\">-></span>b_type <span class=\"token operator\">==</span> SETUP_FINALLY <span class=\"token operator\">||</span> b<span class=\"token operator\">-></span>b_type <span class=\"token operator\">==</span> SETUP_EXCEPT <span class=\"token operator\">&amp;&amp;</span> why <span class=\"token operator\">==</span> WHY_EXCEPTION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                 <span class=\"token comment\">// å‡ºç°å¼‚å¸¸ï¼Œå…ˆæŠŠå¼‚å¸¸ä¿¡æ¯å–å‡ºæ¥ï¼Œå¦‚æœåç»­æ²¡æœ‰ exceptï¼Œéœ€è¦ä¿ç•™ç°åœºä¿¡æ¯å¹¶è¿”å›ç»™ä¸Šä¸€çº§ã€‚</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>why <span class=\"token operator\">==</span> WHY_EXCEPTION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                    PyObject <span class=\"token operator\">*</span>exc<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>val<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>tb<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                    <span class=\"token function\">PyErr_Fetch</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>exc<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>val<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>tb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                    <span class=\"token function\">PUSH</span><span class=\"token punctuation\">(</span>tb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                    <span class=\"token function\">PUSH</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                    <span class=\"token function\">PUSH</span><span class=\"token punctuation\">(</span>exc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token comment\">// è®¾ç½®ä¸ºæ­£å¸¸è¿è½¬ï¼Œå¹¶è°ƒç”¨ except æˆ– finally</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token comment\">//except æ‰§è¡Œåä¼šç»§ç»­åœ¨å½“å‰æ ˆå¸§è¿è¡Œï¼ˆå¼‚å¸¸è¢«è§£å†³ï¼‰</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                <span class=\"token comment\">// æ—  except çš„æƒ…å†µä¸‹ï¼Œfinally æ‰§è¡Œåä¼šå±•å¼€åˆ°ä¸Šä¸€å±‚ï¼ˆå¼‚å¸¸æœªè¢«è§£å†³ï¼‰</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                why <span class=\"token operator\">=</span> WHY_NOT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token function\">JUMPTO</span><span class=\"token punctuation\">(</span>b<span class=\"token operator\">-></span>b_handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>why <span class=\"token operator\">!=</span> WHY_NOT<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ä¸å­˜åœ¨å¼‚å¸¸å¤„ç†ï¼Œå±•å¼€å †æ ˆï¼ŒæŠ›ç»™ä¸Šä¸€å±‚</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>why <span class=\"token operator\">!=</span> WHY_RETURN<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        retval <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// é€šçŸ¥å‰ä¸€æ ˆå¸§æœ‰å¼‚å¸¸</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>    </pre></td></tr><tr><td data-num=\"39\"></td><td><pre>   <span class=\"token comment\">// è®¾ç½®æ´»åŠ¨æ ˆå¸§ä¸ºå½“å‰æ ˆå¸§çš„ä¸Šä¸€ä¸ªï¼Œå®Œæˆæ ˆå¸§å›é€€</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>   tstate<span class=\"token operator\">-></span>frame <span class=\"token operator\">=</span> f<span class=\"token operator\">-></span>f_back<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>   <span class=\"token keyword\">return</span> retval</pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ç¤ºä¾‹ h () -> g () ->f () -> 1/0</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    g<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">g</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    f<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">/</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>h<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200927145147290.png\" alt=\"image-20200927145147290\" /></p>\n<ul>\n<li><code>try catch</code>  æ§åˆ¶æµ</li>\n</ul>\n<h2 id=\"pythonå‡½æ•°æœºåˆ¶\"><a class=\"anchor\" href=\"#pythonå‡½æ•°æœºåˆ¶\">#</a> python å‡½æ•°æœºåˆ¶</h2>\n<h3 id=\"pyfunctionobject\"><a class=\"anchor\" href=\"#pyfunctionobject\">#</a> PyFunctionObject</h3>\n<p>PyFunctionObject å¯¹è±¡åˆ›å»ºåï¼Œéšä¹‹è€Œæ¥çš„ä¼šåˆ›å»º PyFrameObjectï¼ˆæ ˆå¸§ï¼‰ å¯¹è±¡ï¼Œå¹¶ä¸ºå…¶å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ç”¨äºå­˜æ”¾å‡½æ•°å†…ç”¨åˆ°çš„å„ç§å˜é‡ã€‚PyCodeObject å¯¹è±¡åˆ™æ˜¯ PyFunctionObject å¯¹è±¡çš„é™æ€å½¢å¼ï¼Œä¸ä¿ç•™å‡½æ•°è¿è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œåªå­˜å‚¨åŸºæœ¬çš„ä¿¡æ¯ï¼Œè€Œ PyFunctionObject å¯¹è±¡åˆ™åœ¨ç¨‹åºè¿è¡Œæ—¶äº§ç”Ÿã€‚åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_code<span class=\"token punctuation\">;</span>        <span class=\"token comment\">// å¯¹åº”å‡½æ•°ç¼–è¯‘åçš„ PyCodeObject å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_globals<span class=\"token punctuation\">;</span>     <span class=\"token comment\">// å‡½æ•°è¿è¡Œæ—¶ global åå­—ç©ºé—´</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_defaults<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// é»˜è®¤å‚æ•°ï¼ˆtuple æˆ– NULLï¼‰</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_closure<span class=\"token punctuation\">;</span>     <span class=\"token comment\">// NULL or tuple of cell objects, ç”¨äºå®ç° closureï¼ˆé—­åŒ…ï¼‰</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_doc<span class=\"token punctuation\">;</span>         <span class=\"token comment\">// å‡½æ•°æ–‡æ¡£</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_name<span class=\"token punctuation\">;</span>       <span class=\"token comment\">// å‡½æ•°åç§°ï¼Œå‡½æ•°çš„ __name__å±æ€§</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_dict<span class=\"token punctuation\">;</span>         <span class=\"token comment\">// å‡½æ•°çš„ __dict__ å±æ€§</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_weakreflist<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func_module<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// å‡½æ•°çš„ __module__, å¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span> PyFunctionObject<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>å¿«é€Ÿé€šé“ï¼špython ä¸ºå‡½æ•°çš„æ‰§è¡Œæä¾›äº†ä¸€ä¸ªå¿«é€Ÿé€šé“ï¼Œå¸¸è§„çš„å‡½æ•°  <code>def func(arg1,arg2)</code>  å¯ä»¥é€šè¿‡å¿«é€Ÿé€šé“æ‰§è¡Œï¼Œè€Œ pythonic å½¢å¼çš„å‡½æ•°  <code>def func(*args,**kwargs)</code>  åˆ™æ— æ³•é€šè¿‡å¿«é€Ÿé€šé“æ‰§è¡Œã€‚\n<ul>\n<li>ä¸€èˆ¬ä½ç½®å‚æ•°ï¼šï¼ˆâˆšï¼‰</li>\n<li>å…¶ä»–ï¼šï¼ˆÃ—ï¼‰</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å‡½æ•°å‚æ•°å®ç°\"><a class=\"anchor\" href=\"#å‡½æ•°å‚æ•°å®ç°\">#</a> å‡½æ•°å‚æ•°å®ç°</h3>\n<h4 id=\"å‚æ•°ç±»åˆ«\"><a class=\"anchor\" href=\"#å‚æ•°ç±»åˆ«\">#</a> å‚æ•°ç±»åˆ«</h4>\n<ul>\n<li>ä½ç½®å‚æ•°ï¼š\n<ul>\n<li>ä¸€èˆ¬ä½ç½®å‚æ•°ï¼š <code>def func(arg1,arg2)</code></li>\n<li>é»˜è®¤ä½ç½®å‚æ•°ï¼š <code>def func(arg1=1,arg2=2)</code></li>\n</ul>\n</li>\n<li>é”®å‚æ•°ï¼š <code>func(arg1=1,arg2=2)</code></li>\n<li>æ‰©å±•ä½ç½®å‚æ•°ï¼š <code>func(*args)</code></li>\n<li>æ‰©å±•é”®å‚æ•°ï¼š <code>func(**kwargs)</code></li>\n</ul>\n<h4 id=\"å‚æ•°æ•°é‡\"><a class=\"anchor\" href=\"#å‚æ•°æ•°é‡\">#</a> å‚æ•°æ•°é‡</h4>\n<ul>\n<li>CALL_FUNCTIONï¼šé€šè¿‡ 2 ä¸ªå­—èŠ‚æ ‡è¯†å‚æ•°æ•°é‡ï¼Œé«˜å­—èŠ‚è¡¨ç¤ºé”®å‚æ•°æ•°é‡ï¼Œä½å­—èŠ‚è¡¨ç¤ºä½ç½®å‚æ•°æ•°é‡ã€‚æ‰€ä»¥å‡½æ•°æœ€å¤šå¯ä»¥æœ‰ 256 ä¸ªä½ç½®å‚æ•°å’Œ 256 ä¸ªé”®å‚æ•°ã€‚å€¼å¾—æ³¨æ„ï¼Œè¯¥é—®é¢˜åœ¨ python3.7 ä¹‹åå·²ç»æ²¡æœ‰äº†ã€‚å”¯ä¸€é™åˆ¶æ•°é‡çš„å› ç´ ï¼š\n<ul>\n<li><code>list</code> ï¼Œ <code>tuple</code>  å’Œ  <code>dict</code>  ä»…å—é™äº  <code>sys.maxsize</code></li>\n<li><code>*args</code>  å’Œ  <code>**kwargs</code>  ä»…å—é™äº  <code>sys.maxint</code></li>\n<li><code>*args</code>  å’Œ  <code>**kwargs</code>   éƒ½åªå ç”¨ä¸€ä¸ªå‚æ•°æ•°é‡ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šè¢«å¤„ç†æˆ  <code>PyListObject</code>  å’Œ  <code>PyDictObject</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"å‚æ•°ä½ç½®\"><a class=\"anchor\" href=\"#å‚æ•°ä½ç½®\">#</a> å‚æ•°ä½ç½®</h4>\n<p>å‡½æ•°å‚æ•°å’Œè¿è¡Œæ—¶æ ˆçš„ç©ºé—´ï¼Œåœ¨é€»è¾‘ä¸Šæ˜¯åˆ†ç¦»çš„ï¼Œå‚æ•°ä¼šè¢«å­˜æ”¾åœ¨  <code>f_localsplus</code>  ä¸­ã€‚è€Œ PyFrameObject åˆ™ä¿å­˜äº†  <code>f_localsplus</code>  çš„æ ˆé¡¶æŒ‡é’ˆã€‚</p>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200928174020983.png\" alt=\"image-20200928174020983\" /></p>\n<h4 id=\"æ‰©å±•å‚æ•°\"><a class=\"anchor\" href=\"#æ‰©å±•å‚æ•°\">#</a> æ‰©å±•å‚æ•°</h4>\n<p>æ‰©å±•å‚æ•°ç”³æ˜åï¼Œä¼šæä¾›ä¸€ä¸ªæ ‡è®°ï¼Œç”¨äºå‡½æ•°è¯»å–å‚æ•°æ—¶åŒºåˆ†æ˜¯å¦éœ€è¦å¤„ç†æ‰©å±•å‚æ•°ï¼š</p>\n<ul>\n<li>æ‰©å±•ä½ç½®å‚æ•°ï¼šCO_VARARGS</li>\n<li>æ‰©å±•é”®å‚æ•°ï¼šCO_VARKEYWORDS</li>\n</ul>\n<h3 id=\"å‡½æ•°å†…å˜é‡\"><a class=\"anchor\" href=\"#å‡½æ•°å†…å˜é‡\">#</a> å‡½æ•°å†…å˜é‡</h3>\n<p>å‡½æ•°å†…çš„å˜é‡å’Œå‡½æ•°å‚æ•°ç±»ä¼¼ï¼Œéƒ½æ˜¯å­˜æ”¾åœ¨  <code>f_localsplus</code>   ä¸­è¿è¡Œæ—¶æ ˆå‰é¢çš„ä¸€æ®µå†…å­˜ç©ºé—´ä¸­</p>\n<h3 id=\"åµŒå¥—-é—­åŒ…-è£…é¥°å™¨\"><a class=\"anchor\" href=\"#åµŒå¥—-é—­åŒ…-è£…é¥°å™¨\">#</a> åµŒå¥—ã€é—­åŒ…ã€è£…é¥°å™¨</h3>\n<h4 id=\"åµŒå¥—å‡½æ•°\"><a class=\"anchor\" href=\"#åµŒå¥—å‡½æ•°\">#</a> åµŒå¥—å‡½æ•°</h4>\n<ul>\n<li>co_cellvarsï¼šé€šå¸¸æ˜¯ä¸€ä¸ª tupleï¼Œä¿å­˜åµŒå¥—ä½œç”¨åŸŸä¸­ä½¿ç”¨åˆ°çš„å˜é‡åé›†åˆï¼Œå­˜æ”¾åœ¨  <code>f_localsplus</code>   çš„  <code>å†…åµŒå¯¹è±¡</code>  ä¸­ã€‚</li>\n<li>co_freevarsï¼šé€šå¸¸æ˜¯ä¸€ä¸ª tupleï¼Œä¿å­˜äº†ä½¿ç”¨å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡åé›†åˆï¼Œå­˜æ”¾åœ¨  <code>f_localsplus</code>   çš„  <code>å¤–å¼•å¯¹è±¡</code>  ä¸­ã€‚</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">out</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    i <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">in</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">in</span></pre></td></tr></table></figure><p>è¯¥åµŒå¥—å‡½æ•°ä¸­  <code>out</code>  å‡½æ•°ä¸­çš„  <code>co_cellvars</code>  å†…ä¼šä¿å­˜  <code>i</code>  å˜é‡ï¼ŒåŒç†  <code>in</code>  å‡½æ•°ä¸­çš„  <code>co_freevars</code>  å†…ä¹Ÿä¼šä¿å­˜  <code>i</code>  å˜é‡ã€‚</p>\n<h4 id=\"é—­åŒ…closure\"><a class=\"anchor\" href=\"#é—­åŒ…closure\">#</a> é—­åŒ…ï¼ˆclosureï¼‰</h4>\n<p>å½“å†…å±‚å‡½æ•°ä½¿ç”¨å¤–å±‚å‡½æ•°çš„å˜é‡çš„è¿™ç§å½¢å¼è¢«ç§°ä¹‹ä¸ºé—­åŒ…ï¼Œé—­åŒ…çš„å®ç°åŸç†å¤§è‡´å¯ä»¥ç†è§£ä¸ºï¼š</p>\n<ul>\n<li>å¤–å±‚å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŠŠè‡ªèº«è¿è¡Œæ ˆä¸­çš„å˜é‡ä»¥  <code>ob_ref</code>  çš„å½¢å¼ç»‘å®šåˆ°  <code>co_cellvars</code>  çš„ tuple å½“ä¸­ã€‚<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200928212157054.png\" alt=\"image-20200928212157054\" /></li>\n<li>åœ¨éœ€è¦å‘å†…å±‚ä¼ é€’æ—¶ï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå†…å±‚å‡½æ•°çš„å¯¹è±¡ï¼Œå­˜å‚¨åœ¨å±€éƒ¨å˜é‡ä¸Š inner_funcï¼Œå¹¶æŠŠ  <code>co_cellvars</code>  çš„ tuple é“¾æ¥åˆ°  inner_func å¯¹è±¡çš„ tuple ä¸Šã€‚</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200928212220150.png\" alt=\"image-20200928212220150\" /></p>\n<ul>\n<li>æœ€ç»ˆï¼Œåœ¨ inner_func å¯¹è±¡å†…ï¼Œè§£å¼€ä¼ é€’è¿›æ¥çš„  <code>co_cellvars</code>  çš„ tuple å¹¶é‡æ–°ç»‘å®šåˆ°è‡ªå·±çš„  <code>co_freevars</code>  çš„ tuple ä¸­ï¼Œä¾¿å®Œæˆäº†æ•´ä¸ªé—­åŒ…çš„å‚æ•°ä¼ é€’è¿‡ç¨‹</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200928213023716.png\" alt=\"image-20200928213023716\" /></p>\n<h4 id=\"è£…é¥°å™¨decorator\"><a class=\"anchor\" href=\"#è£…é¥°å™¨decorator\">#</a> è£…é¥°å™¨ï¼ˆdecoratorï¼‰</h4>\n<p>è£…é¥°å™¨æœ¬è´¨ä¸Šå°±æ˜¯é—­åŒ…çš„ä¸€ä¸ªåŒ…è£…æ–¹å¼ï¼ŒåŸç†å’Œ closure ç±»ä¼¼ã€‚</p>\n<h2 id=\"pythonç±»æœºåˆ¶\"><a class=\"anchor\" href=\"#pythonç±»æœºåˆ¶\">#</a> python ç±»æœºåˆ¶</h2>\n<ul>\n<li>\n<p>Python ä¸­ï¼Œä»»ä½•å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª  <code>type</code> ï¼Œå¯ä»¥é€šè¿‡  <code>__class__</code>  å±æ€§è·å¾—ï¼Œä»»ä½•ä¸€ä¸ª  <code>instance</code>  å¯¹è±¡çš„  <code>type</code>  éƒ½æ˜¯ä¸€ä¸ª  <code>class</code>  å¯¹è±¡ã€‚ä»»ä½•ä¸€ä¸ª  <code>class</code>  å¯¹è±¡çš„ type éƒ½æ˜¯ä¸€ä¸ª metaclass å¯¹è±¡ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹  <code>metaclass</code>  å¯¹è±¡é€šå¸¸æ˜¯ <code>&lt;type 'type'&gt;</code> ã€‚</p>\n</li>\n<li>\n<p>Python ä¸­ï¼Œä»»ä½• class å¯¹è±¡éƒ½ç›´æ¥æˆ–é—´æ¥ä¸  <code>&lt;type 'object'&gt;</code>  å­˜åœ¨  <code>is-kind-of</code> ï¼ˆåŸºç±»ä¸å­ç±»ï¼‰ å…³ç³»ï¼ŒåŒ…æ‹¬ <code>&lt;type 'type'&gt;</code> ã€‚</p>\n</li>\n</ul>\n<h3 id=\"ä»-type-å¯¹è±¡åˆ°-class-å¯¹è±¡\"><a class=\"anchor\" href=\"#ä»-type-å¯¹è±¡åˆ°-class-å¯¹è±¡\">#</a> ä» type å¯¹è±¡åˆ° class å¯¹è±¡</h3>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyInt</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__add__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> other<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">.</span>__add__<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> other<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">10</span></pre></td></tr></table></figure><p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201005115151224.png\" alt=\"image-20201005115151224\" /></p>\n<h4 id=\"å¯è°ƒç”¨æ€§callable\"><a class=\"anchor\" href=\"#å¯è°ƒç”¨æ€§callable\">#</a> å¯è°ƒç”¨æ€§ï¼ˆcallable)</h4>\n<p>åªè¦ä¸€ä¸ªå¯¹è±¡å®ç°äº†  <code>__call__</code>  æ“ä½œï¼Œæœ¬è´¨æ˜¯æ˜¯ Python å†…éƒ¨çš„ PyTypeObject ä¸­çš„  <code>tp_call</code>  ä¸ä¸ºç©ºï¼Œé‚£å°±å…¶å°±æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡</p>\n<h4 id=\"step1-å¤„ç†åŸºç±»class__base__å’Œ-type-ä¿¡æ¯\"><a class=\"anchor\" href=\"#step1-å¤„ç†åŸºç±»class__base__å’Œ-type-ä¿¡æ¯\">#</a> Step.1 å¤„ç†åŸºç±» ( <code>class.__base__</code> ) å’Œ Type ä¿¡æ¯</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">PyType_Ready</span><span class=\"token punctuation\">(</span>PyTypObject <span class=\"token operator\">*</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>dict <span class=\"token operator\">*</span>bases<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    PyTypeObject <span class=\"token operator\">*</span>base<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    Py_ssize_t i<span class=\"token punctuation\">,</span>n<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">//ã€Œ1ã€ï¼šå°è¯•è·å¾— type çš„ tp_base ä¸­çš„æŒ‡å®šåŸºç±»ã€‚</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    base <span class=\"token operator\">=</span> type <span class=\"token operator\">-></span>tp_base<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>base <span class=\"token operator\">==</span> <span class=\"token constant\">NULL</span> <span class=\"token operator\">&amp;&amp;</span> type <span class=\"token operator\">!=</span> <span class=\"token operator\">&amp;</span>PyBaseObject_Type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        base <span class=\"token operator\">=</span> type<span class=\"token operator\">-></span>tp_base <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>PyBaseObject_Type<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">//ã€Œ2ã€ï¼šæ²¡æœ‰åˆå§‹åŒ–åŸºç±»çš„è¯ï¼Œåˆå§‹åŒ–åŸºç±»</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>base <span class=\"token operator\">&amp;&amp;</span> base<span class=\"token operator\">-></span>tp_dict <span class=\"token operator\">==</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token function\">PyType_Ready</span><span class=\"token punctuation\">(</span>base<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">//ã€Œ3ã€ï¼šè®¾ç½® type ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>type<span class=\"token operator\">-></span>ob_type <span class=\"token operator\">==</span> <span class=\"token constant\">NULL</span> <span class=\"token operator\">&amp;&amp;</span> base <span class=\"token operator\">!=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        type<span class=\"token operator\">-></span>ob_type <span class=\"token operator\">=</span> base<span class=\"token operator\">-></span>ob_type<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>éƒ¨åˆ†å†…ç½®å‡½æ•°çš„ tp_base ä¿¡æ¯ï¼ŒNULL çš„è¯åˆ™é»˜è®¤ä¸º  <code>&lt;type 'object'&gt;(PyBaseObject_Type)</code></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>class å¯¹è±¡</th>\n<th>åŸºç±»ä¿¡æ¯</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PyType_Type</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>PyInt_Type</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>PyBool_Type</td>\n<td>&amp;PyInt_Type</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"step2-å¤„ç†åŸºç±»åˆ—è¡¨class-__bases__\"><a class=\"anchor\" href=\"#step2-å¤„ç†åŸºç±»åˆ—è¡¨class-__bases__\">#</a> Step.2 å¤„ç†åŸºç±»åˆ—è¡¨ ( <code>class .__bases__</code> )</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">PyType_Ready</span><span class=\"token punctuation\">(</span>PyTypObject <span class=\"token operator\">*</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     <span class=\"token comment\">//ã€Œ4ã€ï¼š å¤„ç†åŸºç±»åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    bases <span class=\"token operator\">=</span> type<span class=\"token operator\">-></span>tp_bases<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>bases <span class=\"token operator\">==</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>base <span class=\"token operator\">==</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            bases <span class=\"token operator\">=</span> <span class=\"token function\">PyTuple_New</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            bases <span class=\"token operator\">=</span> <span class=\"token function\">PyTuple_Pack</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        type<span class=\"token operator\">-></span>tp_bases <span class=\"token operator\">=</span> bases<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"step3-å¡«å……-tp_dictclass-__dict__\"><a class=\"anchor\" href=\"#step3-å¡«å……-tp_dictclass-__dict__\">#</a> Step.3 å¡«å…… tp_dict ( <code>class .__dict__</code> )</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">PyType_Ready</span><span class=\"token punctuation\">(</span>PyTypObject <span class=\"token operator\">*</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     <span class=\"token comment\">//ã€Œ5ã€ï¼š è®¾å®š tp_dict</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    dict <span class=\"token operator\">=</span> type<span class=\"token operator\">-></span>tp_dict<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dict <span class=\"token operator\">==</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        dict <span class=\"token operator\">=</span> <span class=\"token function\">PyDict_New</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        type<span class=\"token operator\">-></span>tp_dict <span class=\"token operator\">=</span> dict<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">//ã€Œ6ã€ï¼š å°†ä¸ type ç›¸å…³çš„ descriptor åŠ å…¥åˆ° tp_dict ä¸­</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token function\">add_operation</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>type<span class=\"token operator\">-></span>tp_methods <span class=\"token operator\">!=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token function\">add_methods</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> type<span class=\"token operator\">-></span>tp_methods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>type<span class=\"token operator\">-></span>tp_members <span class=\"token operator\">!=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token function\">add_members</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> type<span class=\"token operator\">-></span>tp_members<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>type<span class=\"token operator\">-></span>tp_getset <span class=\"token operator\">!=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token function\">add_getset</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> type<span class=\"token operator\">-></span>tp_getset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"step4-å¯¹-slot-æ’åºå¹¶å…³è”åˆ°-descriptor\"><a class=\"anchor\" href=\"#step4-å¯¹-slot-æ’åºå¹¶å…³è”åˆ°-descriptor\">#</a> Step.4 å¯¹ slot æ’åºå¹¶å…³è”åˆ° descriptor</h4>\n<ul>\n<li>\n<p>æ¯ä¸ª  <code>descriptor</code>  å¯¹åº”ä¸ä¸€ä¸ª  <code>slot</code> ã€‚ä¸€ä¸ª  <code>slot</code>  å¯¹åº”ä¸€ä¸ª  <code>func</code> ã€‚è€Œæ¯ä¸ªå‡½æ•°åˆé€šè¿‡å‡½æ•°åå’Œ  <code>descriptor</code>  æŒ‡é’ˆè¢«å…³è”åœ¨  <code>PyTypeObject</code>  å¯¹è±¡ä¸­çš„  <code>tp_dict</code>  å†…ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœå‡ºç°ä¸€ä¸ªå‡½æ•°åå¯¹åº”å¤šä¸ª  <code>slot</code>  çš„æƒ…å†µä¸‹æ—¶ã€‚ <code>slot</code>  æ’åºå¯ä»¥è§£å†³æœ€ç»ˆè°ƒç”¨å“ªä¸ªçš„é—®é¢˜ã€‚æ’åºè§„åˆ™åˆ™æ˜¯æ ¹æ®  <code>offset</code>  å¤§å°æ¥å†³å®šçš„ï¼Œ  <code>offset</code>  å°çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚ ä¾‹å¦‚ä¸¤ä¸ªåŒåå‡½æ•°ï¼Œä¸€ä¸ªåœ¨  <code>PyHeadObject</code>  çš„  <code>PyNumberMethods</code>  ç»“æ„ä¸­ï¼Œå¦ä¸€ä¸ªåˆ™åœ¨  <code>PyMappingMethods</code>  ä¸­ï¼Œé‚£ä¹ˆ  <code>PyNumberMethods</code>  ä¸­çš„å°†è¢«è°ƒç”¨ã€‚</p>\n</li>\n<li>\n<p>è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šå…ˆåœ¨  <code>PyTypeObject</code>  çš„  <code>tp_dict</code>  å†…è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ ¹æ®å‡½æ•°åæ‰¾åˆ°å¯¹åº”çš„  <code>descriptor</code>  ï¼Œå¹¶è°ƒç”¨  <code>descriptor</code>  çš„  <code>wrapperdescr_call</code>  è°ƒç”¨  <code>slot</code>   æ‰€å…³è”çš„  <code>func</code></p>\n</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201005144210081.png\" alt=\"image-20201005144210081\" /></p>\n<blockquote>\n<p>slot ç»“æ„</p>\n</blockquote>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">slotdef</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>name<span class=\"token punctuation\">;</span> <span class=\"token comment\">// å‡½æ•°åç§°</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> offset<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç›¸å¯¹äº PyHeadObject çš„åç§»é‡</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token operator\">*</span>function<span class=\"token punctuation\">;</span> <span class=\"token comment\">//slot çš„ function</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    wrapperfunc wrapper<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>doc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">int</span> flags<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>name_strobj<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>descriptor  ç»“æ„</p>\n</blockquote>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyWrapperDescrObject</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    PyObject_HEAD</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    PyTypeObject <span class=\"token operator\">*</span>d_type<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>d_name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">slotdef</span> <span class=\"token operator\">*</span>d_base<span class=\"token punctuation\">;</span> <span class=\"token comment\">//slot å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token operator\">*</span>d_wrapped<span class=\"token punctuation\">;</span> <span class=\"token comment\">// å…³è”çš„å‡½æ•°æŒ‡é’ˆ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>PyHeadTypeObject ç»“æ„</p>\n</blockquote>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyHeadObject</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    PyTypeObject ht_type<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    PyNumberMethods as_number<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    PyMappingMethods as_mapping<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    PySequenceMethods as_sequence<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    PyBufferProcs as_buffer<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>ht_name<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>ht_slots<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"step5-ç¡®å®šmroåˆ—è¡¨\"><a class=\"anchor\" href=\"#step5-ç¡®å®šmroåˆ—è¡¨\">#</a> Step.5 ç¡®å®š mro åˆ—è¡¨</h3>\n<p>mro çš„ C3 è¶…ç±»çº¿æ€§åŒ–ç®—æ³•ï¼š<br />\nç®—æ³•æ€æƒ³ï¼š</p>\n<ul>\n<li>å¯¹è±¡çˆ¶ç±»çš„é›†åˆ  <code>ã€ŒL(è‡ªå·±)ã€</code>  å¯ä»¥è§†ä½œ <code>ã€Œè‡ªå·±ã€</code>  + æ¯ä¸ª <code>ã€ŒL(çˆ¶ç±»)ã€</code>  +  <code>ã€Œçˆ¶ç±»é›†åˆã€</code></li>\n<li>åœ¨å­˜åœ¨å¤šä¸ªçˆ¶ç±»åˆå¹¶çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆæå–å‡ºç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸å…¶ä»–é›†åˆè¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœå…¶åŒæ—¶å‡ºç°åœ¨å…¶ä»–é›†åˆçš„ <code>éç¬¬ä¸€çš„ä½ç½®</code> åˆ™è·³è‡³ä¸‹ä¸€ä¸ªé›†åˆé‡å¤ä¸Šè¿°æ“ä½œã€‚å¦åˆ™åˆ™æŠŠè¯¥å…ƒç´ æ·»åŠ è‡³çˆ¶ç±»åˆ—è¡¨ï¼Œå¹¶ä»å…¶ä½™æ‰€æœ‰é›†åˆä¸­ç§»é™¤ï¼Œå®Œæˆåå†æ¬¡ä»ç¬¬ä¸€ä¸ªé›†åˆæå–ç¬¬ä¸€ä¸ªå…ƒç´ é‡å¤ä¸Šè¿°å†…å®¹ã€‚</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/Image(16).png\" alt=\"773d44c1b5451bd76a106d69574a2fdf.png\" /></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>L<span class=\"token punctuation\">(</span>O<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>L<span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>C<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>L<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>A<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>L<span class=\"token punctuation\">(</span>B<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>B<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>L<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>D<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>L<span class=\"token punctuation\">(</span>E<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>L<span class=\"token punctuation\">(</span>K1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>K1<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token operator\">+</span> L<span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token operator\">+</span> L<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token operator\">+</span> L<span class=\"token punctuation\">(</span>B<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">]</span> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"14\"></td><td><pre> L<span class=\"token punctuation\">(</span>K1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>K1<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>C<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>A<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>B<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">]</span>      </pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>L<span class=\"token punctuation\">(</span>K1<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>K1<span class=\"token punctuation\">,</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>L<span class=\"token punctuation\">(</span>K2<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>K2<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>L<span class=\"token punctuation\">(</span>K3<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>K3<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>E<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>L<span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>Z<span class=\"token punctuation\">]</span> </pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token operator\">+</span>L<span class=\"token punctuation\">(</span>K1<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token operator\">+</span> L<span class=\"token punctuation\">(</span>K3<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token operator\">+</span> L<span class=\"token punctuation\">(</span>K2<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>K1<span class=\"token punctuation\">,</span>K2<span class=\"token punctuation\">,</span>K3<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>L<span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span>  <span class=\"token punctuation\">[</span>Z<span class=\"token punctuation\">]</span> </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>K1<span class=\"token punctuation\">,</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>K2<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>K3<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>E<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>K1<span class=\"token punctuation\">,</span>K2<span class=\"token punctuation\">,</span>K3<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>L<span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span>  <span class=\"token punctuation\">[</span>Z<span class=\"token punctuation\">,</span>K1<span class=\"token punctuation\">,</span>K2<span class=\"token punctuation\">,</span>K3<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>E<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre> L<span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span>  <span class=\"token punctuation\">[</span>Z<span class=\"token punctuation\">,</span>K1<span class=\"token punctuation\">,</span>K2<span class=\"token punctuation\">,</span>K3<span class=\"token punctuation\">,</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>E<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>O<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>O<span class=\"token punctuation\">]</span>       </pre></td></tr><tr><td data-num=\"42\"></td><td><pre> L<span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span>  <span class=\"token punctuation\">[</span>Z<span class=\"token punctuation\">,</span>K1<span class=\"token punctuation\">,</span>K2<span class=\"token punctuation\">,</span>K3<span class=\"token punctuation\">,</span>C<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">,</span>D<span class=\"token punctuation\">,</span>E<span class=\"token punctuation\">,</span>O<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h4 id=\"step6-ç»§æ‰¿åŸºç±»æ“ä½œ\"><a class=\"anchor\" href=\"#step6-ç»§æ‰¿åŸºç±»æ“ä½œ\">#</a> Step.6 ç»§æ‰¿åŸºç±»æ“ä½œ</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">PyType_Ready</span><span class=\"token punctuation\">(</span>PyTypObject <span class=\"token operator\">*</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//ã€Œ7ã€ï¼š æ‹·è´åŸºç±»æ“ä½œåˆ°å­ç±»</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    bases <span class=\"token operator\">=</span> type<span class=\"token operator\">-></span>tp_mro<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    n <span class=\"token operator\">=</span> <span class=\"token function\">PyTuple_GET_SIZE</span><span class=\"token punctuation\">(</span>bases<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        PyObject <span class=\"token operator\">*</span>b <span class=\"token operator\">=</span><span class=\"token function\">PyTuple_GET_ITEM</span><span class=\"token punctuation\">(</span>bases<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token function\">inherit_slots</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>PyTypeObject <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ‹·è´</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"step7-å¡«å……å­ç±»åˆ—è¡¨class__subclasses__\"><a class=\"anchor\" href=\"#step7-å¡«å……å­ç±»åˆ—è¡¨class__subclasses__\">#</a> Step.7 å¡«å……å­ç±»åˆ—è¡¨ï¼ˆ <code>class.__subclasses__()</code> ï¼‰</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">PyType_Ready</span><span class=\"token punctuation\">(</span>PyTypObject <span class=\"token operator\">*</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//ã€Œ8ã€ï¼š å¡«å……å­ç±»åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    bases <span class=\"token operator\">=</span> type<span class=\"token operator\">-></span>tp_mro<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    n <span class=\"token operator\">=</span> <span class=\"token function\">PyTuple_GET_SIZE</span><span class=\"token punctuation\">(</span>bases<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        PyObject <span class=\"token operator\">*</span>b <span class=\"token operator\">=</span><span class=\"token function\">PyTuple_GET_ITEM</span><span class=\"token punctuation\">(</span>bases<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token function\">add_subclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>PyTypeObject <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>b<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¡«å……</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"è‡ªå®šä¹‰-class\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰-class\">#</a> è‡ªå®šä¹‰ class</h3>\n<ul>\n<li>\n<p>åˆ›å»º class å¯¹è±¡</p>\n<ul>\n<li>è·å–åŠ¨æ€å…ƒä¿¡æ¯ â€”â€”class çš„åŠ¨æ€å±æ€§ï¼ˆå±æ€§ï¼Œå‡½æ•°ï¼‰</li>\n<li>è·å–é™æ€å…ƒä¿¡æ¯ â€”â€”class çš„ç±»å‹ï¼Œç©ºé—´å¤§å°ï¼ˆé€šè¿‡æŸ¥çœ‹  <code>_metaclass__</code>  å±æ€§æ¥è·å–é™æ€å…ƒä¿¡æ¯ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯è·å–  <code>&lt;type 'type'&gt;</code>  çš„é™æ€å…ƒä¿¡æ¯ï¼‰<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201005153723438.png\" alt=\"image-20201005153723438\" /></li>\n<li>ç”¨æˆ·è‡ªå®šä¹‰ class å¯¹è±¡å’Œå†…ç½® class å¯¹è±¡çš„åŒºåˆ«åœ¨äºï¼š\n<ul>\n<li>ç”¨æˆ·è‡ªå®šä¹‰å¯¹è±¡çš„å†…å­˜æ’åˆ—æ˜¯<strong>è¿ç»­</strong>çš„</li>\n<li>å†…ç½® class å¯¹è±¡çš„å†…å­˜æ’åˆ—æ˜¯<strong>åˆ†æ•£</strong>çš„<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201005154812793.png\" alt=\"image-20201005154812793\" /></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>åˆ›å»º class å¯¹è±¡çš„ instance</p>\n<ul>\n<li><code>instance = class.__new__(class, args, kwds)</code></li>\n<li><code>class.__init__(instance, args, kwds)</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"descriptorä»‹ç»\"><a class=\"anchor\" href=\"#descriptorä»‹ç»\">#</a> descriptor ä»‹ç»</h4>\n<p><code>descriptor</code>  åƒæ˜¯ä¸€ä¸ªè¿æ¥å±æ€§åç§°å’Œå±æ€§å€¼çš„ä¸€ä¸ªæ¥å£ã€‚æä¾›ä¸€å¥—è®¿é—®å±æ€§çš„æ–¹æ³•ã€‚å¤–éƒ¨é€šè¿‡  <code>descriptor</code>  æ¥å¯¹å±æ€§è¿›è¡Œè®¿é—®ã€‚</p>\n<ul>\n<li>å®ç°äº†  <code>__get__</code> ã€ <code>__set__</code> ã€ <code>__delete__</code>  å‡½æ•°çš„ obj è¢«ç§°ä¹‹ä¸º  <code>descriptor</code></li>\n<li><code>descriptor</code>  å½±å“ç€  <code>class</code>  å’Œ  <code>instance</code>  å¯¹äºå±æ€§çš„è·å–è§„åˆ™\n<ul>\n<li>æœ‰  <code>__get__</code>  å’Œ  <code>__set__</code>  çš„è¢«ç§°ä¸º  <code>data descriptor</code></li>\n<li>æœ‰  <code>__get__</code>  æ—   <code>__set__</code>  çš„è¢«ç§°ä¸º  <code>no data descriptor</code></li>\n</ul>\n</li>\n<li>å±æ€§é€‰æ‹©çš„è§„åˆ™ï¼š\n<ul>\n<li>å…ˆ  <code>instance</code>  çš„å±æ€§ï¼Œå  <code>class</code>  çš„å±æ€§ã€‚</li>\n<li>å¦‚æœ  <code>instance</code>  å’Œ  <code>class</code>  ä¸­æœ‰åŒåå±æ€§ï¼Œä¸”  <code>class</code>  çš„å±æ€§æ˜¯  <code>data descriptor</code>  ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©ä½¿ç”¨  <code>class</code>  çš„å±æ€§ã€‚</li>\n<li>å½“è·å–åˆ°çš„å±æ€§æ˜¯ä¸€ä¸ª  <code>descriptor</code>  çš„æ—¶å€™ï¼Œå¦‚æœå…¶å­˜åœ¨äº  <code>class</code>   çš„  <code>tp_dict</code>  ä¸­ä¼šè°ƒç”¨å…¶  <code>__get__</code>  å‡½æ•°è·å–å¯¹åº”çš„å±æ€§å€¼ï¼Œå¦‚æœå…¶å­˜åœ¨äº  <code>instance</code>  çš„  <code>tp_dict</code>  ä¸­åˆ™ä¸ä¼šè°ƒç”¨å…¶  <code>__get__</code>  å±æ€§ã€‚</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"bound-method-å’Œ-unbound-method\"><a class=\"anchor\" href=\"#bound-method-å’Œ-unbound-method\">#</a> Bound Method å’Œ Unbound Method</h4>\n<p>ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«æ˜¯ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨æ˜¯å¦æœ‰é»˜è®¤å‚æ•° selfã€‚å¦‚æœæœ‰ï¼Œåˆ™åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œè™šæ‹Ÿæœºä¼šè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡å‡½æ•°ç»‘å®šï¼ŒæŠŠ instance å’Œ self è¿›è¡Œå…³è”ã€‚å¦åˆ™ï¼Œéœ€è¦ç¨‹åºè‡ªå·±æ‰‹åŠ¨ä¼ å‚ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>a <span class=\"token operator\">=</span> A<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>a<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># è‡ªåŠ¨ç»‘å®š</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>A<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># æ‰‹åŠ¨ä¼ å‚</span></pre></td></tr></table></figure><blockquote>\n<p>å‡å°‘å‡½æ•°ç»‘å®šçš„æ¬¡æ•°å¯ä»¥æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</p>\n</blockquote>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>func <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>test <span class=\"token comment\">#ç»‘å®š 1 æ¬¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    func<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    a<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">#ç»‘å®š 1000 æ¬¡</span></pre></td></tr></table></figure><h2 id=\"pythonè¿è¡Œç¯å¢ƒåˆå§‹åŒ–\"><a class=\"anchor\" href=\"#pythonè¿è¡Œç¯å¢ƒåˆå§‹åŒ–\">#</a> python è¿è¡Œç¯å¢ƒåˆå§‹åŒ–</h2>\n<h3 id=\"åˆå§‹åŒ–çº¿ç¨‹ç¯å¢ƒ\"><a class=\"anchor\" href=\"#åˆå§‹åŒ–çº¿ç¨‹ç¯å¢ƒ\">#</a> åˆå§‹åŒ–çº¿ç¨‹ç¯å¢ƒ</h3>\n<ul>\n<li>åˆå§‹åŒ– python å¤šè¿›ç¨‹</li>\n<li>åˆå§‹åŒ– python å¤šçº¿ç¨‹</li>\n</ul>\n<h4 id=\"è¿›ç¨‹ç»“æ„\"><a class=\"anchor\" href=\"#è¿›ç¨‹ç»“æ„\">#</a> è¿›ç¨‹ç»“æ„ï¼š</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// è¿›ç¨‹å¯¹è±¡ç»“æ„</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PyInterpreterState</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_is</span> <span class=\"token operator\">*</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_ts</span> <span class=\"token operator\">*</span>tstate_head<span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ¨¡æ‹Ÿçº¿ç¨‹é›†åˆ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>modules<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    PyObject <span class=\"token operator\">*</span> sysdict<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>builtins<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"çº¿ç¨‹ç»“æ„\"><a class=\"anchor\" href=\"#çº¿ç¨‹ç»“æ„\">#</a> çº¿ç¨‹ç»“æ„ï¼š</h4>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// çº¿ç¨‹å¯¹è±¡ç»“æ„</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">PythreadState</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_ts</span> <span class=\"token operator\">*</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    PyInterpreterState <span class=\"token operator\">*</span>interp<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_frame</span> <span class=\"token operator\">*</span>frame<span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ¨¡æ‹Ÿå‡½æ•°è°ƒç”¨æ ˆ</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">int</span> recursion_depth<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>dict<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">long</span> thread_id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201007145711667.png\" alt=\"image-20201007145711667\" title=\"Python è¿è¡Œæ—¶æ•´ä½“ç¯å¢ƒ\" /></p>\n<h3 id=\"åŠ è½½ç³»ç»Ÿmodule\"><a class=\"anchor\" href=\"#åŠ è½½ç³»ç»Ÿmodule\">#</a> åŠ è½½ç³»ç»Ÿ module</h3>\n<h4 id=\"åˆ›å»º__builtin__-module\"><a class=\"anchor\" href=\"#åˆ›å»º__builtin__-module\">#</a> åˆ›å»º <code>__builtin__</code>  module</h4>\n<p>ä¸€ä¸ªè¿›ç¨‹å†…çš„å…¨éƒ¨çº¿ç¨‹å…±äº«ä¸€ä¸ª  <code>&lt;module __builtin__&gt;</code></p>\n<ul>\n<li>åˆ›å»º module å¯¹è±¡</li>\n<li>è®¾ç½® module å¯¹è±¡</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201007151250252.png\" alt=\"image-20201007151250252\" title=\"åˆå§‹åŒ–å®Œæˆçš„ __builtin__ module\" /></p>\n<h4 id=\"åˆ›å»º-sys-module\"><a class=\"anchor\" href=\"#åˆ›å»º-sys-module\">#</a> åˆ›å»º sys module</h4>\n<ul>\n<li>åˆ›å»º sys module å¹¶å¤‡ä»½</li>\n<li>è®¾ç½® moduel æœç´¢è·¯å¾„</li>\n<li>åˆ›å»º  <code>__main__</code>  module</li>\n<li>è®¾ç½® site-specific çš„ module æœç´¢è·¯å¾„ï¼ˆç¬¬ä¸‰æ–¹åº“ï¼‰\n<ul>\n<li>æ ¸å¿ƒå®ç°åœ¨ <span class=\"exturl\" data-url=\"aHR0cDovL3NpdGUucHk=\">site.py</span> ä¸­ï¼š\n<ul>\n<li>site ä¼šå°† site-packages åŠ å…¥åˆ° sys.path</li>\n<li>æŠŠ site-packages ä¸‹çš„æ‰€æœ‰ .pth æ–‡ä»¶åŠ å…¥åˆ° sys.path ä¸­</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201007154617538.png\" alt=\"image-20201007154617538\" title=\"å®Œæˆåˆå§‹åŒ–åçš„ç¯å¢ƒ\" /></p>\n<blockquote>\n<p>extensions ç”¨äºç¼“å­˜æ¨¡å—ï¼Œå†æ¬¡åŠ è½½çš„æ—¶å€™å¯ä»¥æé«˜æ•ˆç‡ã€‚</p>\n</blockquote>\n<h3 id=\"æ¿€æ´»è™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#æ¿€æ´»è™šæ‹Ÿæœº\">#</a> æ¿€æ´»è™šæ‹Ÿæœº</h3>\n<h4 id=\"äº¤äº’å¼è¿è¡Œæ–¹å¼\"><a class=\"anchor\" href=\"#äº¤äº’å¼è¿è¡Œæ–¹å¼\">#</a> äº¤äº’å¼è¿è¡Œæ–¹å¼</h4>\n<ul>\n<li>æŠŠç”¨æˆ·è¾“å…¥æ„é€ æˆ python çš„ AST è¯­æ³•æ ‘</li>\n<li>æ‰§è¡Œ run_mode è¿è¡Œè¯­æ³•æ ‘</li>\n</ul>\n<h4 id=\"è„šæœ¬æ–‡ä»¶è¿è¡Œæ–¹å¼\"><a class=\"anchor\" href=\"#è„šæœ¬æ–‡ä»¶è¿è¡Œæ–¹å¼\">#</a> è„šæœ¬æ–‡ä»¶è¿è¡Œæ–¹å¼</h4>\n<ul>\n<li>ç¼–è¯‘è„šæœ¬æ–‡ä»¶</li>\n<li>æ‰§è¡Œ run_mode è¿è¡Œç¼–è¯‘åçš„è„šæœ¬æ–‡ä»¶</li>\n</ul>\n<h4 id=\"å¯åŠ¨è™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#å¯åŠ¨è™šæ‹Ÿæœº\">#</a> å¯åŠ¨è™šæ‹Ÿæœº</h4>\n<ul>\n<li>run_mode å†…ä¼šå¯åŠ¨ Python å­—èŠ‚ç è™šæ‹Ÿæœºã€‚ä¹‹åå¾ªç¯å¾€å¤çš„æ‰§è¡Œå­—èŠ‚ç ã€‚</li>\n</ul>\n<h4 id=\"åå­—ç©ºé—´\"><a class=\"anchor\" href=\"#åå­—ç©ºé—´\">#</a> åå­—ç©ºé—´</h4>\n<ul>\n<li>localã€globalã€bulitin çš„è®¾ç½®ã€‚</li>\n<li>äº¤äº’ç¯å¢ƒä¸‹ local åå­—ç©ºé—´å†…ä¸ä¼šæœ‰  <code>__file__</code>  å±æ€§</li>\n<li>Python æ‰€æœ‰çš„çº¿ç¨‹éƒ½å…±äº«åŒæ ·çš„ builtin åå­—ç©ºé—´</li>\n</ul>\n<h2 id=\"pythonæ¨¡å—åŠ¨æ€åŠ è½½æœºåˆ¶\"><a class=\"anchor\" href=\"#pythonæ¨¡å—åŠ¨æ€åŠ è½½æœºåˆ¶\">#</a> python æ¨¡å—åŠ¨æ€åŠ è½½æœºåˆ¶</h2>\n<h3 id=\"import-æœºåˆ¶\"><a class=\"anchor\" href=\"#import-æœºåˆ¶\">#</a> import æœºåˆ¶</h3>\n<ul>\n<li><code>import module/package</code>  ï¼š <code> import</code>   æ“ä½œä¼šå…ˆåœ¨å…¨å±€æ¨¡å—æ± ï¼ˆ <code> sys.module</code>  ï¼‰ä¸­æœç´¢  <code> module</code>   æˆ–  <code> package</code>  ã€‚å¦‚æœä»¥åŠå­˜åœ¨ï¼Œåˆ™ç›´æ¥åŠ å…¥å½“å‰  <code> module</code>    çš„  <code> local</code>   åå­—ç©ºé—´ï¼Œå¦åˆ™å°±æ·»åŠ åˆ°  <code> sys.module</code>   å’Œ  <code> local</code>   ã€‚</li>\n<li><code> import package.module</code>  ï¼šå’Œ  <code>import module/package</code>   ç±»ä¼¼ï¼Œä¸è¿‡ä¼šé¢å¤–æŠŠ  <code> package</code>   åŠ å…¥åˆ°  <code> sys.module</code>   ä¸­ã€‚ä½†ä¸ä¼šåŠ å…¥  <code> local</code>   åå­—ç©ºé—´ã€‚</li>\n<li><code> import package.module as xx</code>  ï¼šå’Œ  <code> import package.module</code>   ç±»ä¼¼ã€‚è¿™é‡Œä¼šå¯¹  <code> package.module</code>   åœ¨  <code> local</code>   åå­—ç©ºé—´åšä¸€ä¸ªæ˜ å°„ï¼Œå®é™…çš„  <code> sys.module</code>   ä¸­å¼•å…¥çš„è¿˜æ˜¯  <code> package.module</code>  ã€‚ä½†æ˜¯åœ¨  <code> local</code>   ä¸­å…¶è¡¨ç¤ºä¸º  <code> xx</code>  ã€‚</li>\n<li><code> from package.module import xx</code>  ï¼šå’Œ  <code> import package.module as xx</code>  ç±»ä¼¼ã€‚ä¼šåœ¨  <code> sys.module</code>   å¼•å…¥  <code> package</code>   å’Œ  <code> package.module</code>  ï¼ŒåŒæ—¶åœ¨  <code> local</code>   å¼•å…¥  <code> xx</code>  ã€‚</li>\n<li>åµŒå¥—çš„  <code> import</code>   ï¼šä¸€ä¸ªæ¨¡å— import å¦ä¸€ä¸ªæ¨¡å—çš„æƒ…å†µä¸‹ã€‚æ¯ä¸ªæ¨¡å—çš„ import éƒ½ä¼šå½±å“  <code> sys.module</code>   å’Œè‡ªèº«çš„  <code> local</code>   åå­—ç©ºé—´ã€‚ä½†ä¸ä¼šå½±å“å…¶ä»–æ¨¡å—çš„  <code> local</code>  ã€‚</li>\n</ul>\n<h3 id=\"æ¨¡å—é”€æ¯ä¸é‡è½½\"><a class=\"anchor\" href=\"#æ¨¡å—é”€æ¯ä¸é‡è½½\">#</a> æ¨¡å—é”€æ¯ä¸é‡è½½</h3>\n<h4 id=\"é”€æ¯\"><a class=\"anchor\" href=\"#é”€æ¯\">#</a> é”€æ¯</h4>\n<p>Python æä¾›äº†  <code> del module/package</code>   æ“ä½œç”¨äºé”€æ¯æ¨¡å—ã€‚ä½†æ˜¯é”€æ¯çš„åªæ˜¯å½“å‰  <code> local</code>   åå­—ç©ºé—´å†…çš„ï¼Œ <code> sys.module</code>   ä¸­ä¾æ—§ä¿å­˜äº†å…¶ç¼“å­˜ã€‚æ‰€ä»¥å•çº¯çš„  <code> del module</code>  ï¼Œå†  <code> import module</code>   å¹¶ä¸èƒ½å®ç°çƒ­æ›´æ–°ã€‚</p>\n<h4 id=\"é‡è½½\"><a class=\"anchor\" href=\"#é‡è½½\">#</a> é‡è½½</h4>\n<p>Python æä¾›äº†  <code> reload module</code>   æ“ä½œç”¨äºé‡è½½æ¨¡å—ã€‚   <code>reload</code>   æ“ä½œå¯ä»¥æ›´æ–°   <code>sys.module</code>   ä¸­çš„æ¨¡å—ä¿¡æ¯ï¼ŒæŠŠä¸€äº›æ–°å¢å’Œä¿®æ”¹çš„å†…å®¹åŠ å…¥åˆ°  <code>module</code>   ä¸­ï¼Œä½†æ˜¯å¯¹äºéœ€è¦åˆ é™¤çš„å†…å®¹ï¼Œåˆ™æ— èƒ½ä¸ºåŠ›ï¼Œä¾æ—§ä¼šç¼“å­˜åœ¨  <code>module</code>   å†…ã€‚</p>\n<h3 id=\"import-å®ç°æœºåˆ¶\"><a class=\"anchor\" href=\"#import-å®ç°æœºåˆ¶\">#</a> import å®ç°æœºåˆ¶</h3>\n<p>import çš„å®ç°æ ¸å¿ƒæ˜¯ä¾é å…¶   <code>builtin</code>   æ¨¡å—å†…çš„   <code>__import__</code>   æ“ä½œã€‚å³ï¼š  <code>builtin__import__</code>   å‡½æ•°ã€‚</p>\n<ul>\n<li>è°ƒç”¨  <code>builtin__import__</code>   å‡½æ•°ï¼Œè§£æä¼ é€’è¿›æ¥çš„å‚æ•°ã€‚</li>\n<li>ä¸Šé”ã€‚é¿å…ä¸åŒçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ª    <code>module  </code>  ã€‚</li>\n<li>è§£æ    <code>module/package  </code>  æ ‘çŠ¶ç»“æ„ã€‚\n<ul>\n<li>Python çš„æ‰€æœ‰æœç´¢æ“ä½œï¼ˆ   <code>import xxx/from xxx import xxx  </code> ï¼‰éƒ½æ˜¯åŸºäºæŸä¸€ä¸ª   <code>package  </code>  æ¥çš„ã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰æŸ¥æ‰¾çš„æ ¹ç›®å½•ï¼ˆ <code>__main__</code> ) éƒ½æ˜¯ä¸€è‡´çš„ã€‚å³ï¼šæŸä¸ª   <code>package  </code>  çš„è·¯å¾„ã€‚</li>\n<li>Python çš„æœç´¢æ“ä½œæ˜¯ä¸èƒ½æœç´¢æ ¹ç›®å½•ä¹‹ä¸Šçš„æ¨¡å—ï¼Œä¾‹å¦‚ï¼š</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å¦‚æœæ˜¯åŸºäº Packageâ€”â€”Aï¼Œé‚£ä¹ˆå¯ä»¥è®¿é—®åˆ°æ‰€æœ‰æ¨¡å—ã€‚æ ¹è·¯å¾„:/A = __main__.path</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å¦‚æœæ˜¯åŸºäº Packageâ€”â€”Bï¼Œé‚£ä¹ˆæ— æ³•è®¿é—® C æ¨¡å—å’Œ A æ¨¡å—ä¸‹çš„å†…å®¹ã€‚æ ¹è·¯å¾„:/A/B = __main__.path</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å¦‚æœæ˜¯åŸºäº Packageâ€”â€”Cï¼Œé‚£ä¹ˆæ— æ³•è®¿é—® B æ¨¡å—å’Œ A æ¨¡å—ä¸‹çš„å†…å®¹ã€‚æ ¹è·¯å¾„:/A/C = __main__.path</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>A</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">|</span>â€”â€”__init__<span class=\"token punctuation\">.</span>py</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">|</span>â€”â€”B</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>â€”â€”__init__<span class=\"token punctuation\">.</span>py</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>â€”â€”test1<span class=\"token punctuation\">.</span>py</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>â€”â€”test2<span class=\"token punctuation\">.</span>py</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">|</span>â€”â€”C</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>â€”â€”__init__<span class=\"token punctuation\">.</span>py</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>â€”â€”test3<span class=\"token punctuation\">.</span>py</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>â€”â€”test4<span class=\"token punctuation\">.</span>py</pre></td></tr></table></figure><ul>\n<li>åŠ è½½ <code>module/package</code>\n<ul>\n<li>\n<p>å…ˆåœ¨  <code>sys.module</code>  ä¸­æœç´¢æ˜¯å¦ä¾æ—§æœ‰åŠ è½½è¿‡è¯¥æ¨¡å—ç•™ä¸‹çš„ç¼“å­˜äº†ã€‚</p>\n</li>\n<li>\n<p>å°è¯•åŠ è½½  <code>source module</code> ã€‚å¦‚æœæ²¡æœ‰åˆ™å¯¹  <code>.py</code>  æ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆæ‰€éœ€çš„  <code>PyCodeObject</code> ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœéœ€è¦åŠ è½½å†…å»º moduleã€‚åˆ™ä¼šå…ˆå»å†…å»º module å¤‡ä»½åˆ—è¡¨ä¸­ç¡®è®¤æ˜¯å¦ä»¥åŠåŠ è½½è¿‡äº†ã€‚å†æ‰§è¡ŒåŠ è½½æ“ä½œã€‚</p>\n</li>\n<li>\n<p>åŠ è½½ C æ‰©å±•çš„ moduleã€‚</p>\n<ul>\n<li>windowï¼šdll æ–‡ä»¶</li>\n<li>linuxï¼šso æ–‡ä»¶</li>\n<li>ä¸è®ºå“ªç§å¹³å°ï¼Œéƒ½éœ€è¦éµå¾ª Python æ‰§è¡Œçš„ä¸€å¥—å¯¼å…¥è§„åˆ™ï¼Œæ ¼å¼å¤§è‡´å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ç”³æ˜ä¸€ä¸ª PyMethodObject å¯¹è±¡æ‰€éœ€çš„å‚æ•°ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">static</span> PyMethodDef test_methods<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> Hello<span class=\"token punctuation\">,</span> METH_VARARGS<span class=\"token punctuation\">,</span> <span class=\"token string\">\"say hello\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// å¯¹åº”ä¸‹æ–¹å›¾ç‰‡å†…çº¢æ¡†å†…å®¹</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// å‘ŠçŸ¥ Python åˆå§‹åŒ–æ¨¡å—ï¼šæ¨¡å—å æ¨¡å—ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>EXPORT <span class=\"token keyword\">int</span> <span class=\"token function\">initest</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token function\">Py_InitModule</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span> test_methods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ç»†å¿ƒçš„åŒå­¦å¯ä»¥å‘ç°ï¼Œè¿™å’Œå†…å»ºæ¨¡å—çš„å¯¼å…¥è§„åˆ™å‡ ä¹ä¸€è‡´</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201007210412440.png\" alt=\"image-20201007210412440\" title=\"å®Œæˆåˆå§‹åŒ–åçš„ç¯å¢ƒ\" /></p>\n<ul>\n<li><code>from xxx import m,n</code> ï¼šè¯¥æ“ä½œä¼šåˆ¤æ–­ xxx æ¨¡å—ä¸­æ˜¯å¦å­˜åœ¨ m å’Œ nï¼Œè€Œåˆ¤æ–­çš„ä¾æ®å°±æ˜¯é€šè¿‡  <code>__all__</code>  æ¥å®ç°çš„ã€‚å¦‚æœæ²¡æœ‰ç”³æ˜  <code>__all__</code>  ï¼Œé‚£ä¹ˆåˆ™ä¼šä½¿ç”¨ Python é»˜è®¤çš„  <code>PyObject_GetAttrString</code>  å‡½æ•°æ¥è·å–æ¨¡å—ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚å¦åˆ™ï¼Œåˆ™ä¼šä»¥ <code>__all__</code>  åˆ—è¡¨é‡Œçš„å†…å®¹ä¸ºå‡†ã€‚</li>\n</ul>\n<h3 id=\"legb-è§„åˆ™\"><a class=\"anchor\" href=\"#legb-è§„åˆ™\">#</a> LEGB è§„åˆ™</h3>\n<blockquote>\n<p>Local -&gt; Enclosed -&gt; Global -&gt; Built-in</p>\n</blockquote>\n<ul>\n<li><code>Local </code>  ï¼šå¯èƒ½æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°æˆ–è€…ç±»æ–¹æ³•å†…éƒ¨ã€‚</li>\n<li><code>Enclosed </code>  ï¼š å¯èƒ½æ˜¯åµŒå¥—å‡½æ•°å†…ï¼Œæ¯”å¦‚è¯´ ä¸€ä¸ªå‡½æ•°åŒ…è£¹åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨ã€‚</li>\n<li><code>Global </code>   ï¼šä»£è¡¨çš„æ˜¯æ‰§è¡Œè„šæœ¬è‡ªèº«çš„æœ€é«˜å±‚æ¬¡ã€‚</li>\n<li><code>Built-in </code>   ï¼šæ˜¯ Python ä¸ºè‡ªèº«ä¿ç•™çš„ç‰¹æ®Šåç§°ã€‚</li>\n</ul>\n<h3 id=\"æœ€å†…åµŒä½œç”¨åŸŸ-è§„åˆ™\"><a class=\"anchor\" href=\"#æœ€å†…åµŒä½œç”¨åŸŸ-è§„åˆ™\">#</a> æœ€å†…åµŒä½œç”¨åŸŸ è§„åˆ™</h3>\n<p>ç”±ä¸€ä¸ªèµ‹å€¼è¯­å¥å¼•è¿›çš„åå­—åœ¨è¿™ä¸ªèµ‹å€¼è¯­å¥æ‰€åœ¨çš„ä½œç”¨åŸŸé‡Œæ˜¯å¯è§ï¼ˆèµ·ä½œç”¨ï¼‰çš„ï¼Œè€Œä¸”åœ¨å…¶å†…éƒ¨åµŒå¥—çš„æ¯ä¸ªä½œç”¨åŸŸé‡Œä¹Ÿå¯è§ã€‚</p>\n<blockquote>\n<p>é™¤éå®ƒè¢«åµŒå¥—äºå†…éƒ¨çš„ï¼Œå¼•è¿›åŒæ ·åå­—çš„å¦ä¸€æ¡èµ‹å€¼è¯­å¥æ‰€é®è”½ / è¦†ç›–ã€‚</p>\n</blockquote>\n<ul>\n<li>egï¼š</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>module2<span class=\"token punctuation\">.</span>py<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>a <span class=\"token operator\">=</span> <span class=\"token number\">50</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>module1<span class=\"token punctuation\">.</span>py<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> module2</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>a <span class=\"token operator\">=</span> <span class=\"token number\">100</span> <span class=\"token comment\"># module1 ç”³æ˜çš„ a åœ¨ module2 ä¸­æ˜¯å¯è§çš„</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>module2<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">#æ‰§è¡Œè¿‡ç¨‹ä¸­ module2 é‡Œçš„ a è¦†ç›–äº† global ä½œç”¨åŸŸä¸­ module1 é‡Œçš„ a</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Out<span class=\"token punctuation\">:</span><span class=\"token number\">50</span></pre></td></tr></table></figure><h2 id=\"pythonå¤šçº¿ç¨‹æœºåˆ¶\"><a class=\"anchor\" href=\"#pythonå¤šçº¿ç¨‹æœºåˆ¶\">#</a> python å¤šçº¿ç¨‹æœºåˆ¶</h2>\n<h3 id=\"gilå…¨å±€è§£é‡Šå™¨é”å’Œçº¿ç¨‹è°ƒåº¦\"><a class=\"anchor\" href=\"#gilå…¨å±€è§£é‡Šå™¨é”å’Œçº¿ç¨‹è°ƒåº¦\">#</a> GIL (å…¨å±€è§£é‡Šå™¨é”) å’Œçº¿ç¨‹è°ƒåº¦</h3>\n<p>åœ¨ Python å¤šçº¿ç¨‹ä¸­ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´ä¼šè®¿é—®ä¸€äº›å…±äº«çš„èµ„æºï¼Œä¾‹å¦‚å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å’Œå¯¹è±¡çš„é‡Šæ”¾ã€‚å¦‚æœåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå¯¼è‡´å¯¹è±¡è¢«é‡Šæ”¾ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°å¯¹è±¡é‡Šæ”¾å¤šæ¬¡çš„é—®é¢˜ã€‚è¿™æ—¶  <code>GIL</code>  å°±åº”è¿è€Œç”Ÿäº†ã€‚</p>\n<ul>\n<li><code>GIL</code>  ï¼šæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè§£é‡Šå™¨ï¼Œåªæœ‰å½“çº¿ç¨‹æ‹¥æœ‰è¯¥è§£é‡Šå™¨çš„è®¿é—®æƒé™æ—¶ï¼Œæ‰èƒ½å¤Ÿæ‰§è¡ŒæŒ‡ä»¤ã€‚ <code>GIL</code>  é—´æ¥çš„æŠŠå¤šå¤„ç†å™¨çš„å¤šçº¿ç¨‹æ¨¡å‹è½¬å˜ä¸ºäº†å•å¤„ç†å™¨çš„å¤šçº¿ç¨‹æ¨¡å‹ã€‚è™½ç„¶å…¶çœ‹ä¸Šå»å¯¹äºé”çš„ç²’åº¦è¾ƒå¤§ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­æ•ˆæœå´æ„å¤–çš„å¥½ç”¨ã€‚</li>\n<li>çº¿ç¨‹è°ƒåº¦ï¼š\n<ul>\n<li>ä¸­æ–­æœºåˆ¶ï¼šPython çš„ä¸­æ–­æœºåˆ¶å’Œæ“ä½œç³»ç»Ÿç±»ä¼¼ï¼Œéƒ½æ˜¯æ¨¡æ‹Ÿ <code>æ—¶é’Ÿä¸­æ–­</code> ã€‚ä¼šæ ¹æ®æ‰§è¡Œçš„æŒ‡ä»¤æ•°ç›®æ¥æ§åˆ¶çº¿ç¨‹ä¸­æ–­ï¼Œåœ¨ Python 2.5 ä¸­ï¼Œé»˜è®¤æ‰§è¡Œ 100 æ¡æŒ‡ä»¤åï¼Œä¼šè§¦å‘çº¿ç¨‹çš„ä¸­æ–­ï¼Œåˆ‡æ¢åˆ°å…¶ä»–çº¿ç¨‹ã€‚</li>\n<li>å”¤é†’æœºåˆ¶ï¼šå¯¹äºéœ€è¦å”¤é†’å“ªä¸ªçº¿ç¨‹ï¼ŒPython å±‚é¢æ²¡æœ‰è¿‡å¤šçš„å¹²æ¶‰ï¼Œè€Œæ˜¯æŠŠè¯¥ä»»åŠ¡äº¤ç»™äº†æ“ä½œç³»ç»Ÿã€‚</li>\n<li>Python æä¾›çš„ä¸¤ä¸ªå¤šçº¿ç¨‹å·¥å…·ï¼š\n<ul>\n<li>threadï¼šC å®ç°çš„ builtin moduleã€‚</li>\n<li>threadingï¼šPython å®ç°çš„æ ‡å‡†åº“ moduleã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"pythonçº¿ç¨‹çš„åˆ›å»º\"><a class=\"anchor\" href=\"#pythonçº¿ç¨‹çš„åˆ›å»º\">#</a> Python çº¿ç¨‹çš„åˆ›å»º</h3>\n<p>Python è™šæ‹Ÿæœºé»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸æ”¯æŒå¤šçº¿ç¨‹çš„ï¼Œå³ï¼šç”¨æˆ·å¦‚æœæ²¡æœ‰æ‰‹åŠ¨è°ƒç”¨  <code>thread.start_new_thread</code>  æ¥å£ï¼ŒPython åˆ™ä¸ä¼šåˆ›å»ºå¤šçº¿ç¨‹ç›¸å…³çš„å¯¹è±¡ï¼Œä¹Ÿä¸ä¼šè§¦å‘çº¿ç¨‹è°ƒåº¦ã€‚</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">static</span> PyObject<span class=\"token operator\">*</span> <span class=\"token function\">thread_PyThread_start_new_thread</span><span class=\"token punctuation\">(</span>PyObject <span class=\"token operator\">*</span>self<span class=\"token punctuation\">,</span> PyObject <span class=\"token operator\">*</span>fargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    PyObject <span class=\"token operator\">*</span>func<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>keyw <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">bootstate</span> <span class=\"token operator\">*</span>boot<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">long</span> ident<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">PyArg_UnpackTuple</span><span class=\"token punctuation\">(</span>fargs<span class=\"token punctuation\">,</span> <span class=\"token string\">\"start_new_thread\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>func<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>keyw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// ã€Œ1ã€: åˆ›å»º bootstate ç»“æ„</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    boot <span class=\"token operator\">=</span> <span class=\"token function\">PyMem_NEW</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">bootstate</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    boot<span class=\"token operator\">-></span>interp <span class=\"token operator\">=</span> <span class=\"token function\">PyThreadState_GET</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span>interp<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    boot<span class=\"token operator\">-></span>func <span class=\"token operator\">=</span> func<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    boot<span class=\"token operator\">-></span>args <span class=\"token operator\">=</span> args<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    boot<span class=\"token operator\">-></span>keyw <span class=\"token operator\">=</span> keyw<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// ã€Œ2ã€: åˆå§‹åŒ–å¤šçº¿ç¨‹ç¯å¢ƒ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token function\">PyEval_InitThreads</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// ã€Œ3ã€: åˆ›å»ºå­çº¿ç¨‹</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    ident <span class=\"token operator\">=</span> <span class=\"token function\">PyThread_start_new_thread</span><span class=\"token punctuation\">(</span>t_bootstrap<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> boot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">PyInt_FromLong</span><span class=\"token punctuation\">(</span>ident<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>åˆ›å»ºçº¿ç¨‹ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p>\n<ul>\n<li>åˆ›å»ºå¹¶åˆå§‹åŒ– bootstate ç»“æ„ bootï¼Œboot ä¸­ä¿å­˜äº†çº¿ç¨‹çš„è¿‡ç¨‹å’Œè¿‡ç¨‹çš„å‚æ•°ã€‚</li>\n<li>åˆå§‹åŒ– Python çš„å¤šçº¿ç¨‹ç¯å¢ƒã€‚</li>\n<li>ä»¥ boot ä¸ºå‚æ•°ï¼Œåˆ›å»ºæ“ä½œç³»ç»Ÿçš„åŸç”Ÿçº¿ç¨‹ã€‚</li>\n</ul>\n<h4 id=\"å»ºç«‹å¤šçº¿ç¨‹ç¯å¢ƒ\"><a class=\"anchor\" href=\"#å»ºç«‹å¤šçº¿ç¨‹ç¯å¢ƒ\">#</a> å»ºç«‹å¤šçº¿ç¨‹ç¯å¢ƒ</h4>\n<ul>\n<li>åˆ›å»º GILï¼Œä»¥ä¸‹æ˜¯ GIL çš„ç»“æ„</li>\n</ul>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">NRMUTEX</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    LONG owned<span class=\"token punctuation\">;</span> <span class=\"token comment\">//GIL æ˜¯å¦å¯è·å¾—ï¼Œæˆ–æ˜¯è¢«å ç”¨ -1: å¯ç”¨ 0: è¢«å ç”¨</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    DWORD thread_id<span class=\"token punctuation\">;</span> <span class=\"token comment\">// çº¿ç¨‹ id</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    HANDLE hevent<span class=\"token punctuation\">;</span> <span class=\"token comment\">// æ“ä½œç³»ç»Ÿçš„ Event å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>çº¿ç¨‹æ¯æ¬¡éœ€è¦æ‰§è¡Œå‰ï¼Œå¿…é¡»è·å– GILï¼Œé€šè¿‡  <code>PyThread_acquire_lock</code>  å‡½æ•°ã€‚  <code>PyThread_acquire_lock</code>   æœ‰ä¸¤ç§å·¥ä½œæ–¹å¼ï¼š\n<ul>\n<li>å½“æ— æ³•è·å¾— GIL æ—¶ï¼ŒæŒ‚èµ·è‡ªèº«ã€‚</li>\n<li>æ— æ³•è·å¾— GIL æ—¶ï¼Œä¸æŒ‚èµ·ã€‚</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"å­çº¿ç¨‹çš„åˆ›å»ºæ­¥éª¤\"><a class=\"anchor\" href=\"#å­çº¿ç¨‹çš„åˆ›å»ºæ­¥éª¤\">#</a> å­çº¿ç¨‹çš„åˆ›å»ºæ­¥éª¤</h5>\n<ol>\n<li>åˆ›å»º bootstate ç»“æ„ã€‚</li>\n<li>åˆå§‹åŒ–å¤šçº¿ç¨‹ç¯å¢ƒï¼ˆä¸»çº¿ç¨‹è·å¾— GIL æ§åˆ¶æƒï¼‰ã€‚</li>\n<li>åˆ›å»ºå­çº¿ç¨‹ï¼ŒåŒæ—¶æŒ‚èµ·ä¸»çº¿ç¨‹ï¼Œå­çº¿ç¨‹å¼€å§‹å®Œæˆ bootstrap çº¿ç¨‹è¿‡ç¨‹ã€‚<strong>è¿™é‡Œçš„ä¸»çº¿ç¨‹æŒ‚èµ·ï¼Œå­çº¿ç¨‹æ‰§è¡Œçº¿ç¨‹è¿‡ç¨‹çš„æ“ä½œä¸åœ¨ Python ä¸­æ–­çš„èŒƒç•´ï¼Œè€Œæ˜¯åˆ©ç”¨äº†æ“ä½œç³»ç»Ÿæœ¬èº«çš„ä¸­æ–­æœºåˆ¶ã€‚æ‰€ä»¥å­çº¿ç¨‹ä¸éœ€è¦è·å– GIL çš„æ§åˆ¶æƒ</strong>ã€‚</li>\n<li>å®Œæˆä¹‹åè·å¾— thread_idï¼Œå¹¶è®¾ç½® Semaphoreï¼Œè¿”å› thread_id ï¼ŒæŒ‚èµ·è‡ªèº«ï¼Œå¹¶å”¤é†’ä¸»çº¿ç¨‹ã€‚</li>\n<li>ä¸»çº¿ç¨‹è·å¾—å­çº¿ç¨‹çš„ thread_idï¼Œå¹¶å¼€å§‹å’Œå­çº¿ç¨‹äº‰å¤º GIL çš„æ§åˆ¶æƒï¼ˆé€šè¿‡ <code>æ—¶é’Ÿä¸­æ–­</code> ï¼‰ã€‚<strong>æ­¤æ—¶ï¼Œä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹çš„ä¸­æ–­æ‰å®Œå…¨ä¾èµ– GIL çš„æ§åˆ¶æƒæ§åˆ¶ã€‚</strong></li>\n<li>å½“å­çº¿ç¨‹è·å¾— GIL æ§åˆ¶æƒï¼Œä¸»çº¿ç¨‹è¯·æ±‚ GIL è¢«å ç”¨æ—¶ï¼Œä¸»çº¿ç¨‹æŒ‚èµ·è‡ªèº«ï¼Œå­çº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼Œå½“å­çº¿ç¨‹æ‰§è¡Œå®Œå…¨éƒ¨å†…å®¹åï¼Œå°†è¢«é‡Šæ”¾ã€‚åˆ°æ­¤ï¼Œå­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå°±å·²ç»ç»“æŸã€‚</li>\n</ol>\n<blockquote>\n<p>åœ¨å­çº¿ç¨‹æ²¡æœ‰å®Œå…¨çš„åˆ›å»ºå®Œæ¯•å‰ï¼ˆç¬¬ 4 æ­¥æ²¡æœ‰æ‰§è¡Œå®Œæ¯•ï¼‰ï¼Œä¸­æ–­æœºåˆ¶ä¸å— GIL æ§åˆ¶ã€‚</p>\n<p>çº¿ç¨‹è‡ªèº«çš„æŒ‚èµ·çŠ¶æ€ï¼Œä¸æ˜¯åœ¨å½’è¿˜ GIL æ§åˆ¶æƒåå‘ç”Ÿï¼Œè€Œæ˜¯åœ¨è¯·æ±‚ GIL æ— æœåå‘ç”Ÿã€‚</p>\n</blockquote>\n<h5 id=\"çº¿ç¨‹çŠ¶æ€ä¿æŠ¤æœºåˆ¶\"><a class=\"anchor\" href=\"#çº¿ç¨‹çŠ¶æ€ä¿æŠ¤æœºåˆ¶\">#</a> çº¿ç¨‹çŠ¶æ€ä¿æŠ¤æœºåˆ¶</h5>\n<p>ä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿè®¿é—®çº¿ç¨‹çš„çŠ¶æ€ï¼Œè·å–æ¯ä¸ªçº¿ç¨‹çš„ä¿¡æ¯ï¼ŒPython ä¸ºçº¿ç¨‹çŠ¶æ€é“¾è¡¨å•ç‹¬å®ç°äº†ä¸€å¥—é”æœºåˆ¶ï¼Œå¹¶ä¸”çº¿ç¨‹çŠ¶æ€é“¾è¡¨çš„è®¿é—®ä¸å— GIL æ§åˆ¶ã€‚</p>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20201008133920825.png\" alt=\"image-20201008133920825\" title=\"çº¿ç¨‹çŠ¶æ€å¯¹è±¡é“¾è¡¨\" /></p>\n<h3 id=\"pythonçº¿ç¨‹è°ƒåº¦\"><a class=\"anchor\" href=\"#pythonçº¿ç¨‹è°ƒåº¦\">#</a> Python çº¿ç¨‹è°ƒåº¦</h3>\n<h4 id=\"æ ‡å‡†è°ƒåº¦\"><a class=\"anchor\" href=\"#æ ‡å‡†è°ƒåº¦\">#</a> æ ‡å‡†è°ƒåº¦</h4>\n<p>é€šè¿‡å­—èŠ‚ç è®¡æ•°æ¥è§¦å‘ä¸­æ–­ï¼Œé»˜è®¤æƒ…å†µä¸‹çº¿ç¨‹æ¯æ‰§è¡Œ 100 æ¡å­—èŠ‚ç æŒ‡ä»¤ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡ä¸­æ–­ã€‚ä½†åœ¨ Python ç¨‹åºä¸­ï¼ŒæŸäº›æŒ‡ä»¤çš„æ‰§è¡Œä¸ä¼šè®¡ç®—å­—èŠ‚ç æ‰§è¡Œæ¬¡æ•°ã€‚</p>\n<h4 id=\"é˜»å¡è°ƒåº¦\"><a class=\"anchor\" href=\"#é˜»å¡è°ƒåº¦\">#</a> é˜»å¡è°ƒåº¦</h4>\n<p>é˜»å¡è°ƒåº¦å’Œæ ‡å‡†è°ƒåº¦æœ‰æ‰€ä¸åŒï¼Œæ ‡å‡†è°ƒåº¦çš„ä¸­æ–­è§¦å‘æ˜¯è¢«åŠ¨çš„ï¼Œè€Œé˜»å¡è°ƒåº¦çš„ä¸­æ–­è§¦å‘åˆ™æ˜¯ä¸»åŠ¨çš„ï¼Œå³ï¼šçº¿ç¨‹ä¸»åŠ¨å½’è¿˜ GIL çš„æ§åˆ¶æƒã€‚ä¸”è¯¸å¡è°ƒåº¦å®Œæˆåä¸ä¼šæŠŠå­—èŠ‚ç æŒ‡ä»¤æ•°é‡ç½®æˆ 100ã€‚</p>\n<p>æ­¤å¤–ç›¸æ¯”äºæ ‡å‡†è°ƒåº¦åœ¨åˆ‡æ¢çº¿ç¨‹æ—¶çš„è¿ç»­æ€§ï¼Œé˜»å¡è°ƒåº¦åœ¨ä¸»åŠ¨å½’è¿˜ GIL åˆ°ä¸‹æ¬¡æŸä¸ªçº¿ç¨‹è·å¾— GIL çš„ä¸­é—´æ®µï¼Œæ˜¯ä¼šæœ‰ä¸€ä¸ªç©ºçª—æœŸçš„ï¼Œè¿™æ®µæ—¶é—´å†…ï¼Œçº¿ç¨‹å°†è„±ç¦» GIL çš„æ§åˆ¶ï¼Œä¸è¿‡å¥½åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œæ²¡æœ‰æ¶‰åŠåˆ° Python çš„ C API è°ƒç”¨ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>\n<h3 id=\"pythonå­çº¿ç¨‹çš„é”€æ¯\"><a class=\"anchor\" href=\"#pythonå­çº¿ç¨‹çš„é”€æ¯\">#</a> Python å­çº¿ç¨‹çš„é”€æ¯</h3>\n<p>çº¿ç¨‹çš„é”€æ¯ä¼šé‡Šæ”¾å…¶å ç”¨çš„ GIL ä»¥åŠä¸€äº›çº¿ç¨‹èµ„æºå’Œç»´æŠ¤çš„çº¿ç¨‹çŠ¶æ€é“¾è¡¨å¯¹è±¡ã€‚</p>\n<p>æ­¤å¤–ï¼Œä¸»çº¿ç¨‹çš„é”€æ¯åŒæ—¶ä¹Ÿä¼šé”€æ¯ Python çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œè€Œå­çº¿ç¨‹åˆ™ä¸ä¼šã€‚</p>\n<h3 id=\"pythonçº¿ç¨‹çš„ç”¨æˆ·çº§äº’æ–¥ä¸åŒæ­¥\"><a class=\"anchor\" href=\"#pythonçº¿ç¨‹çš„ç”¨æˆ·çº§äº’æ–¥ä¸åŒæ­¥\">#</a> Python çº¿ç¨‹çš„ç”¨æˆ·çº§äº’æ–¥ä¸åŒæ­¥</h3>\n<h4 id=\"lock-å¯¹è±¡\"><a class=\"anchor\" href=\"#lock-å¯¹è±¡\">#</a> Lock å¯¹è±¡</h4>\n<p>Python çš„ Lock åˆ†ä¸ºç³»ç»Ÿçº§çš„ Lockâ€”â€”GIL å’Œ ç”¨æˆ·çº§ Lockã€‚</p>\n<p>å½“çº¿ç¨‹è¢«å”¤é†’æ—¶ï¼Œé¦–å…ˆä¼šè·å¾—ç³»ç»Ÿçº§çš„ Lock (GIL) çš„æ§åˆ¶æƒï¼Œä¹‹åä¼šå°è¯•è·å–ç”¨æˆ·çº§ lockï¼Œå¦‚æœç”¨æˆ·çº§ lock è¢«å ç”¨ï¼Œåˆ™çº¿ç¨‹ä¼šå½’è¿˜ç³»ç»Ÿçº§æ§åˆ¶æƒï¼Œé¿å…æ­»é”ã€‚</p>\n<h4 id=\"é«˜çº§çº¿ç¨‹åº“threading\"><a class=\"anchor\" href=\"#é«˜çº§çº¿ç¨‹åº“threading\">#</a> é«˜çº§çº¿ç¨‹åº“ â€”â€”threading</h4>\n<h4 id=\"threading-module-æ¦‚è¿°\"><a class=\"anchor\" href=\"#threading-module-æ¦‚è¿°\">#</a> Threading Module æ¦‚è¿°</h4>\n<p>threading module ç»´æŠ¤äº†ä¸¤ä¸ª dict å’Œä¸€ä¸ª lockï¼š</p>\n<ul>\n<li>å‡†å¤‡åˆ›å»ºçš„çº¿ç¨‹å­—å…¸ï¼š <code>_limbo[thread] = thread</code></li>\n<li>å·²ç»åˆ›å»ºçš„çº¿ç¨‹å­—å…¸ï¼š <code>_active[thread_id] = thread</code></li>\n<li>è®¿é—®çº¿ç¨‹çŠ¶æ€é“¾è¡¨çš„é”ï¼š <code>_active_limbo_lock</code></li>\n</ul>\n<h4 id=\"threading-çš„çº¿ç¨‹åŒæ­¥å·¥å…·\"><a class=\"anchor\" href=\"#threading-çš„çº¿ç¨‹åŒæ­¥å·¥å…·\">#</a> Threading çš„çº¿ç¨‹åŒæ­¥å·¥å…·</h4>\n<ul>\n<li>\n<p><code>RLock</code> ï¼šæ­£å¸¸çš„ lock ä¸€ä¸ª acquire å¯¹åº”äº ä¸€ä¸ª releaseï¼Œå¦‚æœåŒæ—¶æ‰§è¡Œä¸¤ä¸ª acquire è€Œä¸ releaseï¼Œåˆ™ä¼šå‡ºç°æ­»é”ã€‚RLock åˆ™æä¾›äº†å¯ç”¨å¤šæ¬¡ acquire åå†å¤šæ¬¡ release æ“ä½œçš„æœºåˆ¶ã€‚ä¸å¿…æ¯æ¬¡å€Ÿé’±ä¹‹å‰éƒ½å¾—æŠŠä¸Šæ¬¡æ¬ çš„è¿˜æ¸…ï¼Œå¯ä»¥å…ˆå€Ÿå¤šæ¬¡ï¼Œå†è¿˜å¤šæ¬¡ã€‚</p>\n</li>\n<li>\n<p><code>Condition</code> ï¼šæœ¬è´¨ä¸Šæ—¶ä¸€ä¸ª  <code>Lock</code>  å¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯  <code>RLock</code> ï¼Œæä¾›äº†  <code>wait</code>  å’Œ  <code>notify</code>  æ“ä½œï¼Œå¯ç”¨åœ¨åˆ«çš„çº¿ç¨‹ä¸­ä¸»åŠ¨å”¤é†’å…¶ä»–çº¿ç¨‹ã€‚</p>\n<ul>\n<li><code>ConditionA.wait</code> ï¼šA çº¿ç¨‹è°ƒç”¨æ—¶ï¼Œé‡Šæ”¾  <code>ConditonA</code>  ä¸­çš„  <code>Lock</code>  å¹¶æŒ‚èµ·çº¿ç¨‹ Aã€‚</li>\n<li><code>ConditionA.notify</code> ï¼šå…¶ä»–çº¿ç¨‹è°ƒç”¨æ—¶ï¼Œè·å¾—  <code>ConditonA</code>  ä¸­çš„  <code>Lock</code>  å¹¶å”¤é†’çº¿ç¨‹ Aã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>Semaphore</code> ï¼šç±»ä¼¼ä¿¡å·é‡ï¼Œå®ç°æœºåˆ¶ä¹Ÿæ˜¯åŸºäº  <code>Lock</code> ï¼Œå†…éƒ¨ç»´æŠ¤ä¸€ä¸ª  <code>Conidtion</code>  å¯¹è±¡ï¼Œä½†ä¸ Lock çš„äº’æ–¥ä¸åŒï¼Œå…¶å¯ä»¥æ”¯æŒå¤šä¸ªçº¿ç¨‹è·å¾—èµ„æºã€‚èµ„æºæ± çš„æ¦‚å¿µã€‚</p>\n</li>\n<li>\n<p><code>Event</code> ï¼šå’Œ Semaphore ç±»å‹ï¼Œæä¾›  <code>set</code>  å’Œ  <code>wait</code>  è¯­ä¹‰ã€‚</p>\n</li>\n</ul>\n<h2 id=\"pythonçš„åƒåœ¾å›æ”¶gc\"><a class=\"anchor\" href=\"#pythonçš„åƒåœ¾å›æ”¶gc\">#</a> python çš„åƒåœ¾å›æ”¶ GC</h2>\n<h3 id=\"block\"><a class=\"anchor\" href=\"#block\">#</a> block</h3>\n<ul>\n<li>ç”¨äºå­˜æ”¾å¯¹è±¡çš„æœ€å°å•ä½ã€‚</li>\n<li>é’ˆå¯¹ä¸åŒ size çš„æ•°æ®è¿›è¡Œåˆ†ç±»å­˜å‚¨çš„å—ã€‚æ•°æ®å¤§å°ä¸º 8 çš„æ•´æ•°å€ï¼Œæœ€å¤§ä¸º 256 å­—èŠ‚ã€‚</li>\n<li>å¦‚æœå†…å­˜å¤§å°â‰¤256ï¼Œåˆ™ python ä¼šé€šè¿‡ PyObject_Malloc å»åˆ†é…ã€‚å¦‚æœ &gt; 256 å­—èŠ‚ï¼Œåˆ™ä¼šä½¿ç”¨ malloc æ¥åˆ†é…å†…å­˜ã€‚</li>\n<li>size æœ‰ 32 ç§ï¼ˆ0~31ï¼‰ä¹‹åçš„ç‰ˆæœ¬æ‰©å……åˆ°äº† 63ï¼ˆ512 å­—èŠ‚ï¼‰ã€‚</li>\n<li>ç»™å¯¹è±¡åˆ†é…çš„ç©ºé—´ä¸€èˆ¬ä¼šè¶…è¿‡åŸæœ¬å¤§å°ï¼Œå‘ä¸Šå– 8 çš„æ•´æ•°å€ã€‚</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/Image(68).png\" alt=\"c87bfa632b2c7e3254911863fbe36e55.png\" /></p>\n<h3 id=\"pool\"><a class=\"anchor\" href=\"#pool\">#</a> pool</h3>\n<ul>\n<li>\n<p>åŒä¸€ä¸ª pool ä¸­çš„ block å¤§å°å¿…é¡»ç»Ÿä¸€ã€‚<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/Image(69).png\" alt=\"7b94ea10747352b5100ca504cdf76571.png\" /></p>\n</li>\n<li>\n<p>pool çš„å¤§å°ä¸€èˆ¬ä¸º 4kbã€‚</p>\n</li>\n<li>\n<p>ç®¡ç† block çš„æŒ‡é’ˆåˆ†ä¸ºå››ç§ï¼š</p>\n<ul>\n<li>bp æŒ‡é’ˆï¼šæŒ‡å‘å½“å‰ä½¿ç”¨ blockã€‚</li>\n<li>free æŒ‡é’ˆï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªå¯ç”¨ blockï¼Œfree æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹å†…çš„å€¼ä¸º Null æˆ–è€…æ˜¯ä¸‹ä¸€ä¸ªç©ºé—²çš„ block åœ°å€ã€‚</li>\n<li>next æŒ‡é’ˆï¼šæŒ‡å‘ free çš„ä¸‹ä¸€ä¸ªç©ºé—² blockï¼Œä¸€èˆ¬æ˜¯åœ¨å½“ free å†…çš„å€¼ä¸º Null çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿç”³è¯·æ–°ç©ºé—² block åï¼Œç»™ free ä½œå®šä½ç”¨çš„ã€‚</li>\n<li>maxnext æŒ‡é’ˆï¼šæŒ‡å‘ block çš„æœ€åä¸€ä¸ª block çš„é¦–åœ°å€ã€‚ç”¨äºåˆ¤æ–­ block æ˜¯å¦å·²ç»å…¨éƒ¨åˆ†é…å®Œæ¯•ã€‚<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/Image(70).png\" alt=\"ba149b720cee23ad2d08f6d95bb29524.png\" /></li>\n</ul>\n</li>\n<li>\n<p>pool çš„ç»“æ„æ˜¯ç”±ä¸€ä¸ª pool_header å’Œä¸€å † block ç»„æˆçš„æ•°ç»„ã€‚å®ƒä»¬æ˜¯ä¸€ä¸ªæ•´ä½“ã€‚</p>\n</li>\n<li>\n<p>pool çš„çŠ¶æ€ï¼š</p>\n<ul>\n<li>used çŠ¶æ€ã€‚pool ä¸­å³å­˜åœ¨è¢«ä½¿ç”¨çš„ blockï¼Œä¹Ÿå­˜åœ¨æœªè¢«ä½¿ç”¨çš„ blockã€‚</li>\n<li>full çŠ¶æ€ã€‚pool ä¸­æ‰€æœ‰ block éƒ½åœ¨è¢«ä½¿ç”¨ã€‚</li>\n<li>empty çŠ¶æ€ã€‚pool ä¸­æ‰€æœ‰ block éƒ½æœªè¢«ä½¿ç”¨ã€‚</li>\n</ul>\n</li>\n<li>\n<p>usedpoolsã€‚æ‰€æœ‰æ­£åœ¨è¢«ä½¿ç”¨çš„ pool çš„åŒå‘é“¾è¡¨å¤´ã€‚æœ¬èº«æ˜¯ä¸€ä¸ª pool_header * ç»„æˆçš„æ•°ç»„ï¼Œé€šè¿‡ä¸€ç‚¹å–å·§çš„æ–¹å¼æŠŠæ¯ä¸ªæŒ‡é’ˆå’Œå…¶å‰é¢ 2 ä¸ªä½ç½®çš„æŒ‡é’ˆä¸€èµ·è§†ä¸ºä¸€ä¸ª pool_header å¯¹è±¡ä»è€Œæ„æˆä¸€ä¸ªç©ºçš„åŒå‘é“¾è¡¨ã€‚</p>\n</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200919154449909.png\" alt=\"image-20200919154449909\" /></p>\n<h3 id=\"arena\"><a class=\"anchor\" href=\"#arena\">#</a> arena</h3>\n<ul>\n<li>\n<p>å¤šä¸ª pool çš„ç®¡ç†è€…ï¼Œæ¯ä¸ª arena çš„ pool å¯ä»¥å­˜åœ¨å¤šä¸ªä¸åŒçš„ <code>size class index</code> ã€‚<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200919154538226.png\" alt=\"image-20200919154538226\" /></p>\n</li>\n<li>\n<p>ä¸€ä¸ª arena çš„å¤§å°ä¸º 256kï¼Œå¯å®¹çº³ 64 ä¸ª poolã€‚<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200919154553555.png\" alt=\"image-20200919154553555\" /></p>\n</li>\n<li>\n<p>arena çš„ç»“æ„æ˜¯ç”±ä¸€ä¸ª arena_object æŒ‡é’ˆå’Œä¸€å † pool ç»„æˆçš„æ•°ç»„æ„æˆã€‚ä¸åƒ pool ä¸€æ ·ï¼Œarena çš„æŒ‡é’ˆå’Œå†…å­˜æ˜¯åˆ†ç¦»çš„ã€‚</p>\n</li>\n<li>\n<p>arena æœ‰ä¸¤ç§çŠ¶æ€</p>\n<ul>\n<li>æœªä½¿ç”¨çŠ¶æ€ï¼šarena_object æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘å¯¹åº”çš„ pool ç»„æˆçš„æ•°ç»„å—ã€‚</li>\n<li>ä½¿ç”¨çŠ¶æ€ï¼šarena_object æŒ‡é’ˆå·²ç»æŒ‡å‘å¯¹åº”çš„ pool ç»„æˆçš„æ•°ç»„å—ã€‚</li>\n</ul>\n</li>\n</ul>\n<p><img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200919154614444.png\" alt=\"image-20200919154614444\" /><br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200919154634438.png\" alt=\"image-20200919154634438\" /></p>\n<h3 id=\"arenas\"><a class=\"anchor\" href=\"#arenas\">#</a> arenas</h3>\n<ul>\n<li>ç®¡ç†å¤šä¸ª arena çš„å¯¹è±¡æŒ‡é’ˆçš„æ•°ç»„ã€‚</li>\n<li>æŠŠ arena åˆ†ä¸ºä¸¤ç§çŠ¶æ€ï¼š\n<ul>\n<li>æœªä½¿ç”¨çŠ¶æ€ï¼šé€šè¿‡ arenas çš„ unused_arena_objects æŒ‡é’ˆä½œä¸ºè¡¨å¤´çš„å•å‘é“¾è¡¨æ‰€è¿æ¥</li>\n<li>ä½¿ç”¨çŠ¶æ€ï¼šé€šè¿‡ arenas çš„ used_arena_objects æŒ‡é’ˆä½œä¸ºè¡¨å¤´çš„åŒå‘é“¾è¡¨æ‰€è¿æ¥</li>\n</ul>\n</li>\n<li>å¤šä¸ª arenas é€šè¿‡åä¸º nextarena å’Œ prevatrena çš„æŒ‡é’ˆæ‰€è”ç³»åœ¨ä¸€èµ·ã€‚</li>\n<li>åˆå§‹åŒ–æ—¶åˆ›å»ºçš„ arena çš„æ•°é‡ä¸º 16 ä¸ªã€‚ä¹‹åå¦‚æœæœªä½¿ç”¨çš„ arena ä¸è¶³æ—¶ï¼Œä¼šè¿›è¡ŒäºŒå€çš„æ‰©å®¹ã€‚</li>\n<li>æ‰©å®¹æ“ä½œåªä¼šåˆ›å»º arena çš„æŒ‡é’ˆï¼Œåªæœ‰åœ¨ arena å°†è¦è¢«ä½¿ç”¨æ—¶ï¼Œæ‰ä¼šå»åˆ†é…ä¸€ä¸ª 256k çš„å¤§å°ã€‚</li>\n<li>å½“å‰ç®¡ç†çš„ arena çš„æ€»æ•°æ˜¯ç”±ä¸€ä¸ª int ç±»å‹çš„å˜é‡æ§åˆ¶ã€‚æ¯æ¬¡æ‰©å®¹å·¦ç§»ä¸€ä½ã€‚å½“å‘ç”Ÿæº¢å‡ºï¼ˆè¶…è¿‡ 2**32 æˆ–è€…åˆ†é…çš„ç©ºé—´ä¸è¶³ä¸€ä¸ª arenas çš„å¤§å°ï¼‰æ—¶åœæ­¢æ‰©å®¹æ“ä½œã€‚<br />\n<img data-src=\"https://gitee.com/allengx/pic_bed/raw/master/img/image-20200919154653554.png\" alt=\"image-20200919154653554\" /></li>\n</ul>\n<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3drbGtlbi5tZS9wb3N0cy8yMDE1LzA4LzI5L3B5dGhvbi1zb3VyY2UtbWVtb3J5LTEuaHRtbA==\">http://wklken.me/posts/2015/08/29/python-source-memory-1.html</span></p>\n<p>å‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cDovL3drbGtlbi5tZS9wb3N0cy8yMDE1LzA4LzI5L3B5dGhvbi1zb3VyY2UtbWVtb3J5LTIuaHRtbA==\">http://wklken.me/posts/2015/08/29/python-source-memory-2.html</span></p>\n<h3 id=\"åƒåœ¾å›æ”¶gc\"><a class=\"anchor\" href=\"#åƒåœ¾å›æ”¶gc\">#</a> åƒåœ¾å›æ”¶ï¼ˆGCï¼‰</h3>\n<h4 id=\"1-æ ‡è®°æ¸…é™¤marksweep\"><a class=\"anchor\" href=\"#1-æ ‡è®°æ¸…é™¤marksweep\">#</a> 1ã€æ ‡è®°æ¸…é™¤ï¼ˆMarkâ€”â€”Sweepï¼‰</h4>\n<ul>\n<li>å¯»æ‰¾æ ¹å¯¹è±¡é›†åˆ\n<ul>\n<li>é‡‡ç”¨åŒå‘é“¾è¡¨å­˜å‚¨æ‰€æœ‰ container å¯¹è±¡</li>\n<li>ä¸ºæ­¤æ¯ä¸ª container å¯¹è±¡å¤´éƒ¨éƒ½å­˜åœ¨ä¸€ä¸ª PyGC_Head çš„æ•°æ®å—ï¼ˆåœ¨ PyObject_Head ä¹‹å‰ï¼‰</li>\n</ul>\n</li>\n<li>å¯»æ‰¾å¯è¾¾å¯¹è±¡å’Œä¸å¯è¾¾å¯¹è±¡</li>\n<li>å¹¿åº¦æ¢æµ‹</li>\n<li>å¯¹äºé container å¯¹è±¡ä¸è¿›è¡Œæ£€æŸ¥\n<ul>\n<li>ä¸€ä¸ªå¯¹è±¡å¦‚æœä¸èƒ½å­˜å‚¨å…¶ä»–å¯¹è±¡çš„å¼•ç”¨åˆ™è¢«è§†ä¸ºé container å¯¹è±¡</li>\n</ul>\n</li>\n<li>å¯¹äºå¯è¾¾å¯¹è±¡è¿›è¡Œä¿ç•™ï¼Œä¸å¯è¾¾å¯¹è±¡è¿›è¡Œå›æ”¶ã€‚</li>\n</ul>\n<h4 id=\"2-åˆ†ä»£çš„åƒåœ¾æ”¶é›†pythonçš„è§£å†³åŠæ³•\"><a class=\"anchor\" href=\"#2-åˆ†ä»£çš„åƒåœ¾æ”¶é›†pythonçš„è§£å†³åŠæ³•\">#</a> 2ã€åˆ†ä»£çš„åƒåœ¾æ”¶é›† â€”â€”python çš„è§£å†³åŠæ³•</h4>\n<ul>\n<li>\n<p>æ ¸å¿ƒæ€æƒ³ï¼š</p>\n<ul>\n<li>æ ¹æ®å†…å­˜çš„åˆ›å»ºæ—¶é—´åˆ’åˆ†ä¸ºä¸åŒçš„ã€Œä»£ã€</li>\n<li>æ—¶é—´è¶Šã€Œé•¿ã€çš„å¯¹è±¡å…¶è¢«å›æ”¶çš„æ¦‚ç‡å°±ã€Œå°ã€ã€‚</li>\n<li>ç»è¿‡å¤šæ¬¡åƒåœ¾å›æ”¶ã€Œå­˜æ´»ã€ä¸‹æ¥çš„å¯¹è±¡åˆ™ä¼šè¢«åˆ†é…åˆ°å›æ”¶å‘¨æœŸæ›´ã€Œé•¿ã€çš„ä»£ä¸­ã€‚</li>\n<li>æ¯ä¸ªã€Œä»£ã€åœ¨ python ä¸­å¯¹åº”çš„æ˜¯ä¸€ä¸ªã€Œé“¾è¡¨ã€ï¼Œpython æ€»å…±æŠŠä»£åˆ†ä¸ºä¸‰ä¸ªã€‚</li>\n<li>ç¬¬ã€Œ0ã€ä¸ªä»£çš„é“¾è¡¨é•¿åº¦è¶…è¿‡ 700 æ—¶ä¼šè§¦å‘åƒåœ¾å›æ”¶ï¼ˆç¬¬ä¸€ã€äºŒä»£éƒ½æ˜¯ 10ï¼‰ã€‚python è¿˜ä¼šå€Ÿæ­¤æœºä¼šæ¸…ç†å…¶ä»–çš„ä»£ã€‚</li>\n<li>python å¯¹ä»£çš„æ¸…ç†æ˜¯é€šè¿‡æŠŠç¬¬ 2 ä»£åˆ°ç¬¬ 0 ä»£çš„ä¸‰ä¸ªé“¾è¡¨ï¼ˆä¹Ÿå¯èƒ½ä¸è¶³ä¸‰ä¸ªï¼‰è¿›è¡Œ mergeã€‚æœ€ç»ˆé“¾æ¥åˆ°ç¬¬ 2 ä»£çš„é“¾è¡¨åï¼Œä¸€å£æ°”æ‰§è¡Œåƒåœ¾å›æ”¶ï¼Œæ‰“ä¸Šå›æ”¶æ ‡è®°ã€‚</li>\n<li>æ‰“ä¸Šä¸å¯å›æ”¶æ ‡è®°ã€‚é€šè¿‡æœ‰æ•ˆå¼•ç”¨è®¡æ•°ï¼ŒæŠŠè®¡æ•°ä¸ä¸ºã€Œ0ã€çš„å¯¹è±¡æ‰“ä¸Šä¸å¯å›æ”¶æ ‡è®°ã€‚</li>\n<li>æŠŠä¸å¯å›æ”¶å¯¹è±¡å•ç‹¬å­˜æ”¾åœ¨ä¸€ä¸ªé›†åˆå†…ã€‚å¹¶æŠŠè¿™äº›å¯¹è±¡ä¸­æ‰€å¼•ç”¨çš„å¯¹è±¡ï¼ˆå¹¶ä¸”è¿™äº›å¼•ç”¨å¯¹è±¡æ‰“ä¸Šäº†å¯å›æ”¶æ ‡è®°ï¼‰ï¼Œä¹ŸåŠ å…¥è¿™ä¸ªé›†åˆï¼ˆåŒå‘é“¾è¡¨ï¼‰ã€‚</li>\n<li>å¯¹äºå®šä¹‰äº†ã€Œ <code>__del__</code> ã€çš„å¯¹è±¡ï¼ˆfinalizer å¯¹è±¡ï¼‰éœ€è¦å•ç‹¬ç”¨ä¸€ä¸ª PyListObject æ¥å­˜æ”¾ï¼Œåœ¨åˆ é™¤ finalizer å¯¹è±¡çš„æ—¶å€™å…ˆæ‰£é™¤è¯¥å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå¹¶æ¸…ç†å¼•ç”¨åˆ—è¡¨ï¼Œå¾…åˆ°å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶å†è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œä¿è¯å›æ”¶å¯¹è±¡å·²ç»ä¸è¢«ä»»ä½•å¯¹è±¡å¼•ç”¨ã€‚</li>\n<li>ä¸‰ç§å­˜å‚¨å›æ”¶å¯¹è±¡çš„é“¾è¡¨ï¼š\n<ul>\n<li>reachableï¼šä¿å­˜æ¯æ¬¡éœ€è¦å›æ”¶çš„æ‰€æœ‰å¯¹è±¡ã€‚</li>\n<li>unreachableï¼šä¿å­˜åŒå‘å¼•ç”¨çš„å›æ”¶å¯¹è±¡ã€‚</li>\n<li>uncollectableï¼šä¿å­˜å¸¦æœ‰ã€Œ <code>__del__</code> ã€å‡½æ•°çš„åŒå‘å¼•ç”¨å¯¹è±¡ã€‚</li>\n</ul>\n</li>\n<li>æ­£å¸¸æƒ…å†µä¸‹çš„å¯¹è±¡ä¼šåœ¨è®¡æ•°ä¸º 0 çš„æ—¶å€™å°±è¢«é”€æ¯ï¼Œæ‰€ä»¥å­˜åœ¨äº <code>root object</code>  çš„å¯¹è±¡éƒ½æ˜¯åŒå‘å¼•ç”¨æˆ–è€…è¢«ç³»ç»Ÿå¼•ç”¨çš„å¯¹è±¡ã€‚åè€…ä¸€èˆ¬ä¸ä¼šè¢«å›æ”¶ã€‚</li>\n</ul>\n</li>\n<li>\n<p>æœ‰æ•ˆå¼•ç”¨è®¡æ•°ï¼ˆè§£å†³åƒåœ¾å›æ”¶æ—¶ç¯å¼•ç”¨ï¼‰ï¼š</p>\n<ul>\n<li>éå†æ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼ˆåœ¨ root object é›†åˆä¸­ï¼‰ã€‚æ ¹æ®å¯¹è±¡ç±»å‹ï¼Œåˆ¤æ–­æ¯ä¸ªå¯¹è±¡å†…çš„å¼•ç”¨ æ˜¯å¦ä¹Ÿæ˜¯éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å¯¹ä»–çš„å¼•ç”¨è®¡æ•°ã€Œå‰¯æœ¬ã€è¿›è¡Œã€Œ <code>--</code> ã€æ“ä½œï¼Œæœ€ç»ˆå¼•ç”¨è®¡æ•°å‰¯æœ¬ä¸ºã€Œ0ã€çš„å¯¹è±¡å°†è¢«è§†ä¸ºå¯èƒ½éœ€è¦å›æ”¶ã€‚</li>\n</ul>\n</li>\n<li>\n<p>æ³¨æ„äº‹é¡¹ï¼š</p>\n<ul>\n<li>python åœ¨å›æ”¶åƒåœ¾çš„æ—¶å€™æ²¡åŠæ³•ä¿è¯é¡ºåºï¼Œå°½é‡é¿å…åœ¨ã€Œ <code>__del__</code> ã€ä¸­å¼•ç”¨å…¶ä»–å¯¹è±¡ã€‚</li>\n<li>python2.7 å’Œ python3.+ å¯¹äºæ‰§è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œåœ¨ã€Œ <code>__del__</code> ã€ä¸­å¼•ç”¨å…¶ä»–å¯¹è±¡è¿™ä¸€æ“ä½œæ‰€ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæœ‰æ‰€ä¸åŒã€‚</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "å­¦ä¹ ç¬”è®°",
                "Python",
                "Python",
                "æºç "
            ]
        }
    ]
}